var ww=Object.defineProperty;var Sw=(n,e,t)=>e in n?ww(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ue=(n,e,t)=>Sw(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function gy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dh={exports:{}},vr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function kw(){if(hp)return vr;hp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return vr.Fragment=e,vr.jsx=t,vr.jsxs=t,vr}var dp;function Ew(){return dp||(dp=1,Dh.exports=kw()),Dh.exports}var b=Ew(),Lh={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function Tw(){if(fp)return fe;fp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(N,I,D){this.props=N,this.context=I,this.refs=S,this.updater=D||w}T.prototype.isReactComponent={},T.prototype.setState=function(N,I){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,I,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=T.prototype;function A(N,I,D){this.props=N,this.context=I,this.refs=S,this.updater=D||w}var P=A.prototype=new j;P.constructor=A,E(P,T.prototype),P.isPureReactComponent=!0;var q=Array.isArray;function Y(){}var V={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function J(N,I,D){var K=D.ref;return{$$typeof:n,type:N,key:I,ref:K!==void 0?K:null,props:D}}function he(N,I){return J(N.type,I,N.props)}function re(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ce(N){var I={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(D){return I[D]})}var Pe=/\/+/g;function Ge(N,I){return typeof N=="object"&&N!==null&&N.key!=null?ce(""+N.key):I.toString(36)}function ke(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Y,Y):(N.status="pending",N.then(function(I){N.status==="pending"&&(N.status="fulfilled",N.value=I)},function(I){N.status==="pending"&&(N.status="rejected",N.reason=I)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function B(N,I,D,K,ee){var Z=typeof N;(Z==="undefined"||Z==="boolean")&&(N=null);var _e=!1;if(N===null)_e=!0;else switch(Z){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(N.$$typeof){case n:case e:_e=!0;break;case p:return _e=N._init,B(_e(N._payload),I,D,K,ee)}}if(_e)return ee=ee(N),_e=K===""?"."+Ge(N,0):K,q(ee)?(D="",_e!=null&&(D=_e.replace(Pe,"$&/")+"/"),B(ee,I,D,"",function(Ta){return Ta})):ee!=null&&(re(ee)&&(ee=he(ee,D+(ee.key==null||N&&N.key===ee.key?"":(""+ee.key).replace(Pe,"$&/")+"/")+_e)),I.push(ee)),1;_e=0;var et=K===""?".":K+":";if(q(N))for(var Ue=0;Ue<N.length;Ue++)K=N[Ue],Z=et+Ge(K,Ue),_e+=B(K,I,D,Z,ee);else if(Ue=_(N),typeof Ue=="function")for(N=Ue.call(N),Ue=0;!(K=N.next()).done;)K=K.value,Z=et+Ge(K,Ue++),_e+=B(K,I,D,Z,ee);else if(Z==="object"){if(typeof N.then=="function")return B(ke(N),I,D,K,ee);throw I=String(N),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return _e}function X(N,I,D){if(N==null)return N;var K=[],ee=0;return B(N,K,"","",function(Z){return I.call(D,Z,ee++)}),K}function se(N){if(N._status===-1){var I=N._result;I=I(),I.then(function(D){(N._status===0||N._status===-1)&&(N._status=1,N._result=D)},function(D){(N._status===0||N._status===-1)&&(N._status=2,N._result=D)}),N._status===-1&&(N._status=0,N._result=I)}if(N._status===1)return N._result.default;throw N._result}var be=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},xe={map:X,forEach:function(N,I,D){X(N,function(){I.apply(this,arguments)},D)},count:function(N){var I=0;return X(N,function(){I++}),I},toArray:function(N){return X(N,function(I){return I})||[]},only:function(N){if(!re(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return fe.Activity=y,fe.Children=xe,fe.Component=T,fe.Fragment=t,fe.Profiler=r,fe.PureComponent=A,fe.StrictMode=i,fe.Suspense=d,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,fe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return V.H.useMemoCache(N)}},fe.cache=function(N){return function(){return N.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(N,I,D){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=E({},N.props),ee=N.key;if(I!=null)for(Z in I.key!==void 0&&(ee=""+I.key),I)!W.call(I,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&I.ref===void 0||(K[Z]=I[Z]);var Z=arguments.length-2;if(Z===1)K.children=D;else if(1<Z){for(var _e=Array(Z),et=0;et<Z;et++)_e[et]=arguments[et+2];K.children=_e}return J(N.type,ee,K)},fe.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},fe.createElement=function(N,I,D){var K,ee={},Z=null;if(I!=null)for(K in I.key!==void 0&&(Z=""+I.key),I)W.call(I,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=I[K]);var _e=arguments.length-2;if(_e===1)ee.children=D;else if(1<_e){for(var et=Array(_e),Ue=0;Ue<_e;Ue++)et[Ue]=arguments[Ue+2];ee.children=et}if(N&&N.defaultProps)for(K in _e=N.defaultProps,_e)ee[K]===void 0&&(ee[K]=_e[K]);return J(N,Z,ee)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(N){return{$$typeof:h,render:N}},fe.isValidElement=re,fe.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:se}},fe.memo=function(N,I){return{$$typeof:f,type:N,compare:I===void 0?null:I}},fe.startTransition=function(N){var I=V.T,D={};V.T=D;try{var K=N(),ee=V.S;ee!==null&&ee(D,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Y,be)}catch(Z){be(Z)}finally{I!==null&&D.types!==null&&(I.types=D.types),V.T=I}},fe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},fe.use=function(N){return V.H.use(N)},fe.useActionState=function(N,I,D){return V.H.useActionState(N,I,D)},fe.useCallback=function(N,I){return V.H.useCallback(N,I)},fe.useContext=function(N){return V.H.useContext(N)},fe.useDebugValue=function(){},fe.useDeferredValue=function(N,I){return V.H.useDeferredValue(N,I)},fe.useEffect=function(N,I){return V.H.useEffect(N,I)},fe.useEffectEvent=function(N){return V.H.useEffectEvent(N)},fe.useId=function(){return V.H.useId()},fe.useImperativeHandle=function(N,I,D){return V.H.useImperativeHandle(N,I,D)},fe.useInsertionEffect=function(N,I){return V.H.useInsertionEffect(N,I)},fe.useLayoutEffect=function(N,I){return V.H.useLayoutEffect(N,I)},fe.useMemo=function(N,I){return V.H.useMemo(N,I)},fe.useOptimistic=function(N,I){return V.H.useOptimistic(N,I)},fe.useReducer=function(N,I,D){return V.H.useReducer(N,I,D)},fe.useRef=function(N){return V.H.useRef(N)},fe.useState=function(N){return V.H.useState(N)},fe.useSyncExternalStore=function(N,I,D){return V.H.useSyncExternalStore(N,I,D)},fe.useTransition=function(){return V.H.useTransition()},fe.version="19.2.3",fe}var mp;function zd(){return mp||(mp=1,Lh.exports=Tw()),Lh.exports}var R=zd();const py=gy(R);var zh={exports:{}},xr={},Uh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function jw(){return gp||(gp=1,(function(n){function e(B,X){var se=B.length;B.push(X);e:for(;0<se;){var be=se-1>>>1,xe=B[be];if(0<r(xe,X))B[be]=X,B[se]=xe,se=be;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],se=B.pop();if(se!==X){B[0]=se;e:for(var be=0,xe=B.length,N=xe>>>1;be<N;){var I=2*(be+1)-1,D=B[I],K=I+1,ee=B[K];if(0>r(D,se))K<xe&&0>r(ee,D)?(B[be]=ee,B[K]=se,be=K):(B[be]=D,B[I]=se,be=I);else if(K<xe&&0>r(ee,se))B[be]=ee,B[K]=se,be=K;else break e}}return X}function r(B,X){var se=B.sortIndex-X.sortIndex;return se!==0?se:B.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],f=[],p=1,y=null,v=3,_=!1,w=!1,E=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var X=t(f);X!==null;){if(X.callback===null)i(f);else if(X.startTime<=B)i(f),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(f)}}function q(B){if(E=!1,P(B),!w)if(t(d)!==null)w=!0,Y||(Y=!0,ce());else{var X=t(f);X!==null&&ke(q,X.startTime-B)}}var Y=!1,V=-1,W=5,J=-1;function he(){return S?!0:!(n.unstable_now()-J<W)}function re(){if(S=!1,Y){var B=n.unstable_now();J=B;var X=!0;try{e:{w=!1,E&&(E=!1,j(V),V=-1),_=!0;var se=v;try{t:{for(P(B),y=t(d);y!==null&&!(y.expirationTime>B&&he());){var be=y.callback;if(typeof be=="function"){y.callback=null,v=y.priorityLevel;var xe=be(y.expirationTime<=B);if(B=n.unstable_now(),typeof xe=="function"){y.callback=xe,P(B),X=!0;break t}y===t(d)&&i(d),P(B)}else i(d);y=t(d)}if(y!==null)X=!0;else{var N=t(f);N!==null&&ke(q,N.startTime-B),X=!1}}break e}finally{y=null,v=se,_=!1}X=void 0}}finally{X?ce():Y=!1}}}var ce;if(typeof A=="function")ce=function(){A(re)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Ge=Pe.port2;Pe.port1.onmessage=re,ce=function(){Ge.postMessage(null)}}else ce=function(){T(re,0)};function ke(B,X){V=T(function(){B(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(B){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var se=v;v=X;try{return B()}finally{v=se}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=v;v=B;try{return X()}finally{v=se}},n.unstable_scheduleCallback=function(B,X,se){var be=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,B){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=se+xe,B={id:p++,callback:X,priorityLevel:B,startTime:se,expirationTime:xe,sortIndex:-1},se>be?(B.sortIndex=se,e(f,B),t(d)===null&&B===t(f)&&(E?(j(V),V=-1):E=!0,ke(q,se-be))):(B.sortIndex=xe,e(d,B),w||_||(w=!0,Y||(Y=!0,ce()))),B},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(B){var X=v;return function(){var se=v;v=X;try{return B.apply(this,arguments)}finally{v=se}}}})(Bh)),Bh}var pp;function Ow(){return pp||(pp=1,Uh.exports=jw()),Uh.exports}var Hh={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function Aw(){if(bp)return xt;bp=1;var n=zd();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:f,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xt.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,p)},xt.flushSync=function(d){var f=c.T,p=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=f,i.p=p,i.d.f()}},xt.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},xt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},xt.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,y=h(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):p==="script"&&i.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},xt.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=h(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},xt.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=h(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},xt.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=h(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},xt.requestFormReset=function(d){i.d.r(d)},xt.unstable_batchedUpdates=function(d,f){return d(f)},xt.useFormState=function(d,f,p){return c.H.useFormState(d,f,p)},xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var yp;function Cw(){if(yp)return Hh.exports;yp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hh.exports=Aw(),Hh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Nw(){if(vp)return xr;vp=1;var n=Ow(),e=zd(),t=Cw();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return d(m),s;if(g===u)return d(m),a;g=g.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=g;else{for(var x=!1,k=m.child;k;){if(k===l){x=!0,l=m,u=g;break}if(k===u){x=!0,u=m,l=g;break}k=k.sibling}if(!x){for(k=g.child;k;){if(k===l){x=!0,l=g,u=m;break}if(k===u){x=!0,u=g,l=m;break}k=k.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var Pe=Symbol.for("react.client.reference");function Ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Pe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case Y:return"SuspenseList";case J:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case A:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case P:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return a=s.displayName||null,a!==null?a:Ge(s.type)||"Memo";case W:a=s._payload,s=s._init;try{return Ge(s(a))}catch{}}return null}var ke=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},be=[],xe=-1;function N(s){return{current:s}}function I(s){0>xe||(s.current=be[xe],be[xe]=null,xe--)}function D(s,a){xe++,be[xe]=s.current,s.current=a}var K=N(null),ee=N(null),Z=N(null),_e=N(null);function et(s,a){switch(D(Z,a),D(ee,s),D(K,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Dg(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Dg(a),s=Lg(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}I(K),D(K,s)}function Ue(){I(K),I(ee),I(Z)}function Ta(s){s.memoizedState!==null&&D(_e,s);var a=K.current,l=Lg(a,s.type);a!==l&&(D(ee,s),D(K,l))}function tl(s){ee.current===s&&(I(K),I(ee)),_e.current===s&&(I(_e),gr._currentValue=se)}var pc,uf;function Us(s){if(pc===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);pc=a&&a[1]||"",uf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pc+s+uf}var bc=!1;function yc(s,a){if(!s||bc)return"";bc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(H){var U=H}Reflect.construct(s,[],G)}else{try{G.call()}catch(H){U=H}s.call(G.prototype)}}else{try{throw Error()}catch(H){U=H}(G=s())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],k=g[1];if(x&&k){var O=x.split(`
`),z=k.split(`
`);for(m=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;m<z.length&&!z[m].includes("DetermineComponentFrameRoot");)m++;if(u===O.length||m===z.length)for(u=O.length-1,m=z.length-1;1<=u&&0<=m&&O[u]!==z[m];)m--;for(;1<=u&&0<=m;u--,m--)if(O[u]!==z[m]){if(u!==1||m!==1)do if(u--,m--,0>m||O[u]!==z[m]){var $=`
`+O[u].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=u&&0<=m);break}}}finally{bc=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Us(l):""}function Zv(s,a){switch(s.tag){case 26:case 27:case 5:return Us(s.type);case 16:return Us("Lazy");case 13:return s.child!==a&&a!==null?Us("Suspense Fallback"):Us("Suspense");case 19:return Us("SuspenseList");case 0:case 15:return yc(s.type,!1);case 11:return yc(s.type.render,!1);case 1:return yc(s.type,!0);case 31:return Us("Activity");default:return""}}function hf(s){try{var a="",l=null;do a+=Zv(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var vc=Object.prototype.hasOwnProperty,xc=n.unstable_scheduleCallback,_c=n.unstable_cancelCallback,ex=n.unstable_shouldYield,tx=n.unstable_requestPaint,Dt=n.unstable_now,nx=n.unstable_getCurrentPriorityLevel,df=n.unstable_ImmediatePriority,ff=n.unstable_UserBlockingPriority,nl=n.unstable_NormalPriority,sx=n.unstable_LowPriority,mf=n.unstable_IdlePriority,ix=n.log,ax=n.unstable_setDisableYieldValue,ja=null,Lt=null;function ts(s){if(typeof ix=="function"&&ax(s),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(ja,s)}catch{}}var zt=Math.clz32?Math.clz32:ox,rx=Math.log,lx=Math.LN2;function ox(s){return s>>>=0,s===0?32:31-(rx(s)/lx|0)|0}var sl=256,il=262144,al=4194304;function Bs(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function rl(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,g=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?m=Bs(u):(x&=k,x!==0?m=Bs(x):l||(l=k&~s,l!==0&&(m=Bs(l))))):(k=u&~g,k!==0?m=Bs(k):x!==0?m=Bs(x):l||(l=u&~s,l!==0&&(m=Bs(l)))),m===0?0:a!==0&&a!==m&&(a&g)===0&&(g=m&-m,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:m}function Oa(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function cx(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gf(){var s=al;return al<<=1,(al&62914560)===0&&(al=4194304),s}function wc(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Aa(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ux(s,a,l,u,m,g){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,O=s.expirationTimes,z=s.hiddenUpdates;for(l=x&~l;0<l;){var $=31-zt(l),G=1<<$;k[$]=0,O[$]=-1;var U=z[$];if(U!==null)for(z[$]=null,$=0;$<U.length;$++){var H=U[$];H!==null&&(H.lane&=-536870913)}l&=~G}u!==0&&pf(s,u,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(x&~a))}function pf(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-zt(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function bf(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-zt(l),m=1<<u;m&a|s[u]&a&&(s[u]|=a),l&=~m}}function yf(s,a){var l=a&-a;return l=(l&42)!==0?1:Sc(l),(l&(s.suspendedLanes|a))!==0?0:l}function Sc(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function kc(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function vf(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:ip(s.type))}function xf(s,a){var l=X.p;try{return X.p=s,a()}finally{X.p=l}}var ns=Math.random().toString(36).slice(2),ft="__reactFiber$"+ns,Et="__reactProps$"+ns,xi="__reactContainer$"+ns,Ec="__reactEvents$"+ns,hx="__reactListeners$"+ns,dx="__reactHandles$"+ns,_f="__reactResources$"+ns,Ca="__reactMarker$"+ns;function Tc(s){delete s[ft],delete s[Et],delete s[Ec],delete s[hx],delete s[dx]}function _i(s){var a=s[ft];if(a)return a;for(var l=s.parentNode;l;){if(a=l[xi]||l[ft]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=$g(s);s!==null;){if(l=s[ft])return l;s=$g(s)}return a}s=l,l=s.parentNode}return null}function wi(s){if(s=s[ft]||s[xi]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Na(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Si(s){var a=s[_f];return a||(a=s[_f]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ct(s){s[Ca]=!0}var wf=new Set,Sf={};function Hs(s,a){ki(s,a),ki(s+"Capture",a)}function ki(s,a){for(Sf[s]=a,s=0;s<a.length;s++)wf.add(a[s])}var fx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kf={},Ef={};function mx(s){return vc.call(Ef,s)?!0:vc.call(kf,s)?!1:fx.test(s)?Ef[s]=!0:(kf[s]=!0,!1)}function ll(s,a,l){if(mx(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ol(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function An(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Xt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Tf(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function gx(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,g.call(this,x)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function jc(s){if(!s._valueTracker){var a=Tf(s)?"checked":"value";s._valueTracker=gx(s,a,""+s[a])}}function jf(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Tf(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function cl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var px=/[\n"\\]/g;function Jt(s){return s.replace(px,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Oc(s,a,l,u,m,g,x,k){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Xt(a)):s.value!==""+Xt(a)&&(s.value=""+Xt(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?Ac(s,x,Xt(a)):l!=null?Ac(s,x,Xt(l)):u!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Xt(k):s.removeAttribute("name")}function Of(s,a,l,u,m,g,x,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){jc(s);return}l=l!=null?""+Xt(l):"",a=a!=null?""+Xt(a):l,k||a===s.value||(s.value=a),s.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=k?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),jc(s)}function Ac(s,a,l){a==="number"&&cl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ei(s,a,l,u){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Xt(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Af(s,a,l){if(a!=null&&(a=""+Xt(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Xt(l):""}function Cf(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(ke(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Xt(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),jc(s)}function Ti(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var bx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nf(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||bx.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Rf(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&Nf(s,m,u)}else for(var g in a)a.hasOwnProperty(g)&&Nf(s,g,a[g])}function Cc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(s){return vx.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Cn(){}var Nc=null;function Rc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ji=null,Oi=null;function Mf(s){var a=wi(s);if(a&&(s=a.stateNode)){var l=s[Et]||null;e:switch(s=a.stateNode,a.type){case"input":if(Oc(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Jt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var m=u[Et]||null;if(!m)throw Error(i(90));Oc(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&jf(u)}break e;case"textarea":Af(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ei(s,!!l.multiple,a,!1)}}}var Mc=!1;function Df(s,a,l){if(Mc)return s(a,l);Mc=!0;try{var u=s(a);return u}finally{if(Mc=!1,(ji!==null||Oi!==null)&&(Jl(),ji&&(a=ji,s=Oi,Oi=ji=null,Mf(a),s)))for(a=0;a<s.length;a++)Mf(s[a])}}function Ra(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Et]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dc=!1;if(Nn)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{Dc=!1}var ss=null,Lc=null,hl=null;function Lf(){if(hl)return hl;var s,a=Lc,l=a.length,u,m="value"in ss?ss.value:ss.textContent,g=m.length;for(s=0;s<l&&a[s]===m[s];s++);var x=l-s;for(u=1;u<=x&&a[l-u]===m[g-u];u++);return hl=m.slice(s,1<u?1-u:void 0)}function dl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function fl(){return!0}function zf(){return!1}function Tt(s){function a(l,u,m,g,x){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?fl:zf,this.isPropagationStopped=zf,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),a}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=Tt(Ps),Da=y({},Ps,{view:0,detail:0}),xx=Tt(Da),zc,Uc,La,gl=y({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==La&&(La&&s.type==="mousemove"?(zc=s.screenX-La.screenX,Uc=s.screenY-La.screenY):Uc=zc=0,La=s),zc)},movementY:function(s){return"movementY"in s?s.movementY:Uc}}),Uf=Tt(gl),_x=y({},gl,{dataTransfer:0}),wx=Tt(_x),Sx=y({},Da,{relatedTarget:0}),Bc=Tt(Sx),kx=y({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Ex=Tt(kx),Tx=y({},Ps,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jx=Tt(Tx),Ox=y({},Ps,{data:0}),Bf=Tt(Ox),Ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Nx[s])?!!a[s]:!1}function Hc(){return Rx}var Mx=y({},Da,{key:function(s){if(s.key){var a=Ax[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=dl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Cx[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(s){return s.type==="keypress"?dl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?dl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dx=Tt(Mx),Lx=y({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hf=Tt(Lx),zx=y({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),Ux=Tt(zx),Bx=y({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hx=Tt(Bx),Px=y({},gl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=Tt(Px),$x=y({},Ps,{newState:0,oldState:0}),Vx=Tt($x),Ix=[9,13,27,32],Pc=Nn&&"CompositionEvent"in window,za=null;Nn&&"documentMode"in document&&(za=document.documentMode);var Fx=Nn&&"TextEvent"in window&&!za,Pf=Nn&&(!Pc||za&&8<za&&11>=za),qf=" ",$f=!1;function Vf(s,a){switch(s){case"keyup":return Ix.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ai=!1;function Gx(s,a){switch(s){case"compositionend":return If(a);case"keypress":return a.which!==32?null:($f=!0,qf);case"textInput":return s=a.data,s===qf&&$f?null:s;default:return null}}function Yx(s,a){if(Ai)return s==="compositionend"||!Pc&&Vf(s,a)?(s=Lf(),hl=Lc=ss=null,Ai=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Pf&&a.locale!=="ko"?null:a.data;default:return null}}var Wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ff(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Wx[s.type]:a==="textarea"}function Gf(s,a,l,u){ji?Oi?Oi.push(u):Oi=[u]:ji=u,a=io(a,"onChange"),0<a.length&&(l=new ml("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var Ua=null,Ba=null;function Kx(s){Og(s,0)}function pl(s){var a=Na(s);if(jf(a))return s}function Yf(s,a){if(s==="change")return a}var Wf=!1;if(Nn){var qc;if(Nn){var $c="oninput"in document;if(!$c){var Kf=document.createElement("div");Kf.setAttribute("oninput","return;"),$c=typeof Kf.oninput=="function"}qc=$c}else qc=!1;Wf=qc&&(!document.documentMode||9<document.documentMode)}function Xf(){Ua&&(Ua.detachEvent("onpropertychange",Jf),Ba=Ua=null)}function Jf(s){if(s.propertyName==="value"&&pl(Ba)){var a=[];Gf(a,Ba,s,Rc(s)),Df(Kx,a)}}function Xx(s,a,l){s==="focusin"?(Xf(),Ua=a,Ba=l,Ua.attachEvent("onpropertychange",Jf)):s==="focusout"&&Xf()}function Jx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pl(Ba)}function Qx(s,a){if(s==="click")return pl(a)}function Zx(s,a){if(s==="input"||s==="change")return pl(a)}function e_(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ut=typeof Object.is=="function"?Object.is:e_;function Ha(s,a){if(Ut(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!vc.call(a,m)||!Ut(s[m],a[m]))return!1}return!0}function Qf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Zf(s,a){var l=Qf(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qf(l)}}function e0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?e0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function t0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=cl(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=cl(s.document)}return a}function Vc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var t_=Nn&&"documentMode"in document&&11>=document.documentMode,Ci=null,Ic=null,Pa=null,Fc=!1;function n0(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fc||Ci==null||Ci!==cl(u)||(u=Ci,"selectionStart"in u&&Vc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pa&&Ha(Pa,u)||(Pa=u,u=io(Ic,"onSelect"),0<u.length&&(a=new ml("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=Ci)))}function qs(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Ni={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Gc={},s0={};Nn&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function $s(s){if(Gc[s])return Gc[s];if(!Ni[s])return s;var a=Ni[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in s0)return Gc[s]=a[l];return s}var i0=$s("animationend"),a0=$s("animationiteration"),r0=$s("animationstart"),n_=$s("transitionrun"),s_=$s("transitionstart"),i_=$s("transitioncancel"),l0=$s("transitionend"),o0=new Map,Yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yc.push("scrollEnd");function un(s,a){o0.set(s,a),Hs(a,[s])}var bl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Qt=[],Ri=0,Wc=0;function yl(){for(var s=Ri,a=Wc=Ri=0;a<s;){var l=Qt[a];Qt[a++]=null;var u=Qt[a];Qt[a++]=null;var m=Qt[a];Qt[a++]=null;var g=Qt[a];if(Qt[a++]=null,u!==null&&m!==null){var x=u.pending;x===null?m.next=m:(m.next=x.next,x.next=m),u.pending=m}g!==0&&c0(l,m,g)}}function vl(s,a,l,u){Qt[Ri++]=s,Qt[Ri++]=a,Qt[Ri++]=l,Qt[Ri++]=u,Wc|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Kc(s,a,l,u){return vl(s,a,l,u),xl(s)}function Vs(s,a){return vl(s,null,null,a),xl(s)}function c0(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,g=s.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&a!==null&&(m=31-zt(l),s=g.hiddenUpdates,u=s[m],u===null?s[m]=[a]:u.push(a),a.lane=l|536870912),g):null}function xl(s){if(50<or)throw or=0,ih=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Mi={};function a_(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(s,a,l,u){return new a_(s,a,l,u)}function Xc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Rn(s,a){var l=s.alternate;return l===null?(l=Bt(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function u0(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function _l(s,a,l,u,m,g){var x=0;if(u=s,typeof s=="function")Xc(s)&&(x=1);else if(typeof s=="string")x=uw(s,l,K.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case J:return s=Bt(31,l,a,m),s.elementType=J,s.lanes=g,s;case E:return Is(l.children,m,g,a);case S:x=8,m|=24;break;case T:return s=Bt(12,l,a,m|2),s.elementType=T,s.lanes=g,s;case q:return s=Bt(13,l,a,m),s.elementType=q,s.lanes=g,s;case Y:return s=Bt(19,l,a,m),s.elementType=Y,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:x=10;break e;case j:x=9;break e;case P:x=11;break e;case V:x=14;break e;case W:x=16,u=null;break e}x=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Bt(x,l,a,m),a.elementType=s,a.type=u,a.lanes=g,a}function Is(s,a,l,u){return s=Bt(7,s,u,a),s.lanes=l,s}function Jc(s,a,l){return s=Bt(6,s,null,a),s.lanes=l,s}function h0(s){var a=Bt(18,null,null,0);return a.stateNode=s,a}function Qc(s,a,l){return a=Bt(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var d0=new WeakMap;function Zt(s,a){if(typeof s=="object"&&s!==null){var l=d0.get(s);return l!==void 0?l:(a={value:s,source:a,stack:hf(a)},d0.set(s,a),a)}return{value:s,source:a,stack:hf(a)}}var Di=[],Li=0,wl=null,qa=0,en=[],tn=0,is=null,yn=1,vn="";function Mn(s,a){Di[Li++]=qa,Di[Li++]=wl,wl=s,qa=a}function f0(s,a,l){en[tn++]=yn,en[tn++]=vn,en[tn++]=is,is=s;var u=yn;s=vn;var m=32-zt(u)-1;u&=~(1<<m),l+=1;var g=32-zt(a)+m;if(30<g){var x=m-m%5;g=(u&(1<<x)-1).toString(32),u>>=x,m-=x,yn=1<<32-zt(a)+m|l<<m|u,vn=g+s}else yn=1<<g|l<<m|u,vn=s}function Zc(s){s.return!==null&&(Mn(s,1),f0(s,1,0))}function eu(s){for(;s===wl;)wl=Di[--Li],Di[Li]=null,qa=Di[--Li],Di[Li]=null;for(;s===is;)is=en[--tn],en[tn]=null,vn=en[--tn],en[tn]=null,yn=en[--tn],en[tn]=null}function m0(s,a){en[tn++]=yn,en[tn++]=vn,en[tn++]=is,yn=a.id,vn=a.overflow,is=s}var mt=null,qe=null,Ee=!1,as=null,nn=!1,tu=Error(i(519));function rs(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $a(Zt(a,s)),tu}function g0(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[ft]=s,a[Et]=u,l){case"dialog":ve("cancel",a),ve("close",a);break;case"iframe":case"object":case"embed":ve("load",a);break;case"video":case"audio":for(l=0;l<ur.length;l++)ve(ur[l],a);break;case"source":ve("error",a);break;case"img":case"image":case"link":ve("error",a),ve("load",a);break;case"details":ve("toggle",a);break;case"input":ve("invalid",a),Of(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ve("invalid",a);break;case"textarea":ve("invalid",a),Cf(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Rg(a.textContent,l)?(u.popover!=null&&(ve("beforetoggle",a),ve("toggle",a)),u.onScroll!=null&&ve("scroll",a),u.onScrollEnd!=null&&ve("scrollend",a),u.onClick!=null&&(a.onclick=Cn),a=!0):a=!1,a||rs(s,!0)}function p0(s){for(mt=s.return;mt;)switch(mt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:mt=mt.return}}function zi(s){if(s!==mt)return!1;if(!Ee)return p0(s),Ee=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||vh(s.type,s.memoizedProps)),l=!l),l&&qe&&rs(s),p0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));qe=qg(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));qe=qg(s)}else a===27?(a=qe,xs(s.type)?(s=kh,kh=null,qe=s):qe=a):qe=mt?an(s.stateNode.nextSibling):null;return!0}function Fs(){qe=mt=null,Ee=!1}function nu(){var s=as;return s!==null&&(Ct===null?Ct=s:Ct.push.apply(Ct,s),as=null),s}function $a(s){as===null?as=[s]:as.push(s)}var su=N(null),Gs=null,Dn=null;function ls(s,a,l){D(su,a._currentValue),a._currentValue=l}function Ln(s){s._currentValue=su.current,I(su)}function iu(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function au(s,a,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var x=m.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=m;for(var O=0;O<a.length;O++)if(k.context===a[O]){g.lanes|=l,k=g.alternate,k!==null&&(k.lanes|=l),iu(g.return,l,s),u||(x=null);break e}g=k.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(i(341));x.lanes|=l,g=x.alternate,g!==null&&(g.lanes|=l),iu(x,l,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Ui(s,a,l,u){s=null;for(var m=a,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var k=m.type;Ut(m.pendingProps.value,x.value)||(s!==null?s.push(k):s=[k])}}else if(m===_e.current){if(x=m.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(gr):s=[gr])}m=m.return}s!==null&&au(a,s,l,u),a.flags|=262144}function Sl(s){for(s=s.firstContext;s!==null;){if(!Ut(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ys(s){Gs=s,Dn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function gt(s){return b0(Gs,s)}function kl(s,a){return Gs===null&&Ys(s),b0(s,a)}function b0(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Dn===null){if(s===null)throw Error(i(308));Dn=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Dn=Dn.next=a;return l}var r_=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},l_=n.unstable_scheduleCallback,o_=n.unstable_NormalPriority,tt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new r_,data:new Map,refCount:0}}function Va(s){s.refCount--,s.refCount===0&&l_(o_,function(){s.controller.abort()})}var Ia=null,lu=0,Bi=0,Hi=null;function c_(s,a){if(Ia===null){var l=Ia=[];lu=0,Bi=uh(),Hi={status:"pending",value:void 0,then:function(u){l.push(u)}}}return lu++,a.then(y0,y0),a}function y0(){if(--lu===0&&Ia!==null){Hi!==null&&(Hi.status="fulfilled");var s=Ia;Ia=null,Bi=0,Hi=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function u_(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var v0=B.S;B.S=function(s,a){ng=Dt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&c_(s,a),v0!==null&&v0(s,a)};var Ws=N(null);function ou(){var s=Ws.current;return s!==null?s:Be.pooledCache}function El(s,a){a===null?D(Ws,Ws.current):D(Ws,a.pool)}function x0(){var s=ou();return s===null?null:{parent:tt._currentValue,pool:s}}var Pi=Error(i(460)),cu=Error(i(474)),Tl=Error(i(542)),jl={then:function(){}};function _0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function w0(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Cn,Cn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,k0(s),s;default:if(typeof a.status=="string")a.then(Cn,Cn);else{if(s=Be,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,k0(s),s}throw Xs=a,Pi}}function Ks(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Xs=l,Pi):l}}var Xs=null;function S0(){if(Xs===null)throw Error(i(459));var s=Xs;return Xs=null,s}function k0(s){if(s===Pi||s===Tl)throw Error(i(483))}var qi=null,Fa=0;function Ol(s){var a=Fa;return Fa+=1,qi===null&&(qi=[]),w0(qi,s,a)}function Ga(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Al(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function E0(s){function a(M,C){if(s){var L=M.deletions;L===null?(M.deletions=[C],M.flags|=16):L.push(C)}}function l(M,C){if(!s)return null;for(;C!==null;)a(M,C),C=C.sibling;return null}function u(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function m(M,C){return M=Rn(M,C),M.index=0,M.sibling=null,M}function g(M,C,L){return M.index=L,s?(L=M.alternate,L!==null?(L=L.index,L<C?(M.flags|=67108866,C):L):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function x(M){return s&&M.alternate===null&&(M.flags|=67108866),M}function k(M,C,L,F){return C===null||C.tag!==6?(C=Jc(L,M.mode,F),C.return=M,C):(C=m(C,L),C.return=M,C)}function O(M,C,L,F){var ie=L.type;return ie===E?$(M,C,L.props.children,F,L.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===W&&Ks(ie)===C.type)?(C=m(C,L.props),Ga(C,L),C.return=M,C):(C=_l(L.type,L.key,L.props,null,M.mode,F),Ga(C,L),C.return=M,C)}function z(M,C,L,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=Qc(L,M.mode,F),C.return=M,C):(C=m(C,L.children||[]),C.return=M,C)}function $(M,C,L,F,ie){return C===null||C.tag!==7?(C=Is(L,M.mode,F,ie),C.return=M,C):(C=m(C,L),C.return=M,C)}function G(M,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Jc(""+C,M.mode,L),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _:return L=_l(C.type,C.key,C.props,null,M.mode,L),Ga(L,C),L.return=M,L;case w:return C=Qc(C,M.mode,L),C.return=M,C;case W:return C=Ks(C),G(M,C,L)}if(ke(C)||ce(C))return C=Is(C,M.mode,L,null),C.return=M,C;if(typeof C.then=="function")return G(M,Ol(C),L);if(C.$$typeof===A)return G(M,kl(M,C),L);Al(M,C)}return null}function U(M,C,L,F){var ie=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ie!==null?null:k(M,C,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return L.key===ie?O(M,C,L,F):null;case w:return L.key===ie?z(M,C,L,F):null;case W:return L=Ks(L),U(M,C,L,F)}if(ke(L)||ce(L))return ie!==null?null:$(M,C,L,F,null);if(typeof L.then=="function")return U(M,C,Ol(L),F);if(L.$$typeof===A)return U(M,C,kl(M,L),F);Al(M,L)}return null}function H(M,C,L,F,ie){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(L)||null,k(C,M,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return M=M.get(F.key===null?L:F.key)||null,O(C,M,F,ie);case w:return M=M.get(F.key===null?L:F.key)||null,z(C,M,F,ie);case W:return F=Ks(F),H(M,C,L,F,ie)}if(ke(F)||ce(F))return M=M.get(L)||null,$(C,M,F,ie,null);if(typeof F.then=="function")return H(M,C,L,Ol(F),ie);if(F.$$typeof===A)return H(M,C,L,kl(C,F),ie);Al(C,F)}return null}function Q(M,C,L,F){for(var ie=null,je=null,te=C,ge=C=0,Se=null;te!==null&&ge<L.length;ge++){te.index>ge?(Se=te,te=null):Se=te.sibling;var Oe=U(M,te,L[ge],F);if(Oe===null){te===null&&(te=Se);break}s&&te&&Oe.alternate===null&&a(M,te),C=g(Oe,C,ge),je===null?ie=Oe:je.sibling=Oe,je=Oe,te=Se}if(ge===L.length)return l(M,te),Ee&&Mn(M,ge),ie;if(te===null){for(;ge<L.length;ge++)te=G(M,L[ge],F),te!==null&&(C=g(te,C,ge),je===null?ie=te:je.sibling=te,je=te);return Ee&&Mn(M,ge),ie}for(te=u(te);ge<L.length;ge++)Se=H(te,M,ge,L[ge],F),Se!==null&&(s&&Se.alternate!==null&&te.delete(Se.key===null?ge:Se.key),C=g(Se,C,ge),je===null?ie=Se:je.sibling=Se,je=Se);return s&&te.forEach(function(Es){return a(M,Es)}),Ee&&Mn(M,ge),ie}function ae(M,C,L,F){if(L==null)throw Error(i(151));for(var ie=null,je=null,te=C,ge=C=0,Se=null,Oe=L.next();te!==null&&!Oe.done;ge++,Oe=L.next()){te.index>ge?(Se=te,te=null):Se=te.sibling;var Es=U(M,te,Oe.value,F);if(Es===null){te===null&&(te=Se);break}s&&te&&Es.alternate===null&&a(M,te),C=g(Es,C,ge),je===null?ie=Es:je.sibling=Es,je=Es,te=Se}if(Oe.done)return l(M,te),Ee&&Mn(M,ge),ie;if(te===null){for(;!Oe.done;ge++,Oe=L.next())Oe=G(M,Oe.value,F),Oe!==null&&(C=g(Oe,C,ge),je===null?ie=Oe:je.sibling=Oe,je=Oe);return Ee&&Mn(M,ge),ie}for(te=u(te);!Oe.done;ge++,Oe=L.next())Oe=H(te,M,ge,Oe.value,F),Oe!==null&&(s&&Oe.alternate!==null&&te.delete(Oe.key===null?ge:Oe.key),C=g(Oe,C,ge),je===null?ie=Oe:je.sibling=Oe,je=Oe);return s&&te.forEach(function(_w){return a(M,_w)}),Ee&&Mn(M,ge),ie}function ze(M,C,L,F){if(typeof L=="object"&&L!==null&&L.type===E&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case _:e:{for(var ie=L.key;C!==null;){if(C.key===ie){if(ie=L.type,ie===E){if(C.tag===7){l(M,C.sibling),F=m(C,L.props.children),F.return=M,M=F;break e}}else if(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===W&&Ks(ie)===C.type){l(M,C.sibling),F=m(C,L.props),Ga(F,L),F.return=M,M=F;break e}l(M,C);break}else a(M,C);C=C.sibling}L.type===E?(F=Is(L.props.children,M.mode,F,L.key),F.return=M,M=F):(F=_l(L.type,L.key,L.props,null,M.mode,F),Ga(F,L),F.return=M,M=F)}return x(M);case w:e:{for(ie=L.key;C!==null;){if(C.key===ie)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){l(M,C.sibling),F=m(C,L.children||[]),F.return=M,M=F;break e}else{l(M,C);break}else a(M,C);C=C.sibling}F=Qc(L,M.mode,F),F.return=M,M=F}return x(M);case W:return L=Ks(L),ze(M,C,L,F)}if(ke(L))return Q(M,C,L,F);if(ce(L)){if(ie=ce(L),typeof ie!="function")throw Error(i(150));return L=ie.call(L),ae(M,C,L,F)}if(typeof L.then=="function")return ze(M,C,Ol(L),F);if(L.$$typeof===A)return ze(M,C,kl(M,L),F);Al(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(l(M,C.sibling),F=m(C,L),F.return=M,M=F):(l(M,C),F=Jc(L,M.mode,F),F.return=M,M=F),x(M)):l(M,C)}return function(M,C,L,F){try{Fa=0;var ie=ze(M,C,L,F);return qi=null,ie}catch(te){if(te===Pi||te===Tl)throw te;var je=Bt(29,te,null,M.mode);return je.lanes=F,je.return=M,je}finally{}}}var Js=E0(!0),T0=E0(!1),os=!1;function uu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hu(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function cs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function us(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Ae&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=xl(s),c0(s,null,l),a}return vl(s,u,a,l),xl(s)}function Ya(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,bf(s,l)}}function du(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=x:g=g.next=x,l=l.next}while(l!==null);g===null?m=g=a:g=g.next=a}else m=g=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var fu=!1;function Wa(){if(fu){var s=Hi;if(s!==null)throw s}}function Ka(s,a,l,u){fu=!1;var m=s.updateQueue;os=!1;var g=m.firstBaseUpdate,x=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var O=k,z=O.next;O.next=null,x===null?g=z:x.next=z,x=O;var $=s.alternate;$!==null&&($=$.updateQueue,k=$.lastBaseUpdate,k!==x&&(k===null?$.firstBaseUpdate=z:k.next=z,$.lastBaseUpdate=O))}if(g!==null){var G=m.baseState;x=0,$=z=O=null,k=g;do{var U=k.lane&-536870913,H=U!==k.lane;if(H?(we&U)===U:(u&U)===U){U!==0&&U===Bi&&(fu=!0),$!==null&&($=$.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Q=s,ae=k;U=a;var ze=l;switch(ae.tag){case 1:if(Q=ae.payload,typeof Q=="function"){G=Q.call(ze,G,U);break e}G=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ae.payload,U=typeof Q=="function"?Q.call(ze,G,U):Q,U==null)break e;G=y({},G,U);break e;case 2:os=!0}}U=k.callback,U!==null&&(s.flags|=64,H&&(s.flags|=8192),H=m.callbacks,H===null?m.callbacks=[U]:H.push(U))}else H={lane:U,tag:k.tag,payload:k.payload,callback:k.callback,next:null},$===null?(z=$=H,O=G):$=$.next=H,x|=U;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;H=k,k=H.next,H.next=null,m.lastBaseUpdate=H,m.shared.pending=null}}while(!0);$===null&&(O=G),m.baseState=O,m.firstBaseUpdate=z,m.lastBaseUpdate=$,g===null&&(m.shared.lanes=0),gs|=x,s.lanes=x,s.memoizedState=G}}function j0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function O0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)j0(l[s],a)}var $i=N(null),Cl=N(0);function A0(s,a){s=In,D(Cl,s),D($i,a),In=s|a.baseLanes}function mu(){D(Cl,In),D($i,$i.current)}function gu(){In=Cl.current,I($i),I(Cl)}var Ht=N(null),sn=null;function hs(s){var a=s.alternate;D(Je,Je.current&1),D(Ht,s),sn===null&&(a===null||$i.current!==null||a.memoizedState!==null)&&(sn=s)}function pu(s){D(Je,Je.current),D(Ht,s),sn===null&&(sn=s)}function C0(s){s.tag===22?(D(Je,Je.current),D(Ht,s),sn===null&&(sn=s)):ds()}function ds(){D(Je,Je.current),D(Ht,Ht.current)}function Pt(s){I(Ht),sn===s&&(sn=null),I(Je)}var Je=N(0);function Nl(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||wh(l)||Sh(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var zn=0,me=null,De=null,nt=null,Rl=!1,Vi=!1,Qs=!1,Ml=0,Xa=0,Ii=null,h_=0;function We(){throw Error(i(321))}function bu(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Ut(s[l],a[l]))return!1;return!0}function yu(s,a,l,u,m,g){return zn=g,me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=s===null||s.memoizedState===null?fm:Mu,Qs=!1,g=l(u,m),Qs=!1,Vi&&(g=R0(a,l,u,m)),N0(s),g}function N0(s){B.H=Za;var a=De!==null&&De.next!==null;if(zn=0,nt=De=me=null,Rl=!1,Xa=0,Ii=null,a)throw Error(i(300));s===null||st||(s=s.dependencies,s!==null&&Sl(s)&&(st=!0))}function R0(s,a,l,u){me=s;var m=0;do{if(Vi&&(Ii=null),Xa=0,Vi=!1,25<=m)throw Error(i(301));if(m+=1,nt=De=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=mm,g=a(l,u)}while(Vi);return g}function d_(){var s=B.H,a=s.useState()[0];return a=typeof a.then=="function"?Ja(a):a,s=s.useState()[0],(De!==null?De.memoizedState:null)!==s&&(me.flags|=1024),a}function vu(){var s=Ml!==0;return Ml=0,s}function xu(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function _u(s){if(Rl){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Rl=!1}zn=0,nt=De=me=null,Vi=!1,Xa=Ml=0,Ii=null}function kt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?me.memoizedState=nt=s:nt=nt.next=s,nt}function Qe(){if(De===null){var s=me.alternate;s=s!==null?s.memoizedState:null}else s=De.next;var a=nt===null?me.memoizedState:nt.next;if(a!==null)nt=a,De=s;else{if(s===null)throw me.alternate===null?Error(i(467)):Error(i(310));De=s,s={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},nt===null?me.memoizedState=nt=s:nt=nt.next=s}return nt}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ja(s){var a=Xa;return Xa+=1,Ii===null&&(Ii=[]),s=w0(Ii,s,a),a=me,(nt===null?a.memoizedState:nt.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?fm:Mu),s}function Ll(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ja(s);if(s.$$typeof===A)return gt(s)}throw Error(i(438,String(s)))}function wu(s){var a=null,l=me.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Dl(),me.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=he;return a.index++,l}function Un(s,a){return typeof a=="function"?a(s):a}function zl(s){var a=Qe();return Su(a,De,s)}function Su(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,g=u.pending;if(g!==null){if(m!==null){var x=m.next;m.next=g.next,g.next=x}a.baseQueue=m=g,u.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{a=m.next;var k=x=null,O=null,z=a,$=!1;do{var G=z.lane&-536870913;if(G!==z.lane?(we&G)===G:(zn&G)===G){var U=z.revertLane;if(U===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),G===Bi&&($=!0);else if((zn&U)===U){z=z.next,U===Bi&&($=!0);continue}else G={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(k=O=G,x=g):O=O.next=G,me.lanes|=U,gs|=U;G=z.action,Qs&&l(g,G),g=z.hasEagerState?z.eagerState:l(g,G)}else U={lane:G,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(k=O=U,x=g):O=O.next=U,me.lanes|=G,gs|=G;z=z.next}while(z!==null&&z!==a);if(O===null?x=g:O.next=k,!Ut(g,s.memoizedState)&&(st=!0,$&&(l=Hi,l!==null)))throw l;s.memoizedState=g,s.baseState=x,s.baseQueue=O,u.lastRenderedState=g}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function ku(s){var a=Qe(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,g=a.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do g=s(g,x.action),x=x.next;while(x!==m);Ut(g,a.memoizedState)||(st=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,u]}function M0(s,a,l){var u=me,m=Qe(),g=Ee;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=a();var x=!Ut((De||m).memoizedState,l);if(x&&(m.memoizedState=l,st=!0),m=m.queue,ju(z0.bind(null,u,m,s),[s]),m.getSnapshot!==a||x||nt!==null&&nt.memoizedState.tag&1){if(u.flags|=2048,Fi(9,{destroy:void 0},L0.bind(null,u,m,l,a),null),Be===null)throw Error(i(349));g||(zn&127)!==0||D0(u,a,l)}return l}function D0(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=me.updateQueue,a===null?(a=Dl(),me.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function L0(s,a,l,u){a.value=l,a.getSnapshot=u,U0(a)&&B0(s)}function z0(s,a,l){return l(function(){U0(a)&&B0(s)})}function U0(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Ut(s,l)}catch{return!0}}function B0(s){var a=Vs(s,2);a!==null&&Nt(a,s,2)}function Eu(s){var a=kt();if(typeof s=="function"){var l=s;if(s=l(),Qs){ts(!0);try{l()}finally{ts(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:s},a}function H0(s,a,l,u){return s.baseState=l,Su(s,De,typeof u=="function"?u:Un)}function f_(s,a,l,u,m){if(Hl(s))throw Error(i(485));if(s=a.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};B.T!==null?l(!0):g.isTransition=!1,u(g),l=a.pending,l===null?(g.next=a.pending=g,P0(a,g)):(g.next=l.next,a.pending=l.next=g)}}function P0(s,a){var l=a.action,u=a.payload,m=s.state;if(a.isTransition){var g=B.T,x={};B.T=x;try{var k=l(m,u),O=B.S;O!==null&&O(x,k),q0(s,a,k)}catch(z){Tu(s,a,z)}finally{g!==null&&x.types!==null&&(g.types=x.types),B.T=g}}else try{g=l(m,u),q0(s,a,g)}catch(z){Tu(s,a,z)}}function q0(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){$0(s,a,u)},function(u){return Tu(s,a,u)}):$0(s,a,l)}function $0(s,a,l){a.status="fulfilled",a.value=l,V0(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,P0(s,l)))}function Tu(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,V0(a),a=a.next;while(a!==u)}s.action=null}function V0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function I0(s,a){return a}function F0(s,a){if(Ee){var l=Be.formState;if(l!==null){e:{var u=me;if(Ee){if(qe){t:{for(var m=qe,g=nn;m.nodeType!==8;){if(!g){m=null;break t}if(m=an(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){qe=an(m.nextSibling),u=m.data==="F!";break e}}rs(u)}u=!1}u&&(a=l[0])}}return l=kt(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:a},l.queue=u,l=um.bind(null,me,u),u.dispatch=l,u=Eu(!1),g=Ru.bind(null,me,!1,u.queue),u=kt(),m={state:a,dispatch:null,action:s,pending:null},u.queue=m,l=f_.bind(null,me,m,g,l),m.dispatch=l,u.memoizedState=s,[a,l,!1]}function G0(s){var a=Qe();return Y0(a,De,s)}function Y0(s,a,l){if(a=Su(s,a,I0)[0],s=zl(Un)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Ja(a)}catch(x){throw x===Pi?Tl:x}else u=a;a=Qe();var m=a.queue,g=m.dispatch;return l!==a.memoizedState&&(me.flags|=2048,Fi(9,{destroy:void 0},m_.bind(null,m,l),null)),[u,g,s]}function m_(s,a){s.action=a}function W0(s){var a=Qe(),l=De;if(l!==null)return Y0(a,l,s);Qe(),a=a.memoizedState,l=Qe();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Fi(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=me.updateQueue,a===null&&(a=Dl(),me.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function K0(){return Qe().memoizedState}function Ul(s,a,l,u){var m=kt();me.flags|=s,m.memoizedState=Fi(1|a,{destroy:void 0},l,u===void 0?null:u)}function Bl(s,a,l,u){var m=Qe();u=u===void 0?null:u;var g=m.memoizedState.inst;De!==null&&u!==null&&bu(u,De.memoizedState.deps)?m.memoizedState=Fi(a,g,l,u):(me.flags|=s,m.memoizedState=Fi(1|a,g,l,u))}function X0(s,a){Ul(8390656,8,s,a)}function ju(s,a){Bl(2048,8,s,a)}function g_(s){me.flags|=4;var a=me.updateQueue;if(a===null)a=Dl(),me.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function J0(s){var a=Qe().memoizedState;return g_({ref:a,nextImpl:s}),function(){if((Ae&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Q0(s,a){return Bl(4,2,s,a)}function Z0(s,a){return Bl(4,4,s,a)}function em(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function tm(s,a,l){l=l!=null?l.concat([s]):null,Bl(4,4,em.bind(null,a,s),l)}function Ou(){}function nm(s,a){var l=Qe();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&bu(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function sm(s,a){var l=Qe();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&bu(a,u[1]))return u[0];if(u=s(),Qs){ts(!0);try{s()}finally{ts(!1)}}return l.memoizedState=[u,a],u}function Au(s,a,l){return l===void 0||(zn&1073741824)!==0&&(we&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=ig(),me.lanes|=s,gs|=s,l)}function im(s,a,l,u){return Ut(l,a)?l:$i.current!==null?(s=Au(s,l,u),Ut(s,a)||(st=!0),s):(zn&42)===0||(zn&1073741824)!==0&&(we&261930)===0?(st=!0,s.memoizedState=l):(s=ig(),me.lanes|=s,gs|=s,a)}function am(s,a,l,u,m){var g=X.p;X.p=g!==0&&8>g?g:8;var x=B.T,k={};B.T=k,Ru(s,!1,a,l);try{var O=m(),z=B.S;if(z!==null&&z(k,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=u_(O,u);Qa(s,a,$,Vt(s))}else Qa(s,a,u,Vt(s))}catch(G){Qa(s,a,{then:function(){},status:"rejected",reason:G},Vt())}finally{X.p=g,x!==null&&k.types!==null&&(x.types=k.types),B.T=x}}function p_(){}function Cu(s,a,l,u){if(s.tag!==5)throw Error(i(476));var m=rm(s).queue;am(s,m,a,se,l===null?p_:function(){return lm(s),l(u)})}function rm(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:se},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function lm(s){var a=rm(s);a.next===null&&(a=s.alternate.memoizedState),Qa(s,a.next.queue,{},Vt())}function Nu(){return gt(gr)}function om(){return Qe().memoizedState}function cm(){return Qe().memoizedState}function b_(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Vt();s=cs(l);var u=us(a,s,l);u!==null&&(Nt(u,a,l),Ya(u,a,l)),a={cache:ru()},s.payload=a;return}a=a.return}}function y_(s,a,l){var u=Vt();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hl(s)?hm(a,l):(l=Kc(s,a,l,u),l!==null&&(Nt(l,s,u),dm(l,a,u)))}function um(s,a,l){var u=Vt();Qa(s,a,l,u)}function Qa(s,a,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hl(s))hm(a,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var x=a.lastRenderedState,k=g(x,l);if(m.hasEagerState=!0,m.eagerState=k,Ut(k,x))return vl(s,a,m,0),Be===null&&yl(),!1}catch{}finally{}if(l=Kc(s,a,m,u),l!==null)return Nt(l,s,u),dm(l,a,u),!0}return!1}function Ru(s,a,l,u){if(u={lane:2,revertLane:uh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Hl(s)){if(a)throw Error(i(479))}else a=Kc(s,l,u,2),a!==null&&Nt(a,s,2)}function Hl(s){var a=s.alternate;return s===me||a!==null&&a===me}function hm(s,a){Vi=Rl=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function dm(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,bf(s,l)}}var Za={readContext:gt,use:Ll,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Za.useEffectEvent=We;var fm={readContext:gt,use:Ll,useCallback:function(s,a){return kt().memoizedState=[s,a===void 0?null:a],s},useContext:gt,useEffect:X0,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Ul(4194308,4,em.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Ul(4194308,4,s,a)},useInsertionEffect:function(s,a){Ul(4,2,s,a)},useMemo:function(s,a){var l=kt();a=a===void 0?null:a;var u=s();if(Qs){ts(!0);try{s()}finally{ts(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=kt();if(l!==void 0){var m=l(a);if(Qs){ts(!0);try{l(a)}finally{ts(!1)}}}else m=a;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=y_.bind(null,me,s),[u.memoizedState,s]},useRef:function(s){var a=kt();return s={current:s},a.memoizedState=s},useState:function(s){s=Eu(s);var a=s.queue,l=um.bind(null,me,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Ou,useDeferredValue:function(s,a){var l=kt();return Au(l,s,a)},useTransition:function(){var s=Eu(!1);return s=am.bind(null,me,s.queue,!0,!1),kt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=me,m=kt();if(Ee){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Be===null)throw Error(i(349));(we&127)!==0||D0(u,a,l)}m.memoizedState=l;var g={value:l,getSnapshot:a};return m.queue=g,X0(z0.bind(null,u,g,s),[s]),u.flags|=2048,Fi(9,{destroy:void 0},L0.bind(null,u,g,l,a),null),l},useId:function(){var s=kt(),a=Be.identifierPrefix;if(Ee){var l=vn,u=yn;l=(u&~(1<<32-zt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Ml++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=h_++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Nu,useFormState:F0,useActionState:F0,useOptimistic:function(s){var a=kt();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ru.bind(null,me,!0,l),l.dispatch=a,[s,a]},useMemoCache:wu,useCacheRefresh:function(){return kt().memoizedState=b_.bind(null,me)},useEffectEvent:function(s){var a=kt(),l={impl:s};return a.memoizedState=l,function(){if((Ae&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Mu={readContext:gt,use:Ll,useCallback:nm,useContext:gt,useEffect:ju,useImperativeHandle:tm,useInsertionEffect:Q0,useLayoutEffect:Z0,useMemo:sm,useReducer:zl,useRef:K0,useState:function(){return zl(Un)},useDebugValue:Ou,useDeferredValue:function(s,a){var l=Qe();return im(l,De.memoizedState,s,a)},useTransition:function(){var s=zl(Un)[0],a=Qe().memoizedState;return[typeof s=="boolean"?s:Ja(s),a]},useSyncExternalStore:M0,useId:om,useHostTransitionStatus:Nu,useFormState:G0,useActionState:G0,useOptimistic:function(s,a){var l=Qe();return H0(l,De,s,a)},useMemoCache:wu,useCacheRefresh:cm};Mu.useEffectEvent=J0;var mm={readContext:gt,use:Ll,useCallback:nm,useContext:gt,useEffect:ju,useImperativeHandle:tm,useInsertionEffect:Q0,useLayoutEffect:Z0,useMemo:sm,useReducer:ku,useRef:K0,useState:function(){return ku(Un)},useDebugValue:Ou,useDeferredValue:function(s,a){var l=Qe();return De===null?Au(l,s,a):im(l,De.memoizedState,s,a)},useTransition:function(){var s=ku(Un)[0],a=Qe().memoizedState;return[typeof s=="boolean"?s:Ja(s),a]},useSyncExternalStore:M0,useId:om,useHostTransitionStatus:Nu,useFormState:W0,useActionState:W0,useOptimistic:function(s,a){var l=Qe();return De!==null?H0(l,De,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:wu,useCacheRefresh:cm};mm.useEffectEvent=J0;function Du(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Lu={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Vt(),m=cs(u);m.payload=a,l!=null&&(m.callback=l),a=us(s,m,u),a!==null&&(Nt(a,s,u),Ya(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Vt(),m=cs(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=us(s,m,u),a!==null&&(Nt(a,s,u),Ya(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Vt(),u=cs(l);u.tag=2,a!=null&&(u.callback=a),a=us(s,u,l),a!==null&&(Nt(a,s,l),Ya(a,s,l))}};function gm(s,a,l,u,m,g,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,x):a.prototype&&a.prototype.isPureReactComponent?!Ha(l,u)||!Ha(m,g):!0}function pm(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Lu.enqueueReplaceState(a,a.state,null)}function Zs(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function bm(s){bl(s)}function ym(s){console.error(s)}function vm(s){bl(s)}function Pl(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function xm(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function zu(s,a,l){return l=cs(l),l.tag=3,l.payload={element:null},l.callback=function(){Pl(s,a)},l}function _m(s){return s=cs(s),s.tag=3,s}function wm(s,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;s.payload=function(){return m(g)},s.callback=function(){xm(a,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){xm(a,l,u),typeof m!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function v_(s,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Ui(a,l,m,!0),l=Ht.current,l!==null){switch(l.tag){case 31:case 13:return sn===null?Ql():l.alternate===null&&Ke===0&&(Ke=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===jl?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),lh(s,u,m)),!1;case 22:return l.flags|=65536,u===jl?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),lh(s,u,m)),!1}throw Error(i(435,l.tag))}return lh(s,u,m),Ql(),!1}if(Ee)return a=Ht.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==tu&&(s=Error(i(422),{cause:u}),$a(Zt(s,l)))):(u!==tu&&(a=Error(i(423),{cause:u}),$a(Zt(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Zt(u,l),m=zu(s.stateNode,u,m),du(s,m),Ke!==4&&(Ke=2)),!1;var g=Error(i(520),{cause:u});if(g=Zt(g,l),lr===null?lr=[g]:lr.push(g),Ke!==4&&(Ke=2),a===null)return!0;u=Zt(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=zu(l.stateNode,u,s),du(l,s),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ps===null||!ps.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=_m(m),wm(m,s,l,u),du(l,m),!1}l=l.return}while(l!==null);return!1}var Uu=Error(i(461)),st=!1;function pt(s,a,l,u){a.child=s===null?T0(a,null,l,u):Js(a,s.child,l,u)}function Sm(s,a,l,u,m){l=l.render;var g=a.ref;if("ref"in u){var x={};for(var k in u)k!=="ref"&&(x[k]=u[k])}else x=u;return Ys(a),u=yu(s,a,l,x,g,m),k=vu(),s!==null&&!st?(xu(s,a,m),Bn(s,a,m)):(Ee&&k&&Zc(a),a.flags|=1,pt(s,a,u,m),a.child)}function km(s,a,l,u,m){if(s===null){var g=l.type;return typeof g=="function"&&!Xc(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,Em(s,a,g,u,m)):(s=_l(l.type,null,u,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(g=s.child,!Fu(s,m)){var x=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ha,l(x,u)&&s.ref===a.ref)return Bn(s,a,m)}return a.flags|=1,s=Rn(g,u),s.ref=a.ref,s.return=a,a.child=s}function Em(s,a,l,u,m){if(s!==null){var g=s.memoizedProps;if(Ha(g,u)&&s.ref===a.ref)if(st=!1,a.pendingProps=u=g,Fu(s,m))(s.flags&131072)!==0&&(st=!0);else return a.lanes=s.lanes,Bn(s,a,m)}return Bu(s,a,l,u,m)}function Tm(s,a,l,u){var m=u.children,g=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,s!==null){for(u=a.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,a.child=null;return jm(s,a,g,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&El(a,g!==null?g.cachePool:null),g!==null?A0(a,g):mu(),C0(a);else return u=a.lanes=536870912,jm(s,a,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(El(a,g.cachePool),A0(a,g),ds(),a.memoizedState=null):(s!==null&&El(a,null),mu(),ds());return pt(s,a,m,l),a.child}function er(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function jm(s,a,l,u,m){var g=ou();return g=g===null?null:{parent:tt._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&El(a,null),mu(),C0(a),s!==null&&Ui(s,a,u,!0),a.childLanes=m,null}function ql(s,a){return a=Vl({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Om(s,a,l){return Js(a,s.child,null,l),s=ql(a,a.pendingProps),s.flags|=2,Pt(a),a.memoizedState=null,s}function x_(s,a,l){var u=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ee){if(u.mode==="hidden")return s=ql(a,u),a.lanes=536870912,er(null,s);if(pu(a),(s=qe)?(s=Pg(s,nn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:is!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},l=h0(s),l.return=a,a.child=l,mt=a,qe=null)):s=null,s===null)throw rs(a);return a.lanes=536870912,null}return ql(a,u)}var g=s.memoizedState;if(g!==null){var x=g.dehydrated;if(pu(a),m)if(a.flags&256)a.flags&=-257,a=Om(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(st||Ui(s,a,l,!1),m=(l&s.childLanes)!==0,st||m){if(u=Be,u!==null&&(x=yf(u,l),x!==0&&x!==g.retryLane))throw g.retryLane=x,Vs(s,x),Nt(u,s,x),Uu;Ql(),a=Om(s,a,l)}else s=g.treeContext,qe=an(x.nextSibling),mt=a,Ee=!0,as=null,nn=!1,s!==null&&m0(a,s),a=ql(a,u),a.flags|=4096;return a}return s=Rn(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function $l(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Bu(s,a,l,u,m){return Ys(a),l=yu(s,a,l,u,void 0,m),u=vu(),s!==null&&!st?(xu(s,a,m),Bn(s,a,m)):(Ee&&u&&Zc(a),a.flags|=1,pt(s,a,l,m),a.child)}function Am(s,a,l,u,m,g){return Ys(a),a.updateQueue=null,l=R0(a,u,l,m),N0(s),u=vu(),s!==null&&!st?(xu(s,a,g),Bn(s,a,g)):(Ee&&u&&Zc(a),a.flags|=1,pt(s,a,l,g),a.child)}function Cm(s,a,l,u,m){if(Ys(a),a.stateNode===null){var g=Mi,x=l.contextType;typeof x=="object"&&x!==null&&(g=gt(x)),g=new l(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Lu,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},uu(a),x=l.contextType,g.context=typeof x=="object"&&x!==null?gt(x):Mi,g.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Du(a,l,x,u),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Lu.enqueueReplaceState(g,g.state,null),Ka(a,u,g,m),Wa(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){g=a.stateNode;var k=a.memoizedProps,O=Zs(l,k);g.props=O;var z=g.context,$=l.contextType;x=Mi,typeof $=="object"&&$!==null&&(x=gt($));var G=l.getDerivedStateFromProps;$=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||z!==x)&&pm(a,g,u,x),os=!1;var U=a.memoizedState;g.state=U,Ka(a,u,g,m),Wa(),z=a.memoizedState,k||U!==z||os?(typeof G=="function"&&(Du(a,l,G,u),z=a.memoizedState),(O=os||gm(a,l,O,u,U,z,x))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=z),g.props=u,g.state=z,g.context=x,u=O):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,hu(s,a),x=a.memoizedProps,$=Zs(l,x),g.props=$,G=a.pendingProps,U=g.context,z=l.contextType,O=Mi,typeof z=="object"&&z!==null&&(O=gt(z)),k=l.getDerivedStateFromProps,(z=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==G||U!==O)&&pm(a,g,u,O),os=!1,U=a.memoizedState,g.state=U,Ka(a,u,g,m),Wa();var H=a.memoizedState;x!==G||U!==H||os||s!==null&&s.dependencies!==null&&Sl(s.dependencies)?(typeof k=="function"&&(Du(a,l,k,u),H=a.memoizedState),($=os||gm(a,l,$,u,U,H,O)||s!==null&&s.dependencies!==null&&Sl(s.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,H,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,H,O)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===s.memoizedProps&&U===s.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&U===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=H),g.props=u,g.state=H,g.context=O,u=$):(typeof g.componentDidUpdate!="function"||x===s.memoizedProps&&U===s.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&U===s.memoizedState||(a.flags|=1024),u=!1)}return g=u,$l(s,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,s!==null&&u?(a.child=Js(a,s.child,null,m),a.child=Js(a,null,l,m)):pt(s,a,l,m),a.memoizedState=g.state,s=a.child):s=Bn(s,a,m),s}function Nm(s,a,l,u){return Fs(),a.flags|=256,pt(s,a,l,u),a.child}var Hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pu(s){return{baseLanes:s,cachePool:x0()}}function qu(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=$t),s}function Rm(s,a,l){var u=a.pendingProps,m=!1,g=(a.flags&128)!==0,x;if((x=g)||(x=s!==null&&s.memoizedState===null?!1:(Je.current&2)!==0),x&&(m=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ee){if(m?hs(a):ds(),(s=qe)?(s=Pg(s,nn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:is!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},l=h0(s),l.return=a,a.child=l,mt=a,qe=null)):s=null,s===null)throw rs(a);return Sh(s)?a.lanes=32:a.lanes=536870912,null}var k=u.children;return u=u.fallback,m?(ds(),m=a.mode,k=Vl({mode:"hidden",children:k},m),u=Is(u,m,l,null),k.return=a,u.return=a,k.sibling=u,a.child=k,u=a.child,u.memoizedState=Pu(l),u.childLanes=qu(s,x,l),a.memoizedState=Hu,er(null,u)):(hs(a),$u(a,k))}var O=s.memoizedState;if(O!==null&&(k=O.dehydrated,k!==null)){if(g)a.flags&256?(hs(a),a.flags&=-257,a=Vu(s,a,l)):a.memoizedState!==null?(ds(),a.child=s.child,a.flags|=128,a=null):(ds(),k=u.fallback,m=a.mode,u=Vl({mode:"visible",children:u.children},m),k=Is(k,m,l,null),k.flags|=2,u.return=a,k.return=a,u.sibling=k,a.child=u,Js(a,s.child,null,l),u=a.child,u.memoizedState=Pu(l),u.childLanes=qu(s,x,l),a.memoizedState=Hu,a=er(null,u));else if(hs(a),Sh(k)){if(x=k.nextSibling&&k.nextSibling.dataset,x)var z=x.dgst;x=z,u=Error(i(419)),u.stack="",u.digest=x,$a({value:u,source:null,stack:null}),a=Vu(s,a,l)}else if(st||Ui(s,a,l,!1),x=(l&s.childLanes)!==0,st||x){if(x=Be,x!==null&&(u=yf(x,l),u!==0&&u!==O.retryLane))throw O.retryLane=u,Vs(s,u),Nt(x,s,u),Uu;wh(k)||Ql(),a=Vu(s,a,l)}else wh(k)?(a.flags|=192,a.child=s.child,a=null):(s=O.treeContext,qe=an(k.nextSibling),mt=a,Ee=!0,as=null,nn=!1,s!==null&&m0(a,s),a=$u(a,u.children),a.flags|=4096);return a}return m?(ds(),k=u.fallback,m=a.mode,O=s.child,z=O.sibling,u=Rn(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,z!==null?k=Rn(z,k):(k=Is(k,m,l,null),k.flags|=2),k.return=a,u.return=a,u.sibling=k,a.child=u,er(null,u),u=a.child,k=s.child.memoizedState,k===null?k=Pu(l):(m=k.cachePool,m!==null?(O=tt._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=x0(),k={baseLanes:k.baseLanes|l,cachePool:m}),u.memoizedState=k,u.childLanes=qu(s,x,l),a.memoizedState=Hu,er(s.child,u)):(hs(a),l=s.child,s=l.sibling,l=Rn(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=l,a.memoizedState=null,l)}function $u(s,a){return a=Vl({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Vl(s,a){return s=Bt(22,s,null,a),s.lanes=0,s}function Vu(s,a,l){return Js(a,s.child,null,l),s=$u(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Mm(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),iu(s.return,a,l)}function Iu(s,a,l,u,m,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=m,x.treeForkCount=g)}function Dm(s,a,l){var u=a.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var x=Je.current,k=(x&2)!==0;if(k?(x=x&1|2,a.flags|=128):x&=1,D(Je,x),pt(s,a,u,l),u=Ee?qa:0,!k&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Mm(s,l,a);else if(s.tag===19)Mm(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Nl(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Iu(a,!1,m,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Nl(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Iu(a,!0,l,null,g,u);break;case"together":Iu(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Bn(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),gs|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Ui(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Rn(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Rn(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Fu(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Sl(s)))}function __(s,a,l){switch(a.tag){case 3:et(a,a.stateNode.containerInfo),ls(a,tt,s.memoizedState.cache),Fs();break;case 27:case 5:Ta(a);break;case 4:et(a,a.stateNode.containerInfo);break;case 10:ls(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,pu(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(hs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Rm(s,a,l):(hs(a),s=Bn(s,a,l),s!==null?s.sibling:null);hs(a);break;case 19:var m=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Ui(s,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return Dm(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),D(Je,Je.current),u)break;return null;case 22:return a.lanes=0,Tm(s,a,l,a.pendingProps);case 24:ls(a,tt,s.memoizedState.cache)}return Bn(s,a,l)}function Lm(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)st=!0;else{if(!Fu(s,l)&&(a.flags&128)===0)return st=!1,__(s,a,l);st=(s.flags&131072)!==0}else st=!1,Ee&&(a.flags&1048576)!==0&&f0(a,qa,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(s=Ks(a.elementType),a.type=s,typeof s=="function")Xc(s)?(u=Zs(s,u),a.tag=1,a=Cm(null,a,s,u,l)):(a.tag=0,a=Bu(null,a,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===P){a.tag=11,a=Sm(null,a,s,u,l);break e}else if(m===V){a.tag=14,a=km(null,a,s,u,l);break e}}throw a=Ge(s)||s,Error(i(306,a,""))}}return a;case 0:return Bu(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=Zs(u,a.pendingProps),Cm(s,a,u,m,l);case 3:e:{if(et(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;m=g.element,hu(s,a),Ka(a,u,null,l);var x=a.memoizedState;if(u=x.cache,ls(a,tt,u),u!==g.cache&&au(a,[tt],l,!0),Wa(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=Nm(s,a,u,l);break e}else if(u!==m){m=Zt(Error(i(424)),a),$a(m),a=Nm(s,a,u,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(qe=an(s.firstChild),mt=a,Ee=!0,as=null,nn=!0,l=T0(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fs(),u===m){a=Bn(s,a,l);break e}pt(s,a,u,l)}a=a.child}return a;case 26:return $l(s,a),s===null?(l=Gg(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ee||(l=a.type,s=a.pendingProps,u=ao(Z.current).createElement(l),u[ft]=a,u[Et]=s,bt(u,l,s),ct(u),a.stateNode=u):a.memoizedState=Gg(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ta(a),s===null&&Ee&&(u=a.stateNode=Vg(a.type,a.pendingProps,Z.current),mt=a,nn=!0,m=qe,xs(a.type)?(kh=m,qe=an(u.firstChild)):qe=m),pt(s,a,a.pendingProps.children,l),$l(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ee&&((m=u=qe)&&(u=J_(u,a.type,a.pendingProps,nn),u!==null?(a.stateNode=u,mt=a,qe=an(u.firstChild),nn=!1,m=!0):m=!1),m||rs(a)),Ta(a),m=a.type,g=a.pendingProps,x=s!==null?s.memoizedProps:null,u=g.children,vh(m,g)?u=null:x!==null&&vh(m,x)&&(a.flags|=32),a.memoizedState!==null&&(m=yu(s,a,d_,null,null,l),gr._currentValue=m),$l(s,a),pt(s,a,u,l),a.child;case 6:return s===null&&Ee&&((s=l=qe)&&(l=Q_(l,a.pendingProps,nn),l!==null?(a.stateNode=l,mt=a,qe=null,s=!0):s=!1),s||rs(a)),null;case 13:return Rm(s,a,l);case 4:return et(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Js(a,null,u,l):pt(s,a,u,l),a.child;case 11:return Sm(s,a,a.type,a.pendingProps,l);case 7:return pt(s,a,a.pendingProps,l),a.child;case 8:return pt(s,a,a.pendingProps.children,l),a.child;case 12:return pt(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,ls(a,a.type,u.value),pt(s,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,Ys(a),m=gt(m),u=u(m),a.flags|=1,pt(s,a,u,l),a.child;case 14:return km(s,a,a.type,a.pendingProps,l);case 15:return Em(s,a,a.type,a.pendingProps,l);case 19:return Dm(s,a,l);case 31:return x_(s,a,l);case 22:return Tm(s,a,l,a.pendingProps);case 24:return Ys(a),u=gt(tt),s===null?(m=ou(),m===null&&(m=Be,g=ru(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),a.memoizedState={parent:u,cache:m},uu(a),ls(a,tt,m)):((s.lanes&l)!==0&&(hu(s,a),Ka(a,null,null,l),Wa()),m=s.memoizedState,g=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ls(a,tt,u)):(u=g.cache,ls(a,tt,u),u!==m.cache&&au(a,[tt],l,!0))),pt(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Hn(s){s.flags|=4}function Gu(s,a,l,u,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(og())s.flags|=8192;else throw Xs=jl,cu}else s.flags&=-16777217}function zm(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Jg(a))if(og())s.flags|=8192;else throw Xs=jl,cu}function Il(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?gf():536870912,s.lanes|=a,Ki|=a)}function tr(s,a){if(!Ee)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function $e(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function w_(s,a,l){var u=a.pendingProps;switch(eu(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(a),null;case 1:return $e(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ln(tt),Ue(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(zi(a)?Hn(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,nu())),$e(a),null;case 26:var m=a.type,g=a.memoizedState;return s===null?(Hn(a),g!==null?($e(a),zm(a,g)):($e(a),Gu(a,m,null,u,l))):g?g!==s.memoizedState?(Hn(a),$e(a),zm(a,g)):($e(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&Hn(a),$e(a),Gu(a,m,s,u,l)),null;case 27:if(tl(a),l=Z.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Hn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return $e(a),null}s=K.current,zi(a)?g0(a):(s=Vg(m,u,l),a.stateNode=s,Hn(a))}return $e(a),null;case 5:if(tl(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Hn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return $e(a),null}if(g=K.current,zi(a))g0(a);else{var x=ao(Z.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(m,{is:u.is}):x.createElement(m)}}g[ft]=a,g[Et]=u;e:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break e;for(;x.sibling===null;){if(x.return===null||x.return===a)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=g;e:switch(bt(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Hn(a)}}return $e(a),Gu(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Hn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=Z.current,zi(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,m=mt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[ft]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Rg(s.nodeValue,l)),s||rs(a,!0)}else s=ao(s).createTextNode(u),s[ft]=a,a.stateNode=s}return $e(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=zi(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[ft]=a}else Fs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$e(a),s=!1}else l=nu(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Pt(a),a):(Pt(a),null);if((a.flags&128)!==0)throw Error(i(558))}return $e(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=zi(a),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[ft]=a}else Fs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$e(a),m=!1}else m=nu(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Pt(a),a):(Pt(a),null)}return Pt(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),Il(a,a.updateQueue),$e(a),null);case 4:return Ue(),s===null&&mh(a.stateNode.containerInfo),$e(a),null;case 10:return Ln(a.type),$e(a),null;case 19:if(I(Je),u=a.memoizedState,u===null)return $e(a),null;if(m=(a.flags&128)!==0,g=u.rendering,g===null)if(m)tr(u,!1);else{if(Ke!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(g=Nl(s),g!==null){for(a.flags|=128,tr(u,!1),s=g.updateQueue,a.updateQueue=s,Il(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)u0(l,s),l=l.sibling;return D(Je,Je.current&1|2),Ee&&Mn(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&Dt()>Kl&&(a.flags|=128,m=!0,tr(u,!1),a.lanes=4194304)}else{if(!m)if(s=Nl(g),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,Il(a,s),tr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ee)return $e(a),null}else 2*Dt()-u.renderingStartTime>Kl&&l!==536870912&&(a.flags|=128,m=!0,tr(u,!1),a.lanes=4194304);u.isBackwards?(g.sibling=a.child,a.child=g):(s=u.last,s!==null?s.sibling=g:a.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Dt(),s.sibling=null,l=Je.current,D(Je,m?l&1|2:l&1),Ee&&Mn(a,u.treeForkCount),s):($e(a),null);case 22:case 23:return Pt(a),gu(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&($e(a),a.subtreeFlags&6&&(a.flags|=8192)):$e(a),l=a.updateQueue,l!==null&&Il(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&I(Ws),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ln(tt),$e(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function S_(s,a){switch(eu(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ln(tt),Ue(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return tl(a),null;case 31:if(a.memoizedState!==null){if(Pt(a),a.alternate===null)throw Error(i(340));Fs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Pt(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Fs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return I(Je),null;case 4:return Ue(),null;case 10:return Ln(a.type),null;case 22:case 23:return Pt(a),gu(),s!==null&&I(Ws),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ln(tt),null;case 25:return null;default:return null}}function Um(s,a){switch(eu(a),a.tag){case 3:Ln(tt),Ue();break;case 26:case 27:case 5:tl(a);break;case 4:Ue();break;case 31:a.memoizedState!==null&&Pt(a);break;case 13:Pt(a);break;case 19:I(Je);break;case 10:Ln(a.type);break;case 22:case 23:Pt(a),gu(),s!==null&&I(Ws);break;case 24:Ln(tt)}}function nr(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var g=l.create,x=l.inst;u=g(),x.destroy=u}l=l.next}while(l!==m)}}catch(k){Re(a,a.return,k)}}function fs(s,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&s)===s){var x=u.inst,k=x.destroy;if(k!==void 0){x.destroy=void 0,m=a;var O=l,z=k;try{z()}catch($){Re(m,O,$)}}}u=u.next}while(u!==g)}}catch($){Re(a,a.return,$)}}function Bm(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{O0(a,l)}catch(u){Re(s,s.return,u)}}}function Hm(s,a,l){l.props=Zs(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Re(s,a,u)}}function sr(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){Re(s,a,m)}}function xn(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Re(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Re(s,a,m)}else l.current=null}function Pm(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Re(s,s.return,m)}}function Yu(s,a,l){try{var u=s.stateNode;F_(u,s.type,l,a),u[Et]=a}catch(m){Re(s,s.return,m)}}function qm(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&xs(s.type)||s.tag===4}function Wu(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||qm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&xs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ku(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Cn));else if(u!==4&&(u===27&&xs(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Ku(s,a,l),s=s.sibling;s!==null;)Ku(s,a,l),s=s.sibling}function Fl(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&xs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Fl(s,a,l),s=s.sibling;s!==null;)Fl(s,a,l),s=s.sibling}function $m(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);bt(a,u,l),a[ft]=s,a[Et]=l}catch(g){Re(s,s.return,g)}}var Pn=!1,it=!1,Xu=!1,Vm=typeof WeakSet=="function"?WeakSet:Set,ut=null;function k_(s,a){if(s=s.containerInfo,bh=fo,s=t0(s),Vc(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var x=0,k=-1,O=-1,z=0,$=0,G=s,U=null;t:for(;;){for(var H;G!==l||m!==0&&G.nodeType!==3||(k=x+m),G!==g||u!==0&&G.nodeType!==3||(O=x+u),G.nodeType===3&&(x+=G.nodeValue.length),(H=G.firstChild)!==null;)U=G,G=H;for(;;){if(G===s)break t;if(U===l&&++z===m&&(k=x),U===g&&++$===u&&(O=x),(H=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=H}l=k===-1||O===-1?null:{start:k,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(yh={focusedElem:s,selectionRange:l},fo=!1,ut=a;ut!==null;)if(a=ut,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ut=s;else for(;ut!==null;){switch(a=ut,g=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=a,m=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Q=Zs(l.type,m);s=u.getSnapshotBeforeUpdate(Q,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(ae){Re(l,l.return,ae)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)_h(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":_h(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,ut=s;break}ut=a.return}}function Im(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:$n(s,l),u&4&&nr(5,l);break;case 1:if($n(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(x){Re(l,l.return,x)}else{var m=Zs(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){Re(l,l.return,x)}}u&64&&Bm(l),u&512&&sr(l,l.return);break;case 3:if($n(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{O0(s,a)}catch(x){Re(l,l.return,x)}}break;case 27:a===null&&u&4&&$m(l);case 26:case 5:$n(s,l),a===null&&u&4&&Pm(l),u&512&&sr(l,l.return);break;case 12:$n(s,l);break;case 31:$n(s,l),u&4&&Ym(s,l);break;case 13:$n(s,l),u&4&&Wm(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=M_.bind(null,l),Z_(s,l))));break;case 22:if(u=l.memoizedState!==null||Pn,!u){a=a!==null&&a.memoizedState!==null||it,m=Pn;var g=it;Pn=u,(it=a)&&!g?Vn(s,l,(l.subtreeFlags&8772)!==0):$n(s,l),Pn=m,it=g}break;case 30:break;default:$n(s,l)}}function Fm(s){var a=s.alternate;a!==null&&(s.alternate=null,Fm(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Tc(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ie=null,jt=!1;function qn(s,a,l){for(l=l.child;l!==null;)Gm(s,a,l),l=l.sibling}function Gm(s,a,l){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(ja,l)}catch{}switch(l.tag){case 26:it||xn(l,a),qn(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:it||xn(l,a);var u=Ie,m=jt;xs(l.type)&&(Ie=l.stateNode,jt=!1),qn(s,a,l),dr(l.stateNode),Ie=u,jt=m;break;case 5:it||xn(l,a);case 6:if(u=Ie,m=jt,Ie=null,qn(s,a,l),Ie=u,jt=m,Ie!==null)if(jt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(l.stateNode)}catch(g){Re(l,a,g)}else try{Ie.removeChild(l.stateNode)}catch(g){Re(l,a,g)}break;case 18:Ie!==null&&(jt?(s=Ie,Bg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),sa(s)):Bg(Ie,l.stateNode));break;case 4:u=Ie,m=jt,Ie=l.stateNode.containerInfo,jt=!0,qn(s,a,l),Ie=u,jt=m;break;case 0:case 11:case 14:case 15:fs(2,l,a),it||fs(4,l,a),qn(s,a,l);break;case 1:it||(xn(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Hm(l,a,u)),qn(s,a,l);break;case 21:qn(s,a,l);break;case 22:it=(u=it)||l.memoizedState!==null,qn(s,a,l),it=u;break;default:qn(s,a,l)}}function Ym(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sa(s)}catch(l){Re(a,a.return,l)}}}function Wm(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sa(s)}catch(l){Re(a,a.return,l)}}function E_(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Vm),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Vm),a;default:throw Error(i(435,s.tag))}}function Gl(s,a){var l=E_(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var m=D_.bind(null,s,u);u.then(m,m)}})}function Ot(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],g=s,x=a,k=x;e:for(;k!==null;){switch(k.tag){case 27:if(xs(k.type)){Ie=k.stateNode,jt=!1;break e}break;case 5:Ie=k.stateNode,jt=!1;break e;case 3:case 4:Ie=k.stateNode.containerInfo,jt=!0;break e}k=k.return}if(Ie===null)throw Error(i(160));Gm(g,x,m),Ie=null,jt=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Km(a,s),a=a.sibling}var hn=null;function Km(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ot(a,s),At(s),u&4&&(fs(3,s,s.return),nr(3,s),fs(5,s,s.return));break;case 1:Ot(a,s),At(s),u&512&&(it||l===null||xn(l,l.return)),u&64&&Pn&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=hn;if(Ot(a,s),At(s),u&512&&(it||l===null||xn(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ca]||g[ft]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),bt(g,u,l),g[ft]=s,ct(g),u=g;break e;case"link":var x=Kg("link","href",m).get(u+(l.href||""));if(x){for(var k=0;k<x.length;k++)if(g=x[k],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(k,1);break t}}g=m.createElement(u),bt(g,u,l),m.head.appendChild(g);break;case"meta":if(x=Kg("meta","content",m).get(u+(l.content||""))){for(k=0;k<x.length;k++)if(g=x[k],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(k,1);break t}}g=m.createElement(u),bt(g,u,l),m.head.appendChild(g);break;default:throw Error(i(468,u))}g[ft]=s,ct(g),u=g}s.stateNode=u}else Xg(m,s.type,s.stateNode);else s.stateNode=Wg(m,u,s.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?Xg(m,s.type,s.stateNode):Wg(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Yu(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ot(a,s),At(s),u&512&&(it||l===null||xn(l,l.return)),l!==null&&u&4&&Yu(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ot(a,s),At(s),u&512&&(it||l===null||xn(l,l.return)),s.flags&32){m=s.stateNode;try{Ti(m,"")}catch(Q){Re(s,s.return,Q)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Yu(s,m,l!==null?l.memoizedProps:m)),u&1024&&(Xu=!0);break;case 6:if(Ot(a,s),At(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(Q){Re(s,s.return,Q)}}break;case 3:if(oo=null,m=hn,hn=ro(a.containerInfo),Ot(a,s),hn=m,At(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{sa(a.containerInfo)}catch(Q){Re(s,s.return,Q)}Xu&&(Xu=!1,Xm(s));break;case 4:u=hn,hn=ro(s.stateNode.containerInfo),Ot(a,s),At(s),hn=u;break;case 12:Ot(a,s),At(s);break;case 31:Ot(a,s),At(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gl(s,u)));break;case 13:Ot(a,s),At(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wl=Dt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gl(s,u)));break;case 22:m=s.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,z=Pn,$=it;if(Pn=z||m,it=$||O,Ot(a,s),it=$,Pn=z,At(s),u&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||O||Pn||it||ei(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){O=l=a;try{if(g=O.stateNode,m)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{k=O.stateNode;var G=O.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;k.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Q){Re(O,O.return,Q)}}}else if(a.tag===6){if(l===null){O=a;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(Q){Re(O,O.return,Q)}}}else if(a.tag===18){if(l===null){O=a;try{var H=O.stateNode;m?Hg(H,!0):Hg(O.stateNode,!1)}catch(Q){Re(O,O.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Gl(s,l))));break;case 19:Ot(a,s),At(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gl(s,u)));break;case 30:break;case 21:break;default:Ot(a,s),At(s)}}function At(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(qm(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,g=Wu(s);Fl(s,g,m);break;case 5:var x=l.stateNode;l.flags&32&&(Ti(x,""),l.flags&=-33);var k=Wu(s);Fl(s,k,x);break;case 3:case 4:var O=l.stateNode.containerInfo,z=Wu(s);Ku(s,z,O);break;default:throw Error(i(161))}}catch($){Re(s,s.return,$)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Xm(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Xm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function $n(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Im(s,a.alternate,a),a=a.sibling}function ei(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:fs(4,a,a.return),ei(a);break;case 1:xn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Hm(a,a.return,l),ei(a);break;case 27:dr(a.stateNode);case 26:case 5:xn(a,a.return),ei(a);break;case 22:a.memoizedState===null&&ei(a);break;case 30:ei(a);break;default:ei(a)}s=s.sibling}}function Vn(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=s,g=a,x=g.flags;switch(g.tag){case 0:case 11:case 15:Vn(m,g,l),nr(4,g);break;case 1:if(Vn(m,g,l),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(z){Re(u,u.return,z)}if(u=g,m=u.updateQueue,m!==null){var k=u.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)j0(O[m],k)}catch(z){Re(u,u.return,z)}}l&&x&64&&Bm(g),sr(g,g.return);break;case 27:$m(g);case 26:case 5:Vn(m,g,l),l&&u===null&&x&4&&Pm(g),sr(g,g.return);break;case 12:Vn(m,g,l);break;case 31:Vn(m,g,l),l&&x&4&&Ym(m,g);break;case 13:Vn(m,g,l),l&&x&4&&Wm(m,g);break;case 22:g.memoizedState===null&&Vn(m,g,l),sr(g,g.return);break;case 30:break;default:Vn(m,g,l)}a=a.sibling}}function Ju(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Va(l))}function Qu(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Va(s))}function dn(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jm(s,a,l,u),a=a.sibling}function Jm(s,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:dn(s,a,l,u),m&2048&&nr(9,a);break;case 1:dn(s,a,l,u);break;case 3:dn(s,a,l,u),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Va(s)));break;case 12:if(m&2048){dn(s,a,l,u),s=a.stateNode;try{var g=a.memoizedProps,x=g.id,k=g.onPostCommit;typeof k=="function"&&k(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){Re(a,a.return,O)}}else dn(s,a,l,u);break;case 31:dn(s,a,l,u);break;case 13:dn(s,a,l,u);break;case 23:break;case 22:g=a.stateNode,x=a.alternate,a.memoizedState!==null?g._visibility&2?dn(s,a,l,u):ir(s,a):g._visibility&2?dn(s,a,l,u):(g._visibility|=2,Gi(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Ju(x,a);break;case 24:dn(s,a,l,u),m&2048&&Qu(a.alternate,a);break;default:dn(s,a,l,u)}}function Gi(s,a,l,u,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=s,x=a,k=l,O=u,z=x.flags;switch(x.tag){case 0:case 11:case 15:Gi(g,x,k,O,m),nr(8,x);break;case 23:break;case 22:var $=x.stateNode;x.memoizedState!==null?$._visibility&2?Gi(g,x,k,O,m):ir(g,x):($._visibility|=2,Gi(g,x,k,O,m)),m&&z&2048&&Ju(x.alternate,x);break;case 24:Gi(g,x,k,O,m),m&&z&2048&&Qu(x.alternate,x);break;default:Gi(g,x,k,O,m)}a=a.sibling}}function ir(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,m=u.flags;switch(u.tag){case 22:ir(l,u),m&2048&&Ju(u.alternate,u);break;case 24:ir(l,u),m&2048&&Qu(u.alternate,u);break;default:ir(l,u)}a=a.sibling}}var ar=8192;function Yi(s,a,l){if(s.subtreeFlags&ar)for(s=s.child;s!==null;)Qm(s,a,l),s=s.sibling}function Qm(s,a,l){switch(s.tag){case 26:Yi(s,a,l),s.flags&ar&&s.memoizedState!==null&&hw(l,hn,s.memoizedState,s.memoizedProps);break;case 5:Yi(s,a,l);break;case 3:case 4:var u=hn;hn=ro(s.stateNode.containerInfo),Yi(s,a,l),hn=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=ar,ar=16777216,Yi(s,a,l),ar=u):Yi(s,a,l));break;default:Yi(s,a,l)}}function Zm(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function rr(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ut=u,tg(u,s)}Zm(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)eg(s),s=s.sibling}function eg(s){switch(s.tag){case 0:case 11:case 15:rr(s),s.flags&2048&&fs(9,s,s.return);break;case 3:rr(s);break;case 12:rr(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Yl(s)):rr(s);break;default:rr(s)}}function Yl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];ut=u,tg(u,s)}Zm(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:fs(8,a,a.return),Yl(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Yl(a));break;default:Yl(a)}s=s.sibling}}function tg(s,a){for(;ut!==null;){var l=ut;switch(l.tag){case 0:case 11:case 15:fs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Va(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ut=u;else e:for(l=s;ut!==null;){u=ut;var m=u.sibling,g=u.return;if(Fm(u),u===l){ut=null;break e}if(m!==null){m.return=g,ut=m;break e}ut=g}}}var T_={getCacheForType:function(s){var a=gt(tt),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return gt(tt).controller.signal}},j_=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Be=null,ye=null,we=0,Ne=0,qt=null,ms=!1,Wi=!1,Zu=!1,In=0,Ke=0,gs=0,ti=0,eh=0,$t=0,Ki=0,lr=null,Ct=null,th=!1,Wl=0,ng=0,Kl=1/0,Xl=null,ps=null,lt=0,bs=null,Xi=null,Fn=0,nh=0,sh=null,sg=null,or=0,ih=null;function Vt(){return(Ae&2)!==0&&we!==0?we&-we:B.T!==null?uh():vf()}function ig(){if($t===0)if((we&536870912)===0||Ee){var s=il;il<<=1,(il&3932160)===0&&(il=262144),$t=s}else $t=536870912;return s=Ht.current,s!==null&&(s.flags|=32),$t}function Nt(s,a,l){(s===Be&&(Ne===2||Ne===9)||s.cancelPendingCommit!==null)&&(Ji(s,0),ys(s,we,$t,!1)),Aa(s,l),((Ae&2)===0||s!==Be)&&(s===Be&&((Ae&2)===0&&(ti|=l),Ke===4&&ys(s,we,$t,!1)),_n(s))}function ag(s,a,l){if((Ae&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||Oa(s,a),m=u?C_(s,a):rh(s,a,!0),g=u;do{if(m===0){Wi&&!u&&ys(s,a,0,!1);break}else{if(l=s.current.alternate,g&&!O_(l)){m=rh(s,a,!1),g=!1;continue}if(m===2){if(g=a,s.errorRecoveryDisabledLanes&g)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var k=s;m=lr;var O=k.current.memoizedState.isDehydrated;if(O&&(Ji(k,x).flags|=256),x=rh(k,x,!1),x!==2){if(Zu&&!O){k.errorRecoveryDisabledLanes|=g,ti|=g,m=4;break e}g=Ct,Ct=m,g!==null&&(Ct===null?Ct=g:Ct.push.apply(Ct,g))}m=x}if(g=!1,m!==2)continue}}if(m===1){Ji(s,0),ys(s,a,0,!0);break}e:{switch(u=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ys(u,a,$t,!ms);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Wl+300-Dt(),10<m)){if(ys(u,a,$t,!ms),rl(u,0,!0)!==0)break e;Fn=a,u.timeoutHandle=zg(rg.bind(null,u,l,Ct,Xl,th,a,$t,ti,Ki,ms,g,"Throttled",-0,0),m);break e}rg(u,l,Ct,Xl,th,a,$t,ti,Ki,ms,g,null,-0,0)}}break}while(!0);_n(s)}function rg(s,a,l,u,m,g,x,k,O,z,$,G,U,H){if(s.timeoutHandle=-1,G=a.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Qm(a,g,G);var Q=(g&62914560)===g?Wl-Dt():(g&4194048)===g?ng-Dt():0;if(Q=dw(G,Q),Q!==null){Fn=g,s.cancelPendingCommit=Q(mg.bind(null,s,a,g,l,u,m,x,k,O,$,G,null,U,H)),ys(s,g,x,!z);return}}mg(s,a,g,l,u,m,x,k,O)}function O_(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],g=m.getSnapshot;m=m.value;try{if(!Ut(g(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ys(s,a,l,u){a&=~eh,a&=~ti,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var m=a;0<m;){var g=31-zt(m),x=1<<g;u[g]=-1,m&=~x}l!==0&&pf(s,l,a)}function Jl(){return(Ae&6)===0?(cr(0),!1):!0}function ah(){if(ye!==null){if(Ne===0)var s=ye.return;else s=ye,Dn=Gs=null,_u(s),qi=null,Fa=0,s=ye;for(;s!==null;)Um(s.alternate,s),s=s.return;ye=null}}function Ji(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,W_(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Fn=0,ah(),Be=s,ye=l=Rn(s.current,null),we=a,Ne=0,qt=null,ms=!1,Wi=Oa(s,a),Zu=!1,Ki=$t=eh=ti=gs=Ke=0,Ct=lr=null,th=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var m=31-zt(u),g=1<<m;a|=s[m],u&=~g}return In=a,yl(),l}function lg(s,a){me=null,B.H=Za,a===Pi||a===Tl?(a=S0(),Ne=3):a===cu?(a=S0(),Ne=4):Ne=a===Uu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qt=a,ye===null&&(Ke=1,Pl(s,Zt(a,s.current)))}function og(){var s=Ht.current;return s===null?!0:(we&4194048)===we?sn===null:(we&62914560)===we||(we&536870912)!==0?s===sn:!1}function cg(){var s=B.H;return B.H=Za,s===null?Za:s}function ug(){var s=B.A;return B.A=T_,s}function Ql(){Ke=4,ms||(we&4194048)!==we&&Ht.current!==null||(Wi=!0),(gs&134217727)===0&&(ti&134217727)===0||Be===null||ys(Be,we,$t,!1)}function rh(s,a,l){var u=Ae;Ae|=2;var m=cg(),g=ug();(Be!==s||we!==a)&&(Xl=null,Ji(s,a)),a=!1;var x=Ke;e:do try{if(Ne!==0&&ye!==null){var k=ye,O=qt;switch(Ne){case 8:ah(),x=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(a=!0);var z=Ne;if(Ne=0,qt=null,Qi(s,k,O,z),l&&Wi){x=0;break e}break;default:z=Ne,Ne=0,qt=null,Qi(s,k,O,z)}}A_(),x=Ke;break}catch($){lg(s,$)}while(!0);return a&&s.shellSuspendCounter++,Dn=Gs=null,Ae=u,B.H=m,B.A=g,ye===null&&(Be=null,we=0,yl()),x}function A_(){for(;ye!==null;)hg(ye)}function C_(s,a){var l=Ae;Ae|=2;var u=cg(),m=ug();Be!==s||we!==a?(Xl=null,Kl=Dt()+500,Ji(s,a)):Wi=Oa(s,a);e:do try{if(Ne!==0&&ye!==null){a=ye;var g=qt;t:switch(Ne){case 1:Ne=0,qt=null,Qi(s,a,g,1);break;case 2:case 9:if(_0(g)){Ne=0,qt=null,dg(a);break}a=function(){Ne!==2&&Ne!==9||Be!==s||(Ne=7),_n(s)},g.then(a,a);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:_0(g)?(Ne=0,qt=null,dg(a)):(Ne=0,qt=null,Qi(s,a,g,7));break;case 5:var x=null;switch(ye.tag){case 26:x=ye.memoizedState;case 5:case 27:var k=ye;if(x?Jg(x):k.stateNode.complete){Ne=0,qt=null;var O=k.sibling;if(O!==null)ye=O;else{var z=k.return;z!==null?(ye=z,Zl(z)):ye=null}break t}}Ne=0,qt=null,Qi(s,a,g,5);break;case 6:Ne=0,qt=null,Qi(s,a,g,6);break;case 8:ah(),Ke=6;break e;default:throw Error(i(462))}}N_();break}catch($){lg(s,$)}while(!0);return Dn=Gs=null,B.H=u,B.A=m,Ae=l,ye!==null?0:(Be=null,we=0,yl(),Ke)}function N_(){for(;ye!==null&&!ex();)hg(ye)}function hg(s){var a=Lm(s.alternate,s,In);s.memoizedProps=s.pendingProps,a===null?Zl(s):ye=a}function dg(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Am(l,a,a.pendingProps,a.type,void 0,we);break;case 11:a=Am(l,a,a.pendingProps,a.type.render,a.ref,we);break;case 5:_u(a);default:Um(l,a),a=ye=u0(a,In),a=Lm(l,a,In)}s.memoizedProps=s.pendingProps,a===null?Zl(s):ye=a}function Qi(s,a,l,u){Dn=Gs=null,_u(a),qi=null,Fa=0;var m=a.return;try{if(v_(s,m,a,l,we)){Ke=1,Pl(s,Zt(l,s.current)),ye=null;return}}catch(g){if(m!==null)throw ye=m,g;Ke=1,Pl(s,Zt(l,s.current)),ye=null;return}a.flags&32768?(Ee||u===1?s=!0:Wi||(we&536870912)!==0?s=!1:(ms=s=!0,(u===2||u===9||u===3||u===6)&&(u=Ht.current,u!==null&&u.tag===13&&(u.flags|=16384))),fg(a,s)):Zl(a)}function Zl(s){var a=s;do{if((a.flags&32768)!==0){fg(a,ms);return}s=a.return;var l=w_(a.alternate,a,In);if(l!==null){ye=l;return}if(a=a.sibling,a!==null){ye=a;return}ye=a=s}while(a!==null);Ke===0&&(Ke=5)}function fg(s,a){do{var l=S_(s.alternate,s);if(l!==null){l.flags&=32767,ye=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){ye=s;return}ye=s=l}while(s!==null);Ke=6,ye=null}function mg(s,a,l,u,m,g,x,k,O){s.cancelPendingCommit=null;do eo();while(lt!==0);if((Ae&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=Wc,ux(s,l,g,x,k,O),s===Be&&(ye=Be=null,we=0),Xi=a,bs=s,Fn=l,nh=g,sh=m,sg=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,L_(nl,function(){return vg(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,m=X.p,X.p=2,x=Ae,Ae|=4;try{k_(s,a,l)}finally{Ae=x,X.p=m,B.T=u}}lt=1,gg(),pg(),bg()}}function gg(){if(lt===1){lt=0;var s=bs,a=Xi,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var u=X.p;X.p=2;var m=Ae;Ae|=4;try{Km(a,s);var g=yh,x=t0(s.containerInfo),k=g.focusedElem,O=g.selectionRange;if(x!==k&&k&&k.ownerDocument&&e0(k.ownerDocument.documentElement,k)){if(O!==null&&Vc(k)){var z=O.start,$=O.end;if($===void 0&&($=z),"selectionStart"in k)k.selectionStart=z,k.selectionEnd=Math.min($,k.value.length);else{var G=k.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var H=U.getSelection(),Q=k.textContent.length,ae=Math.min(O.start,Q),ze=O.end===void 0?ae:Math.min(O.end,Q);!H.extend&&ae>ze&&(x=ze,ze=ae,ae=x);var M=Zf(k,ae),C=Zf(k,ze);if(M&&C&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==C.node||H.focusOffset!==C.offset)){var L=G.createRange();L.setStart(M.node,M.offset),H.removeAllRanges(),ae>ze?(H.addRange(L),H.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),H.addRange(L))}}}}for(G=[],H=k;H=H.parentNode;)H.nodeType===1&&G.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<G.length;k++){var F=G[k];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}fo=!!bh,yh=bh=null}finally{Ae=m,X.p=u,B.T=l}}s.current=a,lt=2}}function pg(){if(lt===2){lt=0;var s=bs,a=Xi,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var u=X.p;X.p=2;var m=Ae;Ae|=4;try{Im(s,a.alternate,a)}finally{Ae=m,X.p=u,B.T=l}}lt=3}}function bg(){if(lt===4||lt===3){lt=0,tx();var s=bs,a=Xi,l=Fn,u=sg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?lt=5:(lt=0,Xi=bs=null,yg(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(ps=null),kc(l),a=a.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(ja,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=B.T,m=X.p,X.p=2,B.T=null;try{for(var g=s.onRecoverableError,x=0;x<u.length;x++){var k=u[x];g(k.value,{componentStack:k.stack})}}finally{B.T=a,X.p=m}}(Fn&3)!==0&&eo(),_n(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===ih?or++:(or=0,ih=s):or=0,cr(0)}}function yg(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Va(a)))}function eo(){return gg(),pg(),bg(),vg()}function vg(){if(lt!==5)return!1;var s=bs,a=nh;nh=0;var l=kc(Fn),u=B.T,m=X.p;try{X.p=32>l?32:l,B.T=null,l=sh,sh=null;var g=bs,x=Fn;if(lt=0,Xi=bs=null,Fn=0,(Ae&6)!==0)throw Error(i(331));var k=Ae;if(Ae|=4,eg(g.current),Jm(g,g.current,x,l),Ae=k,cr(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(ja,g)}catch{}return!0}finally{X.p=m,B.T=u,yg(s,a)}}function xg(s,a,l){a=Zt(l,a),a=zu(s.stateNode,a,2),s=us(s,a,2),s!==null&&(Aa(s,2),_n(s))}function Re(s,a,l){if(s.tag===3)xg(s,s,l);else for(;a!==null;){if(a.tag===3){xg(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ps===null||!ps.has(u))){s=Zt(l,s),l=_m(2),u=us(a,l,2),u!==null&&(wm(l,u,a,s),Aa(u,2),_n(u));break}}a=a.return}}function lh(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new j_;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(Zu=!0,m.add(l),s=R_.bind(null,s,a,l),a.then(s,s))}function R_(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Be===s&&(we&l)===l&&(Ke===4||Ke===3&&(we&62914560)===we&&300>Dt()-Wl?(Ae&2)===0&&Ji(s,0):eh|=l,Ki===we&&(Ki=0)),_n(s)}function _g(s,a){a===0&&(a=gf()),s=Vs(s,a),s!==null&&(Aa(s,a),_n(s))}function M_(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),_g(s,l)}function D_(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),_g(s,l)}function L_(s,a){return xc(s,a)}var to=null,Zi=null,oh=!1,no=!1,ch=!1,vs=0;function _n(s){s!==Zi&&s.next===null&&(Zi===null?to=Zi=s:Zi=Zi.next=s),no=!0,oh||(oh=!0,U_())}function cr(s,a){if(!ch&&no){ch=!0;do for(var l=!1,u=to;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var x=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-zt(42|s)+1)-1,g&=m&~(x&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Eg(u,g))}else g=we,g=rl(u,u===Be?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Oa(u,g)||(l=!0,Eg(u,g));u=u.next}while(l);ch=!1}}function z_(){wg()}function wg(){no=oh=!1;var s=0;vs!==0&&Y_()&&(s=vs);for(var a=Dt(),l=null,u=to;u!==null;){var m=u.next,g=Sg(u,a);g===0?(u.next=null,l===null?to=m:l.next=m,m===null&&(Zi=l)):(l=u,(s!==0||(g&3)!==0)&&(no=!0)),u=m}lt!==0&&lt!==5||cr(s),vs!==0&&(vs=0)}function Sg(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var x=31-zt(g),k=1<<x,O=m[x];O===-1?((k&l)===0||(k&u)!==0)&&(m[x]=cx(k,a)):O<=a&&(s.expiredLanes|=k),g&=~k}if(a=Be,l=we,l=rl(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Ne===2||Ne===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&_c(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Oa(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&_c(u),kc(l)){case 2:case 8:l=ff;break;case 32:l=nl;break;case 268435456:l=mf;break;default:l=nl}return u=kg.bind(null,s),l=xc(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&_c(u),s.callbackPriority=2,s.callbackNode=null,2}function kg(s,a){if(lt!==0&&lt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(eo()&&s.callbackNode!==l)return null;var u=we;return u=rl(s,s===Be?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(ag(s,u,a),Sg(s,Dt()),s.callbackNode!=null&&s.callbackNode===l?kg.bind(null,s):null)}function Eg(s,a){if(eo())return null;ag(s,a,!0)}function U_(){K_(function(){(Ae&6)!==0?xc(df,z_):wg()})}function uh(){if(vs===0){var s=Bi;s===0&&(s=sl,sl<<=1,(sl&261888)===0&&(sl=256)),vs=s}return vs}function Tg(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ul(""+s)}function jg(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function B_(s,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var g=Tg((m[Et]||null).action),x=u.submitter;x&&(a=(a=x[Et]||null)?Tg(a.formAction):x.getAttribute("formAction"),a!==null&&(g=a,x=null));var k=new ml("action","action",null,u,m);s.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(vs!==0){var O=x?jg(m,x):new FormData(m);Cu(l,{pending:!0,data:O,method:m.method,action:g},null,O)}}else typeof g=="function"&&(k.preventDefault(),O=x?jg(m,x):new FormData(m),Cu(l,{pending:!0,data:O,method:m.method,action:g},g,O))},currentTarget:m}]})}}for(var hh=0;hh<Yc.length;hh++){var dh=Yc[hh],H_=dh.toLowerCase(),P_=dh[0].toUpperCase()+dh.slice(1);un(H_,"on"+P_)}un(i0,"onAnimationEnd"),un(a0,"onAnimationIteration"),un(r0,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(n_,"onTransitionRun"),un(s_,"onTransitionStart"),un(i_,"onTransitionCancel"),un(l0,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ur));function Og(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var x=u.length-1;0<=x;x--){var k=u[x],O=k.instance,z=k.currentTarget;if(k=k.listener,O!==g&&m.isPropagationStopped())break e;g=k,m.currentTarget=z;try{g(m)}catch($){bl($)}m.currentTarget=null,g=O}else for(x=0;x<u.length;x++){if(k=u[x],O=k.instance,z=k.currentTarget,k=k.listener,O!==g&&m.isPropagationStopped())break e;g=k,m.currentTarget=z;try{g(m)}catch($){bl($)}m.currentTarget=null,g=O}}}}function ve(s,a){var l=a[Ec];l===void 0&&(l=a[Ec]=new Set);var u=s+"__bubble";l.has(u)||(Ag(a,s,2,!1),l.add(u))}function fh(s,a,l){var u=0;a&&(u|=4),Ag(l,s,u,a)}var so="_reactListening"+Math.random().toString(36).slice(2);function mh(s){if(!s[so]){s[so]=!0,wf.forEach(function(l){l!=="selectionchange"&&(q_.has(l)||fh(l,!1,s),fh(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[so]||(a[so]=!0,fh("selectionchange",!1,a))}}function Ag(s,a,l,u){switch(ip(a)){case 2:var m=gw;break;case 8:m=pw;break;default:m=Ah}l=m.bind(null,a,l,s),m=void 0,!Dc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function gh(s,a,l,u,m){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var k=u.stateNode.containerInfo;if(k===m)break;if(x===4)for(x=u.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;k!==null;){if(x=_i(k),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){u=g=x;continue e}k=k.parentNode}}u=u.return}Df(function(){var z=g,$=Rc(l),G=[];e:{var U=o0.get(s);if(U!==void 0){var H=ml,Q=s;switch(s){case"keypress":if(dl(l)===0)break e;case"keydown":case"keyup":H=Dx;break;case"focusin":Q="focus",H=Bc;break;case"focusout":Q="blur",H=Bc;break;case"beforeblur":case"afterblur":H=Bc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Ux;break;case i0:case a0:case r0:H=Ex;break;case l0:H=Hx;break;case"scroll":case"scrollend":H=xx;break;case"wheel":H=qx;break;case"copy":case"cut":case"paste":H=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Hf;break;case"toggle":case"beforetoggle":H=Vx}var ae=(a&4)!==0,ze=!ae&&(s==="scroll"||s==="scrollend"),M=ae?U!==null?U+"Capture":null:U;ae=[];for(var C=z,L;C!==null;){var F=C;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||M===null||(F=Ra(C,M),F!=null&&ae.push(hr(C,F,L))),ze)break;C=C.return}0<ae.length&&(U=new H(U,Q,null,l,$),G.push({event:U,listeners:ae}))}}if((a&7)===0){e:{if(U=s==="mouseover"||s==="pointerover",H=s==="mouseout"||s==="pointerout",U&&l!==Nc&&(Q=l.relatedTarget||l.fromElement)&&(_i(Q)||Q[xi]))break e;if((H||U)&&(U=$.window===$?$:(U=$.ownerDocument)?U.defaultView||U.parentWindow:window,H?(Q=l.relatedTarget||l.toElement,H=z,Q=Q?_i(Q):null,Q!==null&&(ze=o(Q),ae=Q.tag,Q!==ze||ae!==5&&ae!==27&&ae!==6)&&(Q=null)):(H=null,Q=z),H!==Q)){if(ae=Uf,F="onMouseLeave",M="onMouseEnter",C="mouse",(s==="pointerout"||s==="pointerover")&&(ae=Hf,F="onPointerLeave",M="onPointerEnter",C="pointer"),ze=H==null?U:Na(H),L=Q==null?U:Na(Q),U=new ae(F,C+"leave",H,l,$),U.target=ze,U.relatedTarget=L,F=null,_i($)===z&&(ae=new ae(M,C+"enter",Q,l,$),ae.target=L,ae.relatedTarget=ze,F=ae),ze=F,H&&Q)t:{for(ae=$_,M=H,C=Q,L=0,F=M;F;F=ae(F))L++;F=0;for(var ie=C;ie;ie=ae(ie))F++;for(;0<L-F;)M=ae(M),L--;for(;0<F-L;)C=ae(C),F--;for(;L--;){if(M===C||C!==null&&M===C.alternate){ae=M;break t}M=ae(M),C=ae(C)}ae=null}else ae=null;H!==null&&Cg(G,U,H,ae,!1),Q!==null&&ze!==null&&Cg(G,ze,Q,ae,!0)}}e:{if(U=z?Na(z):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var je=Yf;else if(Ff(U))if(Wf)je=Zx;else{je=Jx;var te=Xx}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?z&&Cc(z.elementType)&&(je=Yf):je=Qx;if(je&&(je=je(s,z))){Gf(G,je,l,$);break e}te&&te(s,U,z),s==="focusout"&&z&&U.type==="number"&&z.memoizedProps.value!=null&&Ac(U,"number",U.value)}switch(te=z?Na(z):window,s){case"focusin":(Ff(te)||te.contentEditable==="true")&&(Ci=te,Ic=z,Pa=null);break;case"focusout":Pa=Ic=Ci=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,n0(G,l,$);break;case"selectionchange":if(t_)break;case"keydown":case"keyup":n0(G,l,$)}var ge;if(Pc)e:{switch(s){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ai?Vf(s,l)&&(Se="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(Pf&&l.locale!=="ko"&&(Ai||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ai&&(ge=Lf()):(ss=$,Lc="value"in ss?ss.value:ss.textContent,Ai=!0)),te=io(z,Se),0<te.length&&(Se=new Bf(Se,s,null,l,$),G.push({event:Se,listeners:te}),ge?Se.data=ge:(ge=If(l),ge!==null&&(Se.data=ge)))),(ge=Fx?Gx(s,l):Yx(s,l))&&(Se=io(z,"onBeforeInput"),0<Se.length&&(te=new Bf("onBeforeInput","beforeinput",null,l,$),G.push({event:te,listeners:Se}),te.data=ge)),B_(G,s,z,l,$)}Og(G,a)})}function hr(s,a,l){return{instance:s,listener:a,currentTarget:l}}function io(s,a){for(var l=a+"Capture",u=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ra(s,l),m!=null&&u.unshift(hr(s,m,g)),m=Ra(s,a),m!=null&&u.push(hr(s,m,g))),s.tag===3)return u;s=s.return}return[]}function $_(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Cg(s,a,l,u,m){for(var g=a._reactName,x=[];l!==null&&l!==u;){var k=l,O=k.alternate,z=k.stateNode;if(k=k.tag,O!==null&&O===u)break;k!==5&&k!==26&&k!==27||z===null||(O=z,m?(z=Ra(l,g),z!=null&&x.unshift(hr(l,z,O))):m||(z=Ra(l,g),z!=null&&x.push(hr(l,z,O)))),l=l.return}x.length!==0&&s.push({event:a,listeners:x})}var V_=/\r\n?/g,I_=/\u0000|\uFFFD/g;function Ng(s){return(typeof s=="string"?s:""+s).replace(V_,`
`).replace(I_,"")}function Rg(s,a){return a=Ng(a),Ng(s)===a}function Le(s,a,l,u,m,g){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ti(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ti(s,""+u);break;case"className":ol(s,"class",u);break;case"tabIndex":ol(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ol(s,l,u);break;case"style":Rf(s,u,g);break;case"data":if(a!=="object"){ol(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ul(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&Le(s,a,"name",m.name,m,null),Le(s,a,"formEncType",m.formEncType,m,null),Le(s,a,"formMethod",m.formMethod,m,null),Le(s,a,"formTarget",m.formTarget,m,null)):(Le(s,a,"encType",m.encType,m,null),Le(s,a,"method",m.method,m,null),Le(s,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=ul(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Cn);break;case"onScroll":u!=null&&ve("scroll",s);break;case"onScrollEnd":u!=null&&ve("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=ul(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":ve("beforetoggle",s),ve("toggle",s),ll(s,"popover",u);break;case"xlinkActuate":An(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":An(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":An(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":An(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":An(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":An(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":An(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":An(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":An(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ll(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=yx.get(l)||l,ll(s,l,u))}}function ph(s,a,l,u,m,g){switch(l){case"style":Rf(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Ti(s,u):(typeof u=="number"||typeof u=="bigint")&&Ti(s,""+u);break;case"onScroll":u!=null&&ve("scroll",s);break;case"onScrollEnd":u!=null&&ve("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),g=s[Et]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(a,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,m);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ll(s,l,u)}}}function bt(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",s),ve("load",s);var u=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var x=l[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Le(s,a,g,x,l,null)}}m&&Le(s,a,"srcSet",l.srcSet,l,null),u&&Le(s,a,"src",l.src,l,null);return;case"input":ve("invalid",s);var k=g=x=m=null,O=null,z=null;for(u in l)if(l.hasOwnProperty(u)){var $=l[u];if($!=null)switch(u){case"name":m=$;break;case"type":x=$;break;case"checked":O=$;break;case"defaultChecked":z=$;break;case"value":g=$;break;case"defaultValue":k=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:Le(s,a,u,$,l,null)}}Of(s,g,k,O,z,x,m,!1);return;case"select":ve("invalid",s),u=x=g=null;for(m in l)if(l.hasOwnProperty(m)&&(k=l[m],k!=null))switch(m){case"value":g=k;break;case"defaultValue":x=k;break;case"multiple":u=k;default:Le(s,a,m,k,l,null)}a=g,l=x,s.multiple=!!u,a!=null?Ei(s,!!u,a,!1):l!=null&&Ei(s,!!u,l,!0);return;case"textarea":ve("invalid",s),g=m=u=null;for(x in l)if(l.hasOwnProperty(x)&&(k=l[x],k!=null))switch(x){case"value":u=k;break;case"defaultValue":m=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Le(s,a,x,k,l,null)}Cf(s,u,m,g);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(u=l[O],u!=null))switch(O){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Le(s,a,O,u,l,null)}return;case"dialog":ve("beforetoggle",s),ve("toggle",s),ve("cancel",s),ve("close",s);break;case"iframe":case"object":ve("load",s);break;case"video":case"audio":for(u=0;u<ur.length;u++)ve(ur[u],s);break;case"image":ve("error",s),ve("load",s);break;case"details":ve("toggle",s);break;case"embed":case"source":case"link":ve("error",s),ve("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in l)if(l.hasOwnProperty(z)&&(u=l[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Le(s,a,z,u,l,null)}return;default:if(Cc(a)){for($ in l)l.hasOwnProperty($)&&(u=l[$],u!==void 0&&ph(s,a,$,u,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(u=l[k],u!=null&&Le(s,a,k,u,l,null))}function F_(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,x=null,k=null,O=null,z=null,$=null;for(H in l){var G=l[H];if(l.hasOwnProperty(H)&&G!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":O=G;default:u.hasOwnProperty(H)||Le(s,a,H,null,u,G)}}for(var U in u){var H=u[U];if(G=l[U],u.hasOwnProperty(U)&&(H!=null||G!=null))switch(U){case"type":g=H;break;case"name":m=H;break;case"checked":z=H;break;case"defaultChecked":$=H;break;case"value":x=H;break;case"defaultValue":k=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,a));break;default:H!==G&&Le(s,a,U,H,u,G)}}Oc(s,x,k,O,z,$,g,m);return;case"select":H=x=k=U=null;for(g in l)if(O=l[g],l.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":H=O;default:u.hasOwnProperty(g)||Le(s,a,g,null,u,O)}for(m in u)if(g=u[m],O=l[m],u.hasOwnProperty(m)&&(g!=null||O!=null))switch(m){case"value":U=g;break;case"defaultValue":k=g;break;case"multiple":x=g;default:g!==O&&Le(s,a,m,g,u,O)}a=k,l=x,u=H,U!=null?Ei(s,!!l,U,!1):!!u!=!!l&&(a!=null?Ei(s,!!l,a,!0):Ei(s,!!l,l?[]:"",!1));return;case"textarea":H=U=null;for(k in l)if(m=l[k],l.hasOwnProperty(k)&&m!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Le(s,a,k,null,u,m)}for(x in u)if(m=u[x],g=l[x],u.hasOwnProperty(x)&&(m!=null||g!=null))switch(x){case"value":U=m;break;case"defaultValue":H=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&Le(s,a,x,m,u,g)}Af(s,U,H);return;case"option":for(var Q in l)if(U=l[Q],l.hasOwnProperty(Q)&&U!=null&&!u.hasOwnProperty(Q))switch(Q){case"selected":s.selected=!1;break;default:Le(s,a,Q,null,u,U)}for(O in u)if(U=u[O],H=l[O],u.hasOwnProperty(O)&&U!==H&&(U!=null||H!=null))switch(O){case"selected":s.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Le(s,a,O,U,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in l)U=l[ae],l.hasOwnProperty(ae)&&U!=null&&!u.hasOwnProperty(ae)&&Le(s,a,ae,null,u,U);for(z in u)if(U=u[z],H=l[z],u.hasOwnProperty(z)&&U!==H&&(U!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,a));break;default:Le(s,a,z,U,u,H)}return;default:if(Cc(a)){for(var ze in l)U=l[ze],l.hasOwnProperty(ze)&&U!==void 0&&!u.hasOwnProperty(ze)&&ph(s,a,ze,void 0,u,U);for($ in u)U=u[$],H=l[$],!u.hasOwnProperty($)||U===H||U===void 0&&H===void 0||ph(s,a,$,U,u,H);return}}for(var M in l)U=l[M],l.hasOwnProperty(M)&&U!=null&&!u.hasOwnProperty(M)&&Le(s,a,M,null,u,U);for(G in u)U=u[G],H=l[G],!u.hasOwnProperty(G)||U===H||U==null&&H==null||Le(s,a,G,U,u,H)}function Mg(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G_(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],g=m.transferSize,x=m.initiatorType,k=m.duration;if(g&&k&&Mg(x)){for(x=0,k=m.responseEnd,u+=1;u<l.length;u++){var O=l[u],z=O.startTime;if(z>k)break;var $=O.transferSize,G=O.initiatorType;$&&Mg(G)&&(O=O.responseEnd,x+=$*(O<k?1:(k-z)/(O-z)))}if(--u,a+=8*(g+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var bh=null,yh=null;function ao(s){return s.nodeType===9?s:s.ownerDocument}function Dg(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lg(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function vh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var xh=null;function Y_(){var s=window.event;return s&&s.type==="popstate"?s===xh?!1:(xh=s,!0):(xh=null,!1)}var zg=typeof setTimeout=="function"?setTimeout:void 0,W_=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,K_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(s){return Ug.resolve(null).then(s).catch(X_)}:zg;function X_(s){setTimeout(function(){throw s})}function xs(s){return s==="head"}function Bg(s,a){var l=a,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),sa(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")dr(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,dr(l);for(var g=l.firstChild;g;){var x=g.nextSibling,k=g.nodeName;g[Ca]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=x}}else l==="body"&&dr(s.ownerDocument.body);l=m}while(l);sa(a)}function Hg(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function _h(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":_h(l),Tc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function J_(s,a,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ca])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=an(s.nextSibling),s===null)break}return null}function Q_(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=an(s.nextSibling),s===null))return null;return s}function Pg(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=an(s.nextSibling),s===null))return null;return s}function wh(s){return s.data==="$?"||s.data==="$~"}function Sh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Z_(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function an(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var kh=null;function qg(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return an(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function $g(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function Vg(s,a,l){switch(a=ao(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function dr(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Tc(s)}var rn=new Map,Ig=new Set;function ro(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Gn=X.d;X.d={f:ew,r:tw,D:nw,C:sw,L:iw,m:aw,X:lw,S:rw,M:ow};function ew(){var s=Gn.f(),a=Jl();return s||a}function tw(s){var a=wi(s);a!==null&&a.tag===5&&a.type==="form"?lm(a):Gn.r(s)}var ea=typeof document>"u"?null:document;function Fg(s,a,l){var u=ea;if(u&&typeof a=="string"&&a){var m=Jt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Ig.has(m)||(Ig.add(m),s={rel:s,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),bt(a,"link",s),ct(a),u.head.appendChild(a)))}}function nw(s){Gn.D(s),Fg("dns-prefetch",s,null)}function sw(s,a){Gn.C(s,a),Fg("preconnect",s,a)}function iw(s,a,l){Gn.L(s,a,l);var u=ea;if(u&&s&&a){var m='link[rel="preload"][as="'+Jt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Jt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Jt(l.imageSizes)+'"]')):m+='[href="'+Jt(s)+'"]';var g=m;switch(a){case"style":g=ta(s);break;case"script":g=na(s)}rn.has(g)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),rn.set(g,s),u.querySelector(m)!==null||a==="style"&&u.querySelector(fr(g))||a==="script"&&u.querySelector(mr(g))||(a=u.createElement("link"),bt(a,"link",s),ct(a),u.head.appendChild(a)))}}function aw(s,a){Gn.m(s,a);var l=ea;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Jt(u)+'"][href="'+Jt(s)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=na(s)}if(!rn.has(g)&&(s=y({rel:"modulepreload",href:s},a),rn.set(g,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mr(g)))return}u=l.createElement("link"),bt(u,"link",s),ct(u),l.head.appendChild(u)}}}function rw(s,a,l){Gn.S(s,a,l);var u=ea;if(u&&s){var m=Si(u).hoistableStyles,g=ta(s);a=a||"default";var x=m.get(g);if(!x){var k={loading:0,preload:null};if(x=u.querySelector(fr(g)))k.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=rn.get(g))&&Eh(s,l);var O=x=u.createElement("link");ct(O),bt(O,"link",s),O._p=new Promise(function(z,$){O.onload=z,O.onerror=$}),O.addEventListener("load",function(){k.loading|=1}),O.addEventListener("error",function(){k.loading|=2}),k.loading|=4,lo(x,a,u)}x={type:"stylesheet",instance:x,count:1,state:k},m.set(g,x)}}}function lw(s,a){Gn.X(s,a);var l=ea;if(l&&s){var u=Si(l).hoistableScripts,m=na(s),g=u.get(m);g||(g=l.querySelector(mr(m)),g||(s=y({src:s,async:!0},a),(a=rn.get(m))&&Th(s,a),g=l.createElement("script"),ct(g),bt(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function ow(s,a){Gn.M(s,a);var l=ea;if(l&&s){var u=Si(l).hoistableScripts,m=na(s),g=u.get(m);g||(g=l.querySelector(mr(m)),g||(s=y({src:s,async:!0,type:"module"},a),(a=rn.get(m))&&Th(s,a),g=l.createElement("script"),ct(g),bt(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function Gg(s,a,l,u){var m=(m=Z.current)?ro(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ta(l.href),l=Si(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=ta(l.href);var g=Si(m).hoistableStyles,x=g.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,x),(g=m.querySelector(fr(s)))&&!g._p&&(x.instance=g,x.state.loading=5),rn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},rn.set(s,l),g||cw(m,s,l,x.state))),a&&u===null)throw Error(i(528,""));return x}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=na(l),l=Si(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ta(s){return'href="'+Jt(s)+'"'}function fr(s){return'link[rel="stylesheet"]['+s+"]"}function Yg(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function cw(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),bt(a,"link",l),ct(a),s.head.appendChild(a))}function na(s){return'[src="'+Jt(s)+'"]'}function mr(s){return"script[async]"+s}function Wg(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Jt(l.href)+'"]');if(u)return a.instance=u,ct(u),u;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ct(u),bt(u,"style",m),lo(u,l.precedence,s),a.instance=u;case"stylesheet":m=ta(l.href);var g=s.querySelector(fr(m));if(g)return a.state.loading|=4,a.instance=g,ct(g),g;u=Yg(l),(m=rn.get(m))&&Eh(u,m),g=(s.ownerDocument||s).createElement("link"),ct(g);var x=g;return x._p=new Promise(function(k,O){x.onload=k,x.onerror=O}),bt(g,"link",u),a.state.loading|=4,lo(g,l.precedence,s),a.instance=g;case"script":return g=na(l.src),(m=s.querySelector(mr(g)))?(a.instance=m,ct(m),m):(u=l,(m=rn.get(g))&&(u=y({},l),Th(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),ct(m),bt(m,"link",u),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,lo(u,l.precedence,s));return a.instance}function lo(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,x=0;x<u.length;x++){var k=u[x];if(k.dataset.precedence===a)g=k;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Eh(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Th(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var oo=null;function Kg(s,a,l){if(oo===null){var u=new Map,m=oo=new Map;m.set(l,u)}else m=oo,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var g=l[m];if(!(g[Ca]||g[ft]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(a)||"";x=s+x;var k=u.get(x);k?k.push(g):u.set(x,[g])}}return u}function Xg(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function uw(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Jg(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function hw(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=ta(u.href),g=a.querySelector(fr(m));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=co.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=g,ct(g);return}g=a.ownerDocument||a,u=Yg(u),(m=rn.get(m))&&Eh(u,m),g=g.createElement("link"),ct(g);var x=g;x._p=new Promise(function(k,O){x.onload=k,x.onerror=O}),bt(g,"link",u),l.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=co.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var jh=0;function dw(s,a){return s.stylesheets&&s.count===0&&ho(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&ho(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+a);0<s.imgBytes&&jh===0&&(jh=62500*G_());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ho(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>jh?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function co(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ho(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var uo=null;function ho(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,uo=new Map,a.forEach(fw,s),uo=null,co.call(s))}function fw(s,a){if(!(a.state.loading&4)){var l=uo.get(s);if(l)var u=l.get(null);else{l=new Map,uo.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var x=m[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}m=a.instance,x=m.getAttribute("data-precedence"),g=l.get(x)||u,g===u&&l.set(null,m),l.set(x,m),this.count++,u=co.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var gr={$$typeof:A,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function mw(s,a,l,u,m,g,x,k,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Qg(s,a,l,u,m,g,x,k,O,z,$,G){return s=new mw(s,a,l,x,O,z,$,G,k),a=1,g===!0&&(a|=24),g=Bt(3,null,null,a),s.current=g,g.stateNode=s,a=ru(),a.refCount++,s.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:a},uu(g),s}function Zg(s){return s?(s=Mi,s):Mi}function ep(s,a,l,u,m,g){m=Zg(m),u.context===null?u.context=m:u.pendingContext=m,u=cs(a),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=us(s,u,a),l!==null&&(Nt(l,s,a),Ya(l,s,a))}function tp(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Oh(s,a){tp(s,a),(s=s.alternate)&&tp(s,a)}function np(s){if(s.tag===13||s.tag===31){var a=Vs(s,67108864);a!==null&&Nt(a,s,67108864),Oh(s,67108864)}}function sp(s){if(s.tag===13||s.tag===31){var a=Vt();a=Sc(a);var l=Vs(s,a);l!==null&&Nt(l,s,a),Oh(s,a)}}var fo=!0;function gw(s,a,l,u){var m=B.T;B.T=null;var g=X.p;try{X.p=2,Ah(s,a,l,u)}finally{X.p=g,B.T=m}}function pw(s,a,l,u){var m=B.T;B.T=null;var g=X.p;try{X.p=8,Ah(s,a,l,u)}finally{X.p=g,B.T=m}}function Ah(s,a,l,u){if(fo){var m=Ch(u);if(m===null)gh(s,a,u,mo,l),ap(s,u);else if(yw(m,s,a,l,u))u.stopPropagation();else if(ap(s,u),a&4&&-1<bw.indexOf(s)){for(;m!==null;){var g=wi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Bs(g.pendingLanes);if(x!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;x;){var O=1<<31-zt(x);k.entanglements[1]|=O,x&=~O}_n(g),(Ae&6)===0&&(Kl=Dt()+500,cr(0))}}break;case 31:case 13:k=Vs(g,2),k!==null&&Nt(k,g,2),Jl(),Oh(g,2)}if(g=Ch(u),g===null&&gh(s,a,u,mo,l),g===m)break;m=g}m!==null&&u.stopPropagation()}else gh(s,a,u,null,l)}}function Ch(s){return s=Rc(s),Nh(s)}var mo=null;function Nh(s){if(mo=null,s=_i(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return mo=s,null}function ip(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nx()){case df:return 2;case ff:return 8;case nl:case sx:return 32;case mf:return 268435456;default:return 32}default:return 32}}var Rh=!1,_s=null,ws=null,Ss=null,pr=new Map,br=new Map,ks=[],bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ap(s,a){switch(s){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":pr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(a.pointerId)}}function yr(s,a,l,u,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},a!==null&&(a=wi(a),a!==null&&np(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function yw(s,a,l,u,m){switch(a){case"focusin":return _s=yr(_s,s,a,l,u,m),!0;case"dragenter":return ws=yr(ws,s,a,l,u,m),!0;case"mouseover":return Ss=yr(Ss,s,a,l,u,m),!0;case"pointerover":var g=m.pointerId;return pr.set(g,yr(pr.get(g)||null,s,a,l,u,m)),!0;case"gotpointercapture":return g=m.pointerId,br.set(g,yr(br.get(g)||null,s,a,l,u,m)),!0}return!1}function rp(s){var a=_i(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,xf(s.priority,function(){sp(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,xf(s.priority,function(){sp(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function go(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Ch(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Nc=u,l.target.dispatchEvent(u),Nc=null}else return a=wi(l),a!==null&&np(a),s.blockedOn=l,!1;a.shift()}return!0}function lp(s,a,l){go(s)&&l.delete(a)}function vw(){Rh=!1,_s!==null&&go(_s)&&(_s=null),ws!==null&&go(ws)&&(ws=null),Ss!==null&&go(Ss)&&(Ss=null),pr.forEach(lp),br.forEach(lp)}function po(s,a){s.blockedOn===a&&(s.blockedOn=null,Rh||(Rh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vw)))}var bo=null;function op(s){bo!==s&&(bo=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bo===s&&(bo=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],m=s[a+2];if(typeof u!="function"){if(Nh(u||l)===null)continue;break}var g=wi(l);g!==null&&(s.splice(a,3),a-=3,Cu(g,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function sa(s){function a(O){return po(O,s)}_s!==null&&po(_s,s),ws!==null&&po(ws,s),Ss!==null&&po(Ss,s),pr.forEach(a),br.forEach(a);for(var l=0;l<ks.length;l++){var u=ks[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ks.length&&(l=ks[0],l.blockedOn===null);)rp(l),l.blockedOn===null&&ks.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],g=l[u+1],x=m[Et]||null;if(typeof g=="function")x||op(l);else if(x){var k=null;if(g&&g.hasAttribute("formAction")){if(m=g,x=g[Et]||null)k=x.formAction;else if(Nh(m)!==null)continue}else k=x.action;typeof k=="function"?l[u+1]=k:(l.splice(u,3),u-=3),op(l)}}}function cp(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Mh(s){this._internalRoot=s}yo.prototype.render=Mh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Vt();ep(l,u,s,a,null,null)},yo.prototype.unmount=Mh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ep(s.current,2,null,s,null,null),Jl(),a[xi]=null}};function yo(s){this._internalRoot=s}yo.prototype.unstable_scheduleHydration=function(s){if(s){var a=vf();s={blockedOn:null,target:s,priority:a};for(var l=0;l<ks.length&&a!==0&&a<ks[l].priority;l++);ks.splice(l,0,s),l===0&&rp(s)}};var up=e.version;if(up!=="19.2.3")throw Error(i(527,up,"19.2.3"));X.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var xw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{ja=vo.inject(xw),Lt=vo}catch{}}return xr.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",m=bm,g=ym,x=vm;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Qg(s,1,!1,null,null,l,u,null,m,g,x,cp),s[xi]=a.current,mh(s),new Mh(a)},xr.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,m="",g=bm,x=ym,k=vm,O=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),a=Qg(s,1,!0,a,l??null,u,m,O,g,x,k,cp),a.context=Zg(null),l=a.current,u=Vt(),u=Sc(u),m=cs(u),m.callback=null,us(l,m,u),l=u,a.current.lanes=l,Aa(a,l),_n(a),s[xi]=a.current,mh(s),new yo(a)},xr.version="19.2.3",xr}var xp;function Rw(){if(xp)return zh.exports;xp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zh.exports=Nw(),zh.exports}var Mw=Rw();const Dw=gy(Mw);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _p="popstate";function Lw(n={}){function e(r,o){let{pathname:c="/",search:h="",hash:d=""}=yi(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),dd("",{pathname:c,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let d=r.location.href,f=d.indexOf("#");h=f===-1?d:d.slice(0,f)}return h+"#"+(typeof o=="string"?o:Ur(o))}function i(r,o){Wt(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Uw(e,t,i,n)}function Fe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zw(){return Math.random().toString(36).substring(2,10)}function wp(n,e){return{usr:n.state,key:n.key,idx:e}}function dd(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yi(e):e,state:t,key:e&&e.key||i||zw()}}function Ur({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Uw(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",d=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function y(){h="POP";let S=p(),T=S==null?null:S-f;f=S,d&&d({action:h,location:E.location,delta:T})}function v(S,T){h="PUSH";let j=dd(E.location,S,T);t&&t(j,S),f=p()+1;let A=wp(j,f),P=E.createHref(j);try{c.pushState(A,"",P)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;r.location.assign(P)}o&&d&&d({action:h,location:E.location,delta:1})}function _(S,T){h="REPLACE";let j=dd(E.location,S,T);t&&t(j,S),f=p();let A=wp(j,f),P=E.createHref(j);c.replaceState(A,"",P),o&&d&&d({action:h,location:E.location,delta:0})}function w(S){return Bw(S)}let E={get action(){return h},get location(){return n(r,c)},listen(S){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(_p,y),d=S,()=>{r.removeEventListener(_p,y),d=null}},createHref(S){return e(r,S)},createURL:w,encodeLocation(S){let T=w(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:_,go(S){return c.go(S)}};return E}function Bw(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ur(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function by(n,e,t="/"){return Hw(n,e,t,!1)}function Hw(n,e,t,i){let r=typeof e=="string"?yi(e):e,o=Zn(r.pathname||"/",t);if(o==null)return null;let c=yy(n);Pw(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=Jw(o);h=Kw(c[d],f,i)}return h}function yy(n,e=[],t=[],i="",r=!1){let o=(c,h,d=r,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&d)return;Fe(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=Qn([i,p.relativePath]),v=t.concat(p);c.children&&c.children.length>0&&(Fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),yy(c.children,e,v,y,d)),!(c.path==null&&!c.index)&&e.push({path:y,score:Yw(y,c.index),routesMeta:v})};return n.forEach((c,h)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))o(c,h);else for(let f of vy(c.path))o(c,h,!0,f)}),e}function vy(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=vy(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function Pw(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ww(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var qw=/^:[\w-]+$/,$w=3,Vw=2,Iw=1,Fw=10,Gw=-2,Sp=n=>n==="*";function Yw(n,e){let t=n.split("/"),i=t.length;return t.some(Sp)&&(i+=Gw),e&&(i+=Vw),t.filter(r=>!Sp(r)).reduce((r,o)=>r+(qw.test(o)?$w:o===""?Iw:Fw),i)}function Ww(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Kw(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],f=h===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=Yo({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!y&&f&&t&&!i[i.length-1].route.index&&(y=Yo({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!y)return null;Object.assign(r,y.params),c.push({params:r,pathname:Qn([o,y.pathname]),pathnameBase:t1(Qn([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Qn([o,y.pathnameBase]))}return c}function Yo(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Xw(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},v)=>{if(p==="*"){let w=h[v]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=h[v];return y&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:n}}function Xw(n,e=!1,t=!0){Wt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Jw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var xy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qw=n=>xy.test(n);function Zw(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?yi(n):n,o;if(t)if(Qw(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Wt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=kp(t.substring(1),"/"):o=kp(t,e)}else o=e;return{pathname:o,search:n1(i),hash:s1(r)}}function kp(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Ph(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ud(n){let e=e1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Bd(n,e,t,i=!1){let r;typeof n=="string"?r=yi(n):(r={...n},Fe(!r.pathname||!r.pathname.includes("?"),Ph("?","pathname","search",r)),Fe(!r.pathname||!r.pathname.includes("#"),Ph("#","pathname","hash",r)),Fe(!r.search||!r.search.includes("#"),Ph("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=t;else{let y=e.length-1;if(!i&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}h=y>=0?e[y]:"/"}let d=Zw(r,h),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Qn=n=>n.join("/").replace(/\/\/+/g,"/"),t1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),n1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,s1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,i1=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function a1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function r1(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wy(n,e){let t=n;if(typeof t!="string"||!xy.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(_y)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Zn(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:r=!0}catch{Wt(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sy=["POST","PUT","PATCH","DELETE"];new Set(Sy);var l1=["GET",...Sy];new Set(l1);var Sa=R.createContext(null);Sa.displayName="DataRouter";var ic=R.createContext(null);ic.displayName="DataRouterState";var o1=R.createContext(!1),ky=R.createContext({isTransitioning:!1});ky.displayName="ViewTransition";var c1=R.createContext(new Map);c1.displayName="Fetchers";var u1=R.createContext(null);u1.displayName="Await";var Kt=R.createContext(null);Kt.displayName="Navigation";var Jr=R.createContext(null);Jr.displayName="Location";var On=R.createContext({outlet:null,matches:[],isDataRoute:!1});On.displayName="Route";var Hd=R.createContext(null);Hd.displayName="RouteError";var Ey="REACT_ROUTER_ERROR",h1="REDIRECT",d1="ROUTE_ERROR_RESPONSE";function f1(n){if(n.startsWith(`${Ey}:${h1}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function m1(n){if(n.startsWith(`${Ey}:${d1}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new i1(e.status,e.statusText,e.data)}catch{}}function g1(n,{relative:e}={}){Fe(ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=R.useContext(Kt),{hash:r,pathname:o,search:c}=Qr(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Qn([t,o])),i.createHref({pathname:h,search:c,hash:r})}function ka(){return R.useContext(Jr)!=null}function zs(){return Fe(ka(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Jr).location}var Ty="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jy(n){R.useContext(Kt).static||R.useLayoutEffect(n)}function Oy(){let{isDataRoute:n}=R.useContext(On);return n?O1():p1()}function p1(){Fe(ka(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Sa),{basename:e,navigator:t}=R.useContext(Kt),{matches:i}=R.useContext(On),{pathname:r}=zs(),o=JSON.stringify(Ud(i)),c=R.useRef(!1);return jy(()=>{c.current=!0}),R.useCallback((d,f={})=>{if(Wt(c.current,Ty),!c.current)return;if(typeof d=="number"){t.go(d);return}let p=Bd(d,JSON.parse(o),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Qn([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,o,r,n])}R.createContext(null);function Qr(n,{relative:e}={}){let{matches:t}=R.useContext(On),{pathname:i}=zs(),r=JSON.stringify(Ud(t));return R.useMemo(()=>Bd(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function b1(n,e){return Ay(n,e)}function Ay(n,e,t,i,r){var j;Fe(ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(Kt),{matches:c}=R.useContext(On),h=c[c.length-1],d=h?h.params:{},f=h?h.pathname:"/",p=h?h.pathnameBase:"/",y=h&&h.route;{let A=y&&y.path||"";Ny(f,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=zs(),_;if(e){let A=typeof e=="string"?yi(e):e;Fe(p==="/"||((j=A.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=v;let w=_.pathname||"/",E=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=by(n,{pathname:E});Wt(y||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Wt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=w1(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:Qn([p,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Qn([p,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,t,i,r);return e&&T?R.createElement(Jr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function y1(){let n=j1(),e=a1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:r},t):null,c)}var v1=R.createElement(y1,null),Cy=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=m1(n.digest);t&&(n=t)}let e=n!==void 0?R.createElement(On.Provider,{value:this.props.routeContext},R.createElement(Hd.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?R.createElement(x1,{error:n},e):e}};Cy.contextType=o1;var qh=new WeakMap;function x1({children:n,error:e}){let{basename:t}=R.useContext(Kt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=f1(e.digest);if(i){let r=qh.get(e);if(r)throw r;let o=wy(i.location,t);if(_y&&!qh.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw qh.set(e,c),c}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function _1({routeContext:n,match:e,children:t}){let i=R.useContext(Sa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(On.Provider,{value:n},t)}function w1(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Fe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:v,errors:_}=t,w=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&i?(p,y)=>{var v,_;i(p,{location:t.location,params:((_=(v=t.matches)==null?void 0:v[0])==null?void 0:_.params)??{},unstable_pattern:r1(t.matches),errorInfo:y})}:void 0;return o.reduceRight((p,y,v)=>{let _,w=!1,E=null,S=null;t&&(_=c&&y.route.id?c[y.route.id]:void 0,E=y.route.errorElement||v1,h&&(d<0&&v===0?(Ny("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):d===v&&(w=!0,S=y.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,v+1)),j=()=>{let A;return _?A=E:w?A=S:y.route.Component?A=R.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=p,R.createElement(_1,{match:y,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:A})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?R.createElement(Cy,{location:t.location,revalidation:t.revalidation,component:E,error:_,children:j(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:f}):j()},null)}function Pd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S1(n){let e=R.useContext(Sa);return Fe(e,Pd(n)),e}function k1(n){let e=R.useContext(ic);return Fe(e,Pd(n)),e}function E1(n){let e=R.useContext(On);return Fe(e,Pd(n)),e}function qd(n){let e=E1(n),t=e.matches[e.matches.length-1];return Fe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function T1(){return qd("useRouteId")}function j1(){var i;let n=R.useContext(Hd),e=k1("useRouteError"),t=qd("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function O1(){let{router:n}=S1("useNavigate"),e=qd("useNavigate"),t=R.useRef(!1);return jy(()=>{t.current=!0}),R.useCallback(async(r,o={})=>{Wt(t.current,Ty),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var Ep={};function Ny(n,e,t){!e&&!Ep[n]&&(Ep[n]=!0,Wt(!1,t))}R.memo(A1);function A1({routes:n,future:e,state:t,onError:i}){return Ay(n,void 0,t,i,e)}function Ry({to:n,replace:e,state:t,relative:i}){Fe(ka(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=R.useContext(Kt);Wt(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=R.useContext(On),{pathname:c}=zs(),h=Oy(),d=Bd(n,Ud(o),c,i==="path"),f=JSON.stringify(d);return R.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:i})},[h,f,i,e,t]),null}function li(n){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){Fe(!ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[h,r,o,c]);typeof t=="string"&&(t=yi(t));let{pathname:f="/",search:p="",hash:y="",state:v=null,key:_="default"}=t,w=R.useMemo(()=>{let E=Zn(f,h);return E==null?null:{location:{pathname:E,search:p,hash:y,state:v,key:_},navigationType:i}},[h,f,p,y,v,_,i]);return Wt(w!=null,`<Router basename="${h}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(Kt.Provider,{value:d},R.createElement(Jr.Provider,{children:e,value:w}))}function N1({children:n,location:e}){return b1(fd(n),e)}function fd(n,e=[]){let t=[];return R.Children.forEach(n,(i,r)=>{if(!R.isValidElement(i))return;let o=[...e,r];if(i.type===R.Fragment){t.push.apply(t,fd(i.props.children,o));return}Fe(i.type===li,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=fd(i.props.children,o)),t.push(c)}),t}var Ho="get",Po="application/x-www-form-urlencoded";function ac(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function R1(n){return ac(n)&&n.tagName.toLowerCase()==="button"}function M1(n){return ac(n)&&n.tagName.toLowerCase()==="form"}function D1(n){return ac(n)&&n.tagName.toLowerCase()==="input"}function L1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function z1(n,e){return n.button===0&&(!e||e==="_self")&&!L1(n)}var xo=null;function U1(){if(xo===null)try{new FormData(document.createElement("form"),0),xo=!1}catch{xo=!0}return xo}var B1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $h(n){return n!=null&&!B1.has(n)?(Wt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Po}"`),null):n}function H1(n,e){let t,i,r,o,c;if(M1(n)){let h=n.getAttribute("action");i=h?Zn(h,e):null,t=n.getAttribute("method")||Ho,r=$h(n.getAttribute("enctype"))||Po,o=new FormData(n)}else if(R1(n)||D1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Zn(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Ho,r=$h(n.getAttribute("formenctype"))||$h(h.getAttribute("enctype"))||Po,o=new FormData(h,n),!U1()){let{name:f,type:p,value:y}=n;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,y)}}else{if(ac(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ho,i=null,r=Po,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $d(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function P1(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Zn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function q1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function V1(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await q1(o,t);return c.links?c.links():[]}return[]}));return Y1(i.flat(1).filter($1).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Tp(n,e,t,i,r,o){let c=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>c(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var y;let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function I1(n,e,{includeHydrateFallback:t}={}){return F1(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function F1(n){return[...new Set(n)]}function G1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Y1(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(G1(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function My(){let n=R.useContext(Sa);return $d(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function W1(){let n=R.useContext(ic);return $d(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vd=R.createContext(void 0);Vd.displayName="FrameworkContext";function Dy(){let n=R.useContext(Vd);return $d(n,"You must render this element inside a <HydratedRouter> element"),n}function K1(n,e){let t=R.useContext(Vd),[i,r]=R.useState(!1),[o,c]=R.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=e,v=R.useRef(null);R.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let E=T=>{T.forEach(j=>{c(j.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[n]),R.useEffect(()=>{if(i){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[i]);let _=()=>{r(!0)},w=()=>{r(!1),c(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:_r(h,_),onBlur:_r(d,w),onMouseEnter:_r(f,_),onMouseLeave:_r(p,w),onTouchStart:_r(y,_)}]:[!1,v,{}]}function _r(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function X1({page:n,...e}){let{router:t}=My(),i=R.useMemo(()=>by(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?R.createElement(Q1,{page:n,matches:i,...e}):null}function J1(n){let{manifest:e,routeModules:t}=Dy(),[i,r]=R.useState([]);return R.useEffect(()=>{let o=!1;return V1(n,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[n,e,t]),i}function Q1({page:n,matches:e,...t}){let i=zs(),{manifest:r,routeModules:o}=Dy(),{basename:c}=My(),{loaderData:h,matches:d}=W1(),f=R.useMemo(()=>Tp(n,e,d,r,i,"data"),[n,e,d,r,i]),p=R.useMemo(()=>Tp(n,e,d,r,i,"assets"),[n,e,d,r,i]),y=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,E=!1;if(e.forEach(T=>{var A;let j=r.routes[T.route.id];!j||!j.hasLoader||(!f.some(P=>P.route.id===T.route.id)&&T.route.id in h&&((A=o[T.route.id])!=null&&A.shouldRevalidate)||j.hasClientLoader?E=!0:w.add(T.route.id))}),w.size===0)return[];let S=P1(n,c,"data");return E&&w.size>0&&S.searchParams.set("_routes",e.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[c,h,i,r,f,e,n,o]),v=R.useMemo(()=>I1(p,r),[p,r]),_=J1(p);return R.createElement(R.Fragment,null,y.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),_.map(({key:w,link:E})=>R.createElement("link",{key:w,nonce:t.nonce,...E})))}function Z1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var e2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e2&&(window.__reactRouterVersion="7.11.0")}catch{}function t2({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=R.useRef();r.current==null&&(r.current=Lw({window:i,v5Compat:!0}));let o=r.current,[c,h]=R.useState({action:o.action,location:o.location}),d=R.useCallback(f=>{t===!1?h(f):R.startTransition(()=>h(f))},[t]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.createElement(C1,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var Ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zy=R.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:f,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:v,..._},w){let{basename:E,unstable_useTransitions:S}=R.useContext(Kt),T=typeof f=="string"&&Ly.test(f),j=wy(f,E);f=j.to;let A=g1(f,{relative:r}),[P,q,Y]=K1(i,_),V=i2(f,{replace:c,state:h,target:d,preventScrollReset:p,relative:r,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});function W(he){e&&e(he),he.defaultPrevented||V(he)}let J=R.createElement("a",{..._,...Y,href:j.absoluteURL||A,onClick:j.isExternal||o?e:W,ref:Z1(w,q),target:d,"data-discover":!T&&t==="render"?"true":void 0});return P&&!T?R.createElement(R.Fragment,null,J,R.createElement(X1,{page:A})):J});zy.displayName="Link";var ha=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...f},p){let y=Qr(c,{relative:f.relative}),v=zs(),_=R.useContext(ic),{navigator:w,basename:E}=R.useContext(Kt),S=_!=null&&c2(y)&&h===!0,T=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,j=v.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(j=j.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&E&&(A=Zn(A,E)||A);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let q=j===T||!r&&j.startsWith(T)&&j.charAt(P)==="/",Y=A!=null&&(A===T||!r&&A.startsWith(T)&&A.charAt(T.length)==="/"),V={isActive:q,isPending:Y,isTransitioning:S},W=q?e:void 0,J;typeof i=="function"?J=i(V):J=[i,q?"active":null,Y?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let he=typeof o=="function"?o(V):o;return R.createElement(zy,{...f,"aria-current":W,className:J,ref:p,style:he,to:c,viewTransition:h},typeof d=="function"?d(V):d)});ha.displayName="NavLink";var n2=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:c=Ho,action:h,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:v,..._},w)=>{let{unstable_useTransitions:E}=R.useContext(Kt),S=l2(),T=o2(h,{relative:f}),j=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&Ly.test(h),P=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let Y=q.nativeEvent.submitter,V=(Y==null?void 0:Y.getAttribute("formmethod"))||c,W=()=>S(Y||q.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:v});E&&t!==!1?R.startTransition(()=>W()):W()};return R.createElement("form",{ref:w,method:j,action:T,onSubmit:i?d:P,..._,"data-discover":!A&&n==="render"?"true":void 0})});n2.displayName="Form";function s2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uy(n){let e=R.useContext(Sa);return Fe(e,s2(n)),e}function i2(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let f=Oy(),p=zs(),y=Qr(n,{relative:o});return R.useCallback(v=>{if(z1(v,e)){v.preventDefault();let _=t!==void 0?t:Ur(p)===Ur(y),w=()=>f(n,{replace:_,state:i,preventScrollReset:r,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?R.startTransition(()=>w()):w()}},[p,f,y,t,i,e,n,r,o,c,h,d])}var a2=0,r2=()=>`__${String(++a2)}__`;function l2(){let{router:n}=Uy("useSubmit"),{basename:e}=R.useContext(Kt),t=T1(),i=n.fetch,r=n.navigate;return R.useCallback(async(o,c={})=>{let{action:h,method:d,encType:f,formData:p,body:y}=H1(o,e);if(c.navigate===!1){let v=c.fetcherKey||r2();await i(v,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:y,formMethod:c.method||d,formEncType:c.encType||f,flushSync:c.flushSync})}else await r(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:y,formMethod:c.method||d,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,r,e,t])}function o2(n,{relative:e}={}){let{basename:t}=R.useContext(Kt),i=R.useContext(On);Fe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Qr(n||".",{relative:e})},c=zs();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(p=>p==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let p=h.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Qn([t,o.pathname])),Ur(o)}function c2(n,{relative:e}={}){let t=R.useContext(ky);Fe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Uy("useViewTransitionState"),r=Qr(n,{relative:e});if(!t.isTransitioning)return!1;let o=Zn(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Zn(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yo(r.pathname,c)!=null||Yo(r.pathname,o)!=null}const By=R.createContext(null),u2="DisneyAlathur@shammu",h2="Shammu@2002",d2=({children:n})=>{const[e,t]=R.useState(!1);R.useEffect(()=>{localStorage.getItem("disney_admin_auth")==="true"&&t(!0)},[]);const i=(o,c)=>o===u2&&c===h2?(t(!0),localStorage.setItem("disney_admin_auth","true"),!0):!1,r=()=>{t(!1),localStorage.removeItem("disney_admin_auth")};return b.jsx(By.Provider,{value:{isAdmin:e,login:i,logout:r},children:n})},Id=()=>{const n=R.useContext(By);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},f2=({isOpen:n,onClose:e})=>{const{login:t,isAdmin:i,logout:r}=Id(),[o,c]=R.useState(""),[h,d]=R.useState(""),[f,p]=R.useState(""),[y,v]=R.useState(!1);if(!n)return null;const _=async E=>{E.preventDefault(),p(""),v(!0),await new Promise(T=>setTimeout(T,500));const S=t(o,h);v(!1),S?(c(""),d(""),e()):p("Invalid credentials. Please try again.")},w=()=>{r(),e()};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 print:hidden",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden transition-colors animate-fade-in",children:[b.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 bg-gradient-to-r from-blue-600 to-blue-700",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-3",children:b.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:i?"Admin Panel":"Admin Login"}),b.jsx("p",{className:"text-blue-100 text-sm",children:i?"You are logged in as Admin":"Access protected features"})]})]}),b.jsx("button",{onClick:e,className:"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),b.jsx("div",{className:"p-6",children:i?b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx("svg",{className:"w-10 h-10 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),b.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"You have access to Inventory and Sales Report."}),b.jsxs("button",{onClick:w,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center",children:[b.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]}):b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[f&&b.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm flex items-center",children:[b.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Admin ID"}),b.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:"Enter admin ID",className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),b.jsx("input",{type:"password",value:h,onChange:E=>d(E.target.value),placeholder:"Enter password",className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",required:!0})]}),b.jsx("button",{type:"submit",disabled:y,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center",children:y?b.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):b.jsxs(b.Fragment,{children:[b.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Login"]})})]})}),b.jsx("div",{className:"px-6 py-3 bg-slate-50 dark:bg-slate-700/50 border-t border-slate-200 dark:border-slate-700 text-center",children:b.jsxs("span",{className:"text-[10px] text-slate-400 dark:text-slate-500",children:["powered by ",b.jsx("span",{className:"font-medium text-blue-500",children:"AstriOrb"})]})})]})})};function rc(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function m2(n,e,t,i){function r(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(p){try{f(i.next(p))}catch(y){c(y)}}function d(p){try{f(i.throw(p))}catch(y){c(y)}}function f(p){p.done?o(p.value):r(p.value).then(h,d)}f((i=i.apply(n,e||[])).next())})}const g2=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Fd extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class p2 extends Fd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jp extends Fd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Op extends Fd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var md;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(md||(md={}));class b2{constructor(e,{headers:t={},customFetch:i,region:r=md.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=g2(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return m2(this,arguments,void 0,function*(t,i={}){var r;let o,c;try{const{headers:h,method:d,body:f,signal:p,timeout:y}=i;let v={},{region:_}=i;_||(_=this.region);const w=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let E;f&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(v["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(v["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let S=p;y&&(c=new AbortController,o=setTimeout(()=>c.abort(),y),p?(S=c.signal,p.addEventListener("abort",()=>c.abort())):S=c.signal);const T=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:E,signal:S}).catch(q=>{throw new p2(q)}),j=T.headers.get("x-relay-error");if(j&&j==="true")throw new jp(T);if(!T.ok)throw new Op(T);let A=((r=T.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),P;return A==="application/json"?P=yield T.json():A==="application/octet-stream"||A==="application/pdf"?P=yield T.blob():A==="text/event-stream"?P=T:A==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(h){return{data:null,error:h,response:h instanceof Op||h instanceof jp?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var y2=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},v2=class{constructor(n){var e,t;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,h=null,d=null,f=o.status,p=o.statusText;if(o.ok){var y,v;if(t.method!=="HEAD"){var _;const T=await o.text();T===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((_=t.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=T:h=JSON.parse(T))}const E=(y=t.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),S=(v=o.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");E&&S&&S.length>1&&(d=parseInt(S[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,f=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var w;const E=await o.text();try{c=JSON.parse(E),Array.isArray(c)&&o.status===404&&(h=[],c=null,f=200,p="OK")}catch{o.status===404&&E===""?(f=204,p="No Content"):c={message:E}}if(c&&t.isMaybeSingle&&(!(c==null||(w=c.details)===null||w===void 0)&&w.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&t.shouldThrowOnError)throw new y2(c)}return{error:c,data:h,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(r=r.catch(o=>{var c;let h="";const d=o==null?void 0:o.cause;if(d){var f,p,y,v;const w=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",E=(p=d==null?void 0:d.code)!==null&&p!==void 0?p:"";h=`${(y=o==null?void 0:o.name)!==null&&y!==void 0?y:"FetchError"}: ${o==null?void 0:o.message}`,h+=`

Caused by: ${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"Error"}: ${w}`,E&&(h+=` (${E})`),d!=null&&d.stack&&(h+=`
${d.stack}`)}else{var _;h=(_=o==null?void 0:o.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(n,e)}returns(){return this}overrideTypes(){return this}},x2=class extends v2{select(n){let e=!1;const t=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:i=t}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${n}`),this.url.searchParams.set(o,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var c;const h=[n?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${h};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Ap=new RegExp("[,()]");var da=class extends x2{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&Ap.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&Ap.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${r}fts${o}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},_2=class{constructor(n,{headers:e={},schema:t,fetch:i}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=i}select(n,e){const{head:t=!1,count:i}=e??{},r=t?"HEAD":"GET";let o=!1;const c=(n??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",c),i&&this.headers.append("Prefer",`count=${i}`),new da({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:t=!0}={}){var i;const r="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const o=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(o.length>0){const c=[...new Set(o)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new da({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:r=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new da({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(n,{count:e}={}){var t;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new da({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:n}={}){var e;const t="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new da({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},w2=class Hy{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=r}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new _2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Hy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:r=!1,count:o}={}){var c;let h;const d=new URL(`${this.url}/rpc/${e}`);let f;i||r?(h=i?"HEAD":"GET",Object.entries(t).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{d.searchParams.append(y,v)})):(h="POST",f=t);const p=new Headers(this.headers);return o&&p.set("Prefer",`count=${o}`),new da({method:h,url:d,headers:p,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class S2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,r=parseInt(i.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const k2="2.89.0",E2=`realtime-js/${k2}`,Py="1.0.0",T2="2.0.0",Cp=Py,gd=1e4,j2=1e3,O2=100;var js;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(js||(js={}));var ot;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ot||(ot={}));var gn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(gn||(gn={}));var pd;(function(n){n.websocket="websocket"})(pd||(pd={}));var hi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(hi||(hi={}));class A2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const r=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,i;const r=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,i){var r,o;const c=e.topic,h=(r=e.ref)!==null&&r!==void 0?r:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+f.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(_),E=0;w.setUint8(E++,this.KINDS.userBroadcastPush),w.setUint8(E++,d.length),w.setUint8(E++,h.length),w.setUint8(E++,c.length),w.setUint8(E++,f.length),w.setUint8(E++,y.length),w.setUint8(E++,t),Array.from(d,T=>w.setUint8(E++,T.charCodeAt(0))),Array.from(h,T=>w.setUint8(E++,T.charCodeAt(0))),Array.from(c,T=>w.setUint8(E++,T.charCodeAt(0))),Array.from(f,T=>w.setUint8(E++,T.charCodeAt(0))),Array.from(y,T=>w.setUint8(E++,T.charCodeAt(0)));var S=new Uint8Array(_.byteLength+i.byteLength);return S.set(new Uint8Array(_),0),S.set(new Uint8Array(i),_.byteLength),S.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[r,o,c,h,d]=i;return t({join_ref:r,ref:o,topic:c,event:h,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),r=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,i){const r=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),h=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=i.decode(e.slice(d,d+r));d=d+r;const p=i.decode(e.slice(d,d+o));d=d+o;const y=i.decode(e.slice(d,d+c));d=d+c;const v=e.slice(d,e.byteLength),_=h===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,w={type:this.BROADCAST_EVENT,event:p,payload:_};return c>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class qy{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(He||(He={}));const Np=(n,e,t={})=>{var i;const r=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=C2(c,n,e,r),o),{}):{}},C2=(n,e,t,i)=>{const r=e.find(h=>h.name===n),o=r==null?void 0:r.type,c=t[n];return o&&!i.includes(o)?$y(o,c):bd(c)},$y=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return D2(e,t)}switch(n){case He.bool:return N2(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return R2(e);case He.json:case He.jsonb:return M2(e);case He.timestamp:return L2(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return bd(e);default:return bd(e)}},bd=n=>n,N2=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},R2=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},M2=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},D2=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let o;const c=n.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(h=>$y(e,h))}return n},L2=n=>typeof n=="string"?n.replace(" ","T"):n,Vy=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vh{constructor(e,t,i={},r=gd){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Rp||(Rp={}));class Nr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nr.syncState(this.state,r,o,c),this.pendingDiffs.forEach(d=>{this.state=Nr.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},r=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Nr.syncDiff(this.state,r,o,c),h())}),this.onJoin((r,o,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:c})}),this.onLeave((r,o,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){const o=this.cloneDeep(e),c=this.transformState(t),h={},d={};return this.map(o,(f,p)=>{c[f]||(d[f]=p)}),this.map(c,(f,p)=>{const y=o[f];if(y){const v=p.map(S=>S.presence_ref),_=y.map(S=>S.presence_ref),w=p.filter(S=>_.indexOf(S.presence_ref)<0),E=y.filter(S=>v.indexOf(S.presence_ref)<0);w.length>0&&(h[f]=w),E.length>0&&(d[f]=E)}else h[f]=p}),this.syncDiff(o,{joins:h,leaves:d},i,r)}static syncDiff(e,t,i,r){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(o,(h,d)=>{var f;const p=(f=e[h])!==null&&f!==void 0?f:[];if(e[h]=this.cloneDeep(d),p.length>0){const y=e[h].map(_=>_.presence_ref),v=p.filter(_=>y.indexOf(_.presence_ref)<0);e[h].unshift(...v)}i(h,p,d)}),this.map(c,(h,d)=>{let f=e[h];if(!f)return;const p=d.map(y=>y.presence_ref);f=f.filter(y=>p.indexOf(y.presence_ref)<0),e[h]=f,r(h,f,d),f.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const r=e[i];return"metas"in r?t[i]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Mp||(Mp={}));var Rr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Rr||(Rr={}));var Xn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class ga{constructor(e,t={config:{}},i){var r,o;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Vh(this,gn.join,this.params,this.timeout),this.rejoinTimer=new qy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Nr(this),this.broadcastEndpointURL=Vy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,f=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&r!==void 0?r:[],p=!!this.bindings[Rr.PRESENCE]&&this.bindings[Rr.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},v={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(Xn.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e==null||e(Xn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,S=(w=E==null?void 0:E.length)!==null&&w!==void 0?w:0,T=[];for(let j=0;j<S;j++){const A=E[j],{filter:{event:P,schema:q,table:Y,filter:V}}=A,W=_&&_[j];if(W&&W.event===P&&ga.isFilterValueEqual(W.schema,q)&&ga.isFilterValueEqual(W.table,Y)&&ga.isFilterValueEqual(W.filter,V))T.push(Object.assign(Object.assign({},A),{id:W.id}));else{this.unsubscribe(),this.state=ot.errored,e==null||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Xn.SUBSCRIBED);return}}).receive("error",_=>{this.state=ot.errored,e==null||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===ot.joined&&e===Rr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var r;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=i.timeout)!==null&&r!==void 0?r:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const f=await h.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=f.body)===null||r===void 0?void 0:r.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,h,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ot.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new Vh(this,gn.leave,{},e),i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const r=new AbortController,o=setTimeout(()=>r.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),c}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Vh(this,e,t,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>O2){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,o;const c=e.toLocaleLowerCase(),{close:h,error:d,leave:f,join:p}=gn;if(i&&[h,d,f,p].indexOf(c)>=0&&i!==this._joinRef())return;let v=this._onMessage(c,t,i);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(_=>{var w,E,S;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(E=_.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(_=>_.callback(v,i)):(o=this.bindings[c])===null||o===void 0||o.filter(_=>{var w,E,S,T,j,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const P=_.id,q=(w=_.filter)===null||w===void 0?void 0:w.event;return P&&((E=t.ids)===null||E===void 0?void 0:E.includes(P))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(j=(T=_==null?void 0:_.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return P==="*"||P===((A=t==null?void 0:t.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:E,table:S,commit_timestamp:T,type:j,errors:A}=w;v=Object.assign(Object.assign({},{schema:E,table:S,commit_timestamp:T,eventType:j,new:{},old:{},errors:A}),this._getPayloadRecords(w))}_.callback(v,i)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&ga.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gn.close,{},e)}_onError(e){this._on(gn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Np(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Np(e.columns,e.old_record)),t}}const Ih=()=>{},_o={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z2=[1e3,2e3,5e3,1e4],U2=1e4,B2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class H2{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gd,this.transport=null,this.heartbeatIntervalMs=_o.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ih,this.ref=0,this.reconnectTimer=null,this.vsn=Cp,this.logger=Ih,this.conn=null,this.sendBuffer=[],this.serializer=new A2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...o)=>r(...o):(...o)=>fetch(...o),!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${pd.websocket}`,this.httpEndpoint=Vy(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=S2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case js.connecting:return hi.Connecting;case js.open:return hi.Open;case js.closing:return hi.Closing;default:return hi.Closed}}isConnected(){return this.connectionState()===hi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(o=>o.topic===i);if(r)return r;{const o=new ga(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:i,payload:r,ref:o}=e,c=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${t} ${i} (${o})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(j2,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},_o.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:o,ref:c}=t,h=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${r} ${h}`.trim(),o),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(r,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===js.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===js.open||this.conn.readyState===js.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${i}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([B2],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:E2};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(gn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new qy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_o.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,r,o,c,h,d,f,p,y,v,_;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:gd,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:_o.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Ih,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:Cp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(w=>z2[w-1]||U2),this.vsn){case Py:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((w,E)=>E(JSON.stringify(w))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((w,E)=>E(JSON.parse(w)));break;case T2:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Br=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function P2(n,e,t){const i=new URL(e,n);if(t)for(const[r,o]of Object.entries(t))o!==void 0&&i.searchParams.set(r,o);return i.toString()}async function q2(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function $2(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:r,body:o,headers:c}){const h=P2(n.baseUrl,i,r),d=await q2(n.auth),f=await e(h,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),p=await f.text(),y=(f.headers.get("content-type")||"").includes("application/json"),v=y&&p?JSON.parse(p):p;if(!f.ok){const _=y?v:void 0,w=_==null?void 0:_.error;throw new Br((w==null?void 0:w.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function wo(n){return n.join("")}var V2=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:wo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wo(n.namespace)}`}),!0}catch(e){if(e instanceof Br&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Br&&t.status===409)return;throw t}}};function ia(n){return n.join("")}var I2=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ia(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ia(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Br&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Br&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},F2=class{constructor(n){var i;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=$2({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(i=n.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new V2(this.client,e),this.tableOps=new I2(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},lc=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ye(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var G2=class extends lc{constructor(n,e,t){super(n),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yd=class extends lc{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const Gd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Y2=()=>Response,vd=n=>{if(Array.isArray(n))return n.map(t=>vd(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const r=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=vd(i)}),e},W2=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},K2=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Hr(n){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(n)}function X2(n,e){if(Hr(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Hr(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function J2(n){var e=X2(n,"string");return Hr(e)=="symbol"?e:e+""}function Q2(n,e,t){return(e=J2(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Dp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function oe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dp(Object(t),!0).forEach(function(i){Q2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const Fh=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Z2=async(n,e,t)=>{n instanceof await Y2()&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{const r=n.status||500,o=(i==null?void 0:i.statusCode)||r+"";e(new G2(Fh(i),r,o))}).catch(i=>{e(new yd(Fh(i),i))}):e(new yd(Fh(n),n))},eS=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?r:(W2(i)?(r.headers=oe({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,e!=null&&e.duplex&&(r.duplex=e.duplex),oe(oe({},r),t))};async function Zr(n,e,t,i,r,o){return new Promise((c,h)=>{n(t,eS(e,i,r,o)).then(d=>{if(!d.ok)throw d;return i!=null&&i.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>Z2(d,h,i))})}async function Pr(n,e,t,i){return Zr(n,"GET",e,t,i)}async function mn(n,e,t,i,r){return Zr(n,"POST",e,i,r,t)}async function xd(n,e,t,i,r){return Zr(n,"PUT",e,i,r,t)}async function tS(n,e,t,i){return Zr(n,"HEAD",e,oe(oe({},t),{},{noResolveJson:!0}),i)}async function Yd(n,e,t,i,r){return Zr(n,"DELETE",e,i,r,t)}var nS=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};let Iy;Iy=Symbol.toStringTag;var sS=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Iy]="BlobDownloadBuilder",this.promise=null}asStream(){return new nS(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Ye(e))return{data:null,error:e};throw e}}};const iS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aS=class{constructor(n,e={},t,i){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=t,this.fetch=Gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,t,i){var r=this;try{let o;const c=oe(oe({},Lp),i);let h=oe(oe({},r.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",r.encodeMetadata(d)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",r.encodeMetadata(d))):(o=t,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=r.toBase64(r.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),i!=null&&i.headers&&(h=oe(oe({},h),i.headers));const f=r._removeEmptyFolders(e),p=r._getFinalPath(f),y=await(n=="PUT"?xd:mn)(r.fetch,`${r.url}/object/${p}`,o,oe({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ye(o))return{data:null,error:o};throw o}}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,i){var r=this;const o=r._removeEmptyFolders(n),c=r._getFinalPath(o),h=new URL(r.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let d;const f=oe({upsert:Lp.upsert},i),p=oe(oe({},r.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&t instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",t)):typeof FormData<"u"&&t instanceof FormData?(d=t,d.append("cacheControl",f.cacheControl)):(d=t,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:o,fullPath:(await xd(r.fetch,h.toString(),d,{headers:p})).Key},error:null}}catch(d){if(r.shouldThrowOnError)throw d;if(Ye(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(n,e){var t=this;try{let i=t._getFinalPath(n);const r=oe({},t.headers);e!=null&&e.upsert&&(r["x-upsert"]="true");const o=await mn(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:r}),c=new URL(t.url+o.url),h=c.searchParams.get("token");if(!h)throw new lc("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:h},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var i=this;try{return{data:await mn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers}),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async copy(n,e,t){var i=this;try{return{data:{path:(await mn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers})).Key},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async createSignedUrl(n,e,t){var i=this;try{let r=i._getFinalPath(n),o=await mn(i.fetch,`${i.url}/object/sign/${r}`,oe({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:i.headers});const c=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${i.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async createSignedUrls(n,e,t){var i=this;try{const r=await mn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:n},{headers:i.headers}),o=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:r.map(c=>oe(oe({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${o}`):null})),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}download(n,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),r=i?`?${i}`:"",o=this._getFinalPath(n),c=()=>Pr(this.fetch,`${this.url}/${t}/${o}${r}`,{headers:this.headers,noResolveJson:!0});return new sS(c,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);try{return{data:vd(await Pr(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await tS(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ye(i)&&i instanceof yd){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,e){const t=this._getFinalPath(n),i=[],r=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&i.push(r);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${h}`)}}}async remove(n){var e=this;try{return{data:await Yd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}async list(n,e,t){var i=this;try{const r=oe(oe(oe({},iS),e),{},{prefix:n||""});return{data:await mn(i.fetch,`${i.url}/object/list/${i.bucketId}`,r,{headers:i.headers},t),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}}async listV2(n,e){var t=this;try{const i=oe({},n);return{data:await mn(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const Fy="2.89.0",Gy={"X-Client-Info":`storage-js/${Fy}`};var rS=class{constructor(n,e={},t,i){this.shouldThrowOnError=!1;const r=new URL(n);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=oe(oe({},Gy),e),this.fetch=Gd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const t=e.listBucketOptionsToQueryString(n);return{data:await Pr(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await Pr(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}async createBucket(n,e={public:!1}){var t=this;try{return{data:await mn(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async updateBucket(n,e){var t=this;try{return{data:await xd(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}}async emptyBucket(n){var e=this;try{return{data:await mn(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await Yd(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},lS=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=oe(oe({},Gy),e),this.fetch=Gd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await mn(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}async listBuckets(n){var e=this;try{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const i=t.toString(),r=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Pr(e.fetch,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await Yd(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}}from(n){var e=this;if(!K2(n))throw new lc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new F2({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(r,o){const c=r[o];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(r,h),error:null}}catch(d){if(i)throw d;return{data:null,error:d}}}}})}};const Wd={"X-Client-Info":`storage-js/${Fy}`,"Content-Type":"application/json"};var Yy=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ft(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Gh=class extends Yy{constructor(n,e,t){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},oS=class extends Yy{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const Kd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),cS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},zp=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),uS=async(n,e,t)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const i=n.status||500,r=n;if(typeof r.json=="function")r.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Gh(zp(o),i,c))}).catch(()=>{const o=i+"";e(new Gh(r.statusText||`HTTP ${i} error`,i,o))});else{const o=i+"";e(new Gh(r.statusText||`HTTP ${i} error`,i,o))}}else e(new oS(zp(n),n))},hS=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return i?(cS(i)?(r.headers=oe({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,oe(oe({},r),t)):r};async function dS(n,e,t,i,r,o){return new Promise((c,h)=>{n(t,hS(e,i,r,o)).then(d=>{if(!d.ok)throw d;if(i!=null&&i.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>uS(d,h,i))})}async function Gt(n,e,t,i,r){return dS(n,"POST",e,i,r,t)}var fS=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=oe(oe({},Wd),e),this.fetch=Kd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async getIndex(n,e){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}}async listIndexes(n){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async deleteIndex(n,e){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}}},mS=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=oe(oe({},Wd),e),this.fetch=Kd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Gt(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async getVectors(n){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Gt(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async queryVectors(n){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Gt(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}},gS=class{constructor(n,e={},t){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=oe(oe({},Wd),e),this.fetch=Kd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async getBucket(n){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async listBuckets(n={}){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}async deleteBucket(n){var e=this;try{return{data:await Gt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ft(t))return{data:null,error:t};throw t}}},pS=class extends gS{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new bS(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},bS=class extends fS{constructor(n,e,t,i){super(n,e,i),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,oe(oe({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,oe(oe({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new yS(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},yS=class extends mS{constructor(n,e,t,i,r){super(n,e,r),this.vectorBucketName=t,this.indexName=i}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,oe(oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,oe(oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,oe(oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,oe(oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,oe(oe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},vS=class extends rS{constructor(n,e={},t,i){super(n,e,t,i)}from(n){return new aS(this.url,this.headers,n,this.fetch)}get vectors(){return new pS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lS(this.url+"/iceberg",this.headers,this.fetch)}};const Wy="2.89.0",fa=30*1e3,_d=3,Yh=_d*fa,xS="http://localhost:9999",_S="supabase.auth.token",wS={"X-Client-Info":`gotrue-js/${Wy}`},wd="X-Supabase-Api-Version",Ky={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kS=600*1e3;class qr extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function ne(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ES extends qr{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function TS(n){return ne(n)&&n.name==="AuthApiError"}class di extends qr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class es extends qr{constructor(e,t,i,r){super(e,i,r),this.name=t,this.status=i}}class It extends es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jS(n){return ne(n)&&n.name==="AuthSessionMissingError"}class aa extends es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class So extends es{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ko extends es{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OS(n){return ne(n)&&n.name==="AuthImplicitGrantRedirectError"}class Up extends es{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AS extends es{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Sd extends es{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Wh(n){return ne(n)&&n.name==="AuthRetryableFetchError"}class Bp extends es{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class kd extends es{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hp=` 	
\r=`.split(""),CS=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Hp.length;e+=1)n[Hp[e].charCodeAt(0)]=-2;for(let e=0;e<Wo.length;e+=1)n[Wo[e].charCodeAt(0)]=e;return n})();function Pp(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Wo[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Wo[i]),e.queuedBits-=6}}function Xy(n,e,t){const i=CS[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function qp(n){const e=[],t=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=c=>{MS(c,i,t)};for(let c=0;c<n.length;c+=1)Xy(n.charCodeAt(c),r,o);return e.join("")}function NS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function RS(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}NS(i,e)}}function MS(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function pa(n){const e=[],t={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<n.length;r+=1)Xy(n.charCodeAt(r),t,i);return new Uint8Array(e)}function DS(n){const e=[];return RS(n,t=>e.push(t)),new Uint8Array(e)}function fi(n){const e=[],t={queue:0,queuedBits:0},i=r=>{e.push(r)};return n.forEach(r=>Pp(r,t,i)),Pp(null,t,i),e.join("")}function LS(n){return Math.round(Date.now()/1e3)+n}function zS(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},Jy=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function US(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return t.searchParams.forEach((i,r)=>{e[r]=i}),e}const Qy=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),BS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ma=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},si=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},yt=async(n,e)=>{await n.removeItem(e)};class oc{constructor(){this.promise=new oc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}oc.promiseConstructor=Promise;function Kh(n){const e=n.split(".");if(e.length!==3)throw new kd("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!SS.test(e[i]))throw new kd("JWT not in base64url format");return{header:JSON.parse(qp(e[0])),payload:JSON.parse(qp(e[1])),signature:pa(e[2]),raw:{header:e[0],payload:e[1]}}}async function HS(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function PS(n,e){return new Promise((i,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await n(o);if(!e(o,null,c)){i(c);return}}catch(c){if(!e(o,c)){r(c);return}}})()})}function qS(n){return("0"+n.toString(16)).substr(-2)}function $S(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let r="";for(let o=0;o<56;o++)r+=t.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,qS).join("")}async function VS(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(i);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function IS(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await VS(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(n,e,t=!1){const i=$S();let r=i;t&&(r+="/PASSWORD_RECOVERY"),await ma(n,`${e}-code-verifier`,r);const o=await IS(i);return[o,i===o?"plain":"s256"]}const FS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GS(n){const e=n.headers.get(wd);if(!e||!e.match(FS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function YS(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function WS(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function la(n){if(!KS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xh(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XS(n,e){return new Proxy(n,{get:(t,i,r)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,r)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,r)}})}function $p(n){return JSON.parse(JSON.stringify(n))}const oi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),JS=[502,503,504];async function Vp(n){var e;if(!BS(n))throw new Sd(oi(n),0);if(JS.includes(n.status))throw new Sd(oi(n),n.status);let t;try{t=await n.json()}catch(o){throw new di(oi(o),o)}let i;const r=GS(n);if(r&&r.getTime()>=Ky["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new Bp(oi(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new It}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Bp(oi(t),n.status,t.weak_password.reasons);throw new ES(oi(t),n.status||500,i)}const QS=(n,e,t,i)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))};async function le(n,e,t,i){var r;const o=Object.assign({},i==null?void 0:i.headers);o[wd]||(o[wd]=Ky["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await ZS(n,e,t+h,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(d):{data:Object.assign({},d),error:null}}async function ZS(n,e,t,i,r,o){const c=QS(e,i,r,o);let h;try{h=await n(t,Object.assign({},c))}catch(d){throw console.error(d),new Sd(oi(d),0)}if(h.ok||await Vp(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(d){await Vp(d)}}function fn(n){var e;let t=null;nk(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=LS(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function Ip(n){const e=fn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Os(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function ek(n){return{data:n,error:null}}function tk(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o}=n,c=rc(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:o},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function Fp(n){return n}function nk(n){return n.access_token&&n.refresh_token&&n.expires_in}const Jh=["global","local","others"];class sk{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Qy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Jh[0]){if(Jh.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jh.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Os})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=rc(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:tk,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ne(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Os})}catch(t){if(ne(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,r,o,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},p=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:Fp});if(p.error)throw p.error;const y=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(d=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ne(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){la(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Os})}catch(t){if(ne(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){la(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Os})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){la(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Os})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){la(e.userId);try{const{data:t,error:i}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:i}}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _deleteFactor(e){la(e.userId),la(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,r,o,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},p=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:Fp});if(p.error)throw p.error;const y=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(d=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ne(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ne(t))return{data:null,error:t};throw t}}}function Gp(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const oa={debug:!!(globalThis&&Jy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ik extends Zy{}async function ak(n,e,t){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new ik(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(oa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function rk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ev(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function lk(n){return parseInt(n,16)}function ok(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function ck(n){var e;const{chainId:t,domain:i,expirationTime:r,issuedAt:o=new Date,nonce:c,notBefore:h,requestId:d,resources:f,scheme:p,uri:y,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=ev(n.address),w=p?`${p}://${i}`:i,E=n.statement?`${n.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${_}

${E}`;let T=`URI: ${y}
Version: ${v}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(r&&(T+=`
Expiration Time: ${r.toISOString()}`),h&&(T+=`
Not Before: ${h.toISOString()}`),d&&(T+=`
Request ID: ${d}`),f){let j=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);j+=`
- ${A}`}T+=j}return`${S}
${T}`}class at extends Error{constructor({message:e,code:t,cause:i,name:r}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=r??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Ko extends at{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function uk({error:n,options:e}){var t,i,r;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new at({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(tv(c)){if(o.rp.id!==c)return new at({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function hk({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new at({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(tv(i)){if(t.rpId!==i)return new at({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class dk{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const fk=new dk;function mk(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:i}=n,r=rc(n,["challenge","user","excludeCredentials"]),o=pa(e).buffer,c=Object.assign(Object.assign({},t),{id:pa(t.id).buffer}),h=Object.assign(Object.assign({},r),{challenge:o,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const f=i[d];h.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:pa(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return h}function gk(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,i=rc(n,["challenge","allowCredentials"]),r=pa(e).buffer,o=Object.assign(Object.assign({},i),{challenge:r});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const h=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},h),{id:pa(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function pk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:fi(new Uint8Array(n.response.attestationObject)),clientDataJSON:fi(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,i=n.getClientExtensionResults(),r=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:fi(new Uint8Array(r.authenticatorData)),clientDataJSON:fi(new Uint8Array(r.clientDataJSON)),signature:fi(new Uint8Array(r.signature)),userHandle:r.userHandle?fi(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Yp(){var n,e;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function yk(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ko("Browser returned unexpected credential type",e)}:{data:null,error:new Ko("Empty credential response",e)}}catch(e){return{data:null,error:uk({error:e,options:n})}}}async function vk(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ko("Browser returned unexpected credential type",e)}:{data:null,error:new Ko("Empty credential response",e)}}catch(e){return{data:null,error:hk({error:e,options:n})}}}const xk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_k={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xo(...n){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),t=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),i={};for(const r of n)if(r)for(const o in r){const c=r[o];if(c!==void 0)if(Array.isArray(c))i[o]=c;else if(t(c))i[o]=c;else if(e(c)){const h=i[o];e(h)?i[o]=Xo(h,c):i[o]=Xo(c)}else i[o]=c}return i}function wk(n,e){return Xo(xk,n,e||{})}function Sk(n,e){return Xo(_k,n,e||{})}class kk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:r},o){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};const d=r??fk.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=wk(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:y}=await yk({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}case"request":{const f=Sk(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:y}=await vk(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new di("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!t)return{data:null,error:new qr("rpId is required for WebAuthn authentication")};try{if(!Yp())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:r},{request:o});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:i,credential_response:d.credential_response}})}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new di("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!t)return{data:null,error:new qr("rpId is required for WebAuthn registration")};try{if(!Yp())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:h};const{data:d,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:r},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:i,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(c){return ne(c)?{data:null,error:c}:{data:null,error:new di("Unexpected error in register",c)}}}}rk();const Ek={url:xS,storageKey:_S,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Wp(n,e,t){return await t()}const ca={};class $r{get jwks(){var e,t;return(t=(e=ca[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ca[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ca[this.storageKey]=Object.assign(Object.assign({},ca[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Ek),e);if(this.storageKey=o.storageKey,this.instanceID=(t=$r.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,$r.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&vt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new sk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Qy(o.fetch),this.lock=o.lock||Wp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&vt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=ak:this.lock=Wp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Jy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gp(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Gp(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(vt()&&(t=US(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),vt()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:o}=await this._getSessionFromURL(t,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),OS(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ne(t)?this._returnResult({error:t}):this._returnResult({error:new di("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,r;try{const o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:fn}),{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,i,r;try{let o;if("email"in e){const{email:p,password:y,options:v}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await ra(this.storage,this.storageKey)),o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:y,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:w},xform:fn})}else if("phone"in e){const{phone:p,password:y,options:v}=e;o=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(r=v==null?void 0:v.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:fn})}else throw new So("You must provide either an email or phone number and a password");const{data:c,error:h}=o;if(h||!c)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:h}=e;t=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ip})}else if("phone"in e){const{phone:o,password:c,options:h}=e;t=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ip})}else throw new So("You must provide either an email or phone number and a password");const{data:i,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!i||!i.session||!i.user){const o=new aa;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,r,o,c,h,d,f,p,y,v;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:E,wallet:S,statement:T,options:j}=e;let A;if(vt())if(typeof S=="object")A=S;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")A=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const P=new URL((t=j==null?void 0:j.url)!==null&&t!==void 0?t:window.location.href),q=await A.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=ev(q[0]);let V=(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!V){const J=await A.request({method:"eth_chainId"});V=lk(J)}const W={domain:P.host,address:Y,statement:T,uri:P.href,version:"1",chainId:V,nonce:(r=j==null?void 0:j.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=ck(W),w=await A.request({method:"personal_sign",params:[ok(_),Y]})}try{const{data:E,error:S}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:fn});if(S)throw S;if(!E||!E.session||!E.user){const T=new aa;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:S})}catch(E){if(ne(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var t,i,r,o,c,h,d,f,p,y,v,_;let w,E;if("message"in e)w=e.message,E=e.signature;else{const{chain:S,wallet:T,statement:j,options:A}=e;let P;if(vt())if(typeof T=="object")P=T;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))P=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const q=new URL((t=A==null?void 0:A.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in P&&P.signIn){const Y=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),j?{statement:j}:null));let V;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")V=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)V=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)w=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),E=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${q.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(r=(i=A==null?void 0:A.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((y=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...A.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Y=await P.signMessage(new TextEncoder().encode(w),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=Y}}try{const{data:S,error:T}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:fi(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:fn});if(T)throw T;if(!S||!S.session||!S.user){const j=new aa;return this._returnResult({data:{user:null,session:null},error:j})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(ne(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const t=await si(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new AS;const{data:o,error:c}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:fn});if(await yt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const h=new aa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:c})}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:i,token:r,access_token:o,nonce:c}=e,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:fn}),{data:d,error:f}=h;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new aa;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,r,o,c;try{if("email"in e){const{email:h,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ra(this.storage,this.storageKey));const{error:y}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:h,options:d}=e,{data:f,error:p}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new So("You must provide either an email or phone number.")}catch(h){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var t,i;try{let r,o;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:fn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,f=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,i,r,o,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await ra(this.storage,this.storageKey));const f=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:ek});return!((o=f.data)===null||o===void 0)&&o.url&&vt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(h){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new It;const{error:r}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(ne(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:o}=e,{error:c}=await le(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:r,options:o}=e,{data:c,error:h}=await le(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new So("You must provide either an email or phone number and a type")}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Yh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await si(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Xh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=XS(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Os}):await this._useSession(async t=>{var i,r,o;const{data:c,error:h}=t;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Os})})}catch(t){if(ne(t))return jS(t)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:r,error:o}=i;if(o)throw o;if(!r.session)throw new It;const c=r.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await ra(this.storage,this.storageKey));const{data:f,error:p}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:Os});if(p)throw p;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const t=Date.now()/1e3;let i=t,r=!0,o=null;const{payload:c}=Kh(e.access_token);if(c.exp&&(i=c.exp,r=i<=t),r){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(ne(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:c,error:h}=t;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new It;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!vt())throw new ko("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ko(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Up("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ko("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Up("No code detected.");const{data:j,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:o,refresh_token:c,expires_in:h,expires_at:d,token_type:f}=e;if(!o||!h||!c||!f)throw new ko("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(h);let v=p+y;d&&(v=parseInt(d));const _=v-p;_*1e3<=fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const w=v-y;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:E,error:S}=await this._getUser(o);if(S)throw S;const T={provider_token:i,provider_refresh_token:r,access_token:o,expires_in:y,expires_at:v,refresh_token:c,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(i){if(ne(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await si(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:r,error:o}=t;if(o)return this._returnResult({error:o});const c=(i=r.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(TS(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=zS(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,r;try{const{data:{session:o},error:c}=t;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await ra(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:r}=await this._useSession(async o=>{var c,h,d,f,p;const{data:y,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(r)throw r;return vt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ne(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:r,data:{session:o}}=t;if(r)throw r;const{options:c,provider:h,token:d,access_token:f,nonce:p}=e,y=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o==null?void 0:o.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:fn}),{data:v,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new aa}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(r){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,r;const{data:o,error:c}=t;if(c)throw c;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await PS(async r=>(r>0&&await HS(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fn})),(r,o)=>{const c=200*Math.pow(2,r);return o&&Wh(o)&&Date.now()+c-i<fa})}catch(i){if(this._debug(t,"error",i),ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),vt()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await si(this.storage,this.storageKey);if(r&&this.userStorage){let c=await si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await ma(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Xh()}else if(r&&!r.user&&!r.user){const c=await si(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(r.user=c.user,await yt(this.storage,this.storageKey+"-user"),await ma(this.storage,this.storageKey,r)):r.user=Xh()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Yh;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Yh}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),Wh(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&(c!=null&&c.user)?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new oc;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new It;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(r,"error",o),ne(o)){const c={data:null,error:o};return Wh(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await ma(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const o=$p(r);await ma(this.storage,this.storageKey,o)}else{const r=$p(t);await ma(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${fa}ms, refresh threshold is ${_d} ticks`),r<=_d&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const r=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await ra(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);r.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:r,error:o}=t;return o?this._returnResult({data:null,error:o}):await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,r;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((r=d==null?void 0:d.totp)===null||r===void 0)&&r.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?pk(e.webauthn.credential_response):bk(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:r,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:mk(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:gk(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])r.all.push(o),o.status==="verified"&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kh(i.access_token);let c=null;o.aal&&(c=o.aal);let h=c;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:r}=t;return r?this._returnResult({data:null,error:r}):i?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new It})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new It});const c=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&vt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:r},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new It});const c=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&vt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new It})})}catch(e){if(ne(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:r}=t;return r?this._returnResult({data:null,error:r}):i?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(h=>h.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+kS>r)return i;const{data:o,error:c}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,i=o.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:_,error:w}=await this.getSession();if(w||!_.session)return this._returnResult({data:null,error:w});i=_.session.access_token}const{header:r,payload:o,signature:c,raw:{header:h,payload:d}}=Kh(i);t!=null&&t.allowExpired||YS(o.exp);const f=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!f){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:r,signature:c},error:null}}const p=WS(r.alg),y=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,c,DS(`${h}.${d}`)))throw new kd("Invalid JWT signature");return{data:{claims:o,header:r,signature:c},error:null}}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}}$r.nextInstanceID={};const Tk=$r,jk="2.89.0";let jr="";typeof Deno<"u"?jr="deno":typeof document<"u"?jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jr="react-native":jr="node";const Ok={"X-Client-Info":`supabase-js-${jr}/${jk}`},Ak={headers:Ok},Ck={schema:"public"},Nk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rk={};function Vr(n){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(n)}function Mk(n,e){if(Vr(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Vr(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Dk(n){var e=Mk(n,"string");return Vr(e)=="symbol"?e:e+""}function Lk(n,e,t){return(e=Dk(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Kp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Xe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kp(Object(t),!0).forEach(function(i){Lk(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const zk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Uk=()=>Headers,Bk=(n,e,t)=>{const i=zk(t),r=Uk();return async(o,c)=>{var h;const d=(h=await e())!==null&&h!==void 0?h:n;let f=new r(c==null?void 0:c.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),i(o,Xe(Xe({},c),{},{headers:f}))}};function Hk(n){return n.endsWith("/")?n:n+"/"}function Pk(n,e){var t,i;const{db:r,auth:o,realtime:c,global:h}=n,{db:d,auth:f,realtime:p,global:y}=e,v={db:Xe(Xe({},d),r),auth:Xe(Xe({},f),o),realtime:Xe(Xe({},p),c),storage:{},global:Xe(Xe(Xe({},y),h),{},{headers:Xe(Xe({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function qk(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $k=class extends Tk{constructor(n){super(n)}},Vk=class{constructor(n,e,t){var i,r;this.supabaseUrl=n,this.supabaseKey=e;const o=qk(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:Ck,realtime:Rk,auth:Xe(Xe({},Nk),{},{storageKey:c}),global:Ak},d=Pk(t??{},h);if(this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=Bk(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new w2(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new vS(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new b2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:r,storageKey:o,flowType:c,lock:h,debug:d,throwOnError:f},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $k({url:this.authUrl.href,headers:Xe(Xe({},v),p),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:r,flowType:c,lock:h,debug:d,throwOnError:f,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new H2(this.realtimeUrl.href,Xe(Xe({},n),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ik=(n,e,t)=>new Vk(n,e,t);function Fk(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Fk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gk="https://xzoiwoncvacavkjebqcz.supabase.co",Yk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh6b2l3b25jdmFjYXZramVicWN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY2NzA3MjksImV4cCI6MjA4MjI0NjcyOX0.se_MbudQft5x3f5cmAn15cOiRXEqVVFLlf5vjQ95AoY",de=Ik(Gk,Yk),Wk=[{name:"Golden Cricket Championship Cup (Large)",price:1250,stock_quantity:20,sku:"TRP-CKT-001",category:"Sports"},{name:"Crystal Star Excellence Award",price:850,stock_quantity:15,sku:"TRP-CRP-002",category:"Corporate"},{name:"Wooden Plaque - Best Employee",price:450,stock_quantity:50,sku:"TRP-WDN-003",category:"Wooden"},{name:"Silver Football Runner Up Cup",price:950,stock_quantity:10,sku:"TRP-FBL-004",category:"Sports"},{name:"Academic Achievement Shield",price:350,stock_quantity:100,sku:"TRP-ACD-005",category:"Academic"},{name:"Fiber Gold Star Trophy",price:150,stock_quantity:200,sku:"TRP-FIB-006",category:"Fiber"},{name:"Brass Medals (Set of 3)",price:275,stock_quantity:60,sku:"MDL-BRS-007",category:"Medals"},{name:"Glass Momentum with Box",price:600,stock_quantity:30,sku:"TRP-GLS-008",category:"Corporate"}],ht={getProducts:async()=>{const{data:n,error:e}=await de.from("products").select("*").order("created_at",{ascending:!1});return e?(console.error("Error fetching products:",e),[]):n||[]},addProduct:async n=>{const{data:e,error:t}=await de.from("products").insert([n]).select().single();return t?(console.error("Error adding product:",t),null):e},updateProduct:async(n,e)=>{const{data:t,error:i}=await de.from("products").update(e).eq("id",n).select().single();return i?(console.error("Error updating product:",i),null):t},deleteProduct:async n=>{const{error:e}=await de.from("products").delete().eq("id",n);return e?(console.error("Error deleting product:",e),!1):!0},createSale:async(n,e)=>{const{data:t,error:i}=await de.from("sales").insert([n]).select().single();if(i||!t)return console.error("Error creating sale:",i),!1;const r=e.map(c=>({sale_id:t.id,product_id:c.productId,quantity:c.quantity,price_at_sale:c.price})),{error:o}=await de.from("sale_items").insert(r);if(o)return console.error("Error creating sale items:",o),!1;for(const c of e){const{error:h}=await de.rpc("decrement_stock",{product_id:c.productId,quantity:c.quantity});if(h){const{data:d}=await de.from("products").select("stock_quantity").eq("id",c.productId).single();d&&await de.from("products").update({stock_quantity:d.stock_quantity-c.quantity}).eq("id",c.productId)}}return!0},seedProducts:async()=>{const{data:n}=await de.from("products").select("id").limit(1);if(n&&n.length>0)return console.log("Products already exist, skipping seed"),!0;const{error:e}=await de.from("products").insert(Wk);return e?(console.error("Error seeding products:",e),!1):(console.log("Successfully seeded products"),!0)},getSales:async()=>{const{data:n,error:e}=await de.from("sales").select("*").order("created_at",{ascending:!1});return e?(console.error("Error fetching sales:",e),[]):n||[]},getSalesWithItems:async()=>{const{data:n,error:e}=await de.from("sales").select("*").order("created_at",{ascending:!1});return e||!n?(console.error("Error fetching sales:",e),[]):await Promise.all(n.map(async i=>{const{data:r}=await de.from("sale_items").select(`
            *,
            products:product_id (name, sku)
          `).eq("sale_id",i.id);return{...i,items:r||[]}}))},getSalesSummary:async(n,e)=>{let t=de.from("sales").select("*");n&&(t=t.gte("created_at",n)),e&&(t=t.lte("created_at",e));const{data:i,error:r}=await t;if(r||!i)return console.error("Error fetching sales summary:",r),{totalSales:0,totalRevenue:0,totalDiscount:0,averageOrderValue:0};const o=i.length,c=i.reduce((f,p)=>f+Number(p.total_amount),0),h=i.reduce((f,p)=>f+Number(p.discount_amount||0),0),d=o>0?c/o:0;return{totalSales:o,totalRevenue:c,totalDiscount:h,averageOrderValue:d}},getDashboardStats:async()=>{const n=new Date;n.setHours(0,0,0,0);const e=n.toISOString(),{data:t}=await de.from("sales").select("total_amount").gte("created_at",e),i=new Date;i.setDate(i.getDate()-7);const{data:r}=await de.from("sales").select("total_amount, created_at").gte("created_at",i.toISOString()),o=new Date(n.getFullYear(),n.getMonth(),1),{data:c}=await de.from("sales").select("total_amount").gte("created_at",o.toISOString()),{data:h}=await de.from("products").select("*").lt("stock_quantity",5),{data:d}=await de.from("products").select("id");return{todayRevenue:(t==null?void 0:t.reduce((f,p)=>f+Number(p.total_amount),0))||0,todaySalesCount:(t==null?void 0:t.length)||0,weekRevenue:(r==null?void 0:r.reduce((f,p)=>f+Number(p.total_amount),0))||0,weekSalesCount:(r==null?void 0:r.length)||0,monthRevenue:(c==null?void 0:c.reduce((f,p)=>f+Number(p.total_amount),0))||0,monthSalesCount:(c==null?void 0:c.length)||0,lowStockCount:(h==null?void 0:h.length)||0,lowStockProducts:h||[],totalProducts:(d==null?void 0:d.length)||0}},getSalesChartData:async(n=7)=>{const e=new Date;e.setDate(e.getDate()-n),e.setHours(0,0,0,0);const{data:t}=await de.from("sales").select("total_amount, created_at").gte("created_at",e.toISOString()).order("created_at",{ascending:!0}),i={},r=[];for(let o=n-1;o>=0;o--){const c=new Date;c.setDate(c.getDate()-o);const h=c.toISOString().split("T")[0];i[h]=0,r.push(c.toLocaleDateString("en-IN",{weekday:"short",day:"numeric"}))}return t==null||t.forEach(o=>{const c=o.created_at.split("T")[0];i[c]!==void 0&&(i[c]+=Number(o.total_amount))}),{labels:r,data:Object.values(i)}},getCategoryStats:async()=>{const{data:n}=await de.from("products").select("category, stock_quantity, price"),e={};return n==null||n.forEach(t=>{e[t.category]||(e[t.category]={count:0,value:0}),e[t.category].count+=1,e[t.category].value+=t.stock_quantity*Number(t.price)}),{labels:Object.keys(e),counts:Object.values(e).map(t=>t.count),values:Object.values(e).map(t=>t.value)}},getCustomers:async()=>{const{data:n,error:e}=await de.from("customers").select("*").order("name",{ascending:!0});return e?(console.error("Error fetching customers:",e),[]):n||[]},searchCustomers:async n=>{const{data:e,error:t}=await de.from("customers").select("*").or(`name.ilike.%${n}%,phone.ilike.%${n}%`).order("name",{ascending:!0}).limit(10);return t?(console.error("Error searching customers:",t),[]):e||[]},addCustomer:async n=>{const{data:e,error:t}=await de.from("customers").insert([n]).select().single();return t?(console.error("Error adding customer:",t),null):e},updateCustomerStats:async(n,e)=>{const{data:t}=await de.from("customers").select("total_purchases, visit_count").eq("id",n).single();if(!t)return!1;const{error:i}=await de.from("customers").update({total_purchases:Number(t.total_purchases)+e,visit_count:t.visit_count+1,updated_at:new Date().toISOString()}).eq("id",n);return!i},deleteCustomer:async n=>{const{error:e}=await de.from("customers").delete().eq("id",n);return e?(console.error("Error deleting customer:",e),!1):!0},getReturns:async()=>{const{data:n,error:e}=await de.from("returns").select(`
        *,
        sale:sales(*)
      `).order("created_at",{ascending:!1});return e?(console.error("Error fetching returns:",e),[]):n||[]},createReturn:async n=>{const{data:e,error:t}=await de.from("returns").insert([{...n,status:"PENDING"}]).select().single();return t?(console.error("Error creating return:",t),null):e},approveReturn:async n=>{const{data:e}=await de.from("returns").select("*").eq("id",n).single();if(!e)return!1;const{error:t}=await de.from("returns").update({status:"APPROVED"}).eq("id",n);return!t},rejectReturn:async n=>{const{error:e}=await de.from("returns").update({status:"REJECTED"}).eq("id",n);return!e},addStockPurchase:async n=>{const{data:e,error:t}=await de.from("stock_purchases").insert([n]).select().single();if(t)return console.error("Error adding stock purchase:",t),null;const{data:i}=await de.from("products").select("stock_quantity").eq("id",n.product_id).single();return i&&await de.from("products").update({stock_quantity:i.stock_quantity+n.quantity,cost_price:n.unit_cost,updated_at:new Date().toISOString()}).eq("id",n.product_id),e},getStockPurchases:async n=>{let e=de.from("stock_purchases").select("*").order("created_at",{ascending:!1});n&&(e=e.eq("product_id",n));const{data:t,error:i}=await e;return i?(console.error("Error fetching stock purchases:",i),[]):t||[]},getProfitStats:async()=>{const{data:n}=await de.from("products").select("id, name, price, cost_price, stock_quantity"),{data:e}=await de.from("sale_items").select(`
        quantity,
        price_at_sale,
        products:product_id (cost_price)
      `);let t=0,i=0;e==null||e.forEach(o=>{var d;const c=o.quantity*Number(o.price_at_sale),h=o.quantity*(Number((d=o.products)==null?void 0:d.cost_price)||0);t+=c,i+=h});const r=(n==null?void 0:n.map(o=>({id:o.id,name:o.name,price:Number(o.price),cost_price:Number(o.cost_price)||0,margin:Number(o.price)-(Number(o.cost_price)||0),margin_percent:o.cost_price?(Number(o.price)-Number(o.cost_price))/Number(o.price)*100:0,stock_quantity:o.stock_quantity})))||[];return{totalRevenue:t,totalCost:i,grossProfit:t-i,profitMargin:t>0?(t-i)/t*100:0,productMargins:r}},exportAllData:async()=>{const[n,e,t,i,r,o]=await Promise.all([de.from("products").select("*"),de.from("sales").select("*"),de.from("sale_items").select("*"),de.from("customers").select("*"),de.from("returns").select("*"),de.from("stock_purchases").select("*")]);return{exportDate:new Date().toISOString(),data:{products:n.data||[],sales:e.data||[],sale_items:t.data||[],customers:i.data||[],returns:r.data||[],stock_purchases:o.data||[]}}}},Kk=()=>{const[n,e]=R.useState(!1),[t,i]=R.useState(!1),[r,o]=R.useState(0),{isAdmin:c}=Id();R.useEffect(()=>{document.documentElement.classList.contains("dark")&&e(!0)},[]),R.useEffect(()=>{if(c){const f=async()=>{const y=await ht.getDashboardStats();o(y.lowStockCount)};f();const p=setInterval(f,3e4);return()=>clearInterval(p)}},[c]);const h=()=>{n?(document.documentElement.classList.remove("dark"),localStorage.theme="light",e(!1)):(document.documentElement.classList.add("dark"),localStorage.theme="dark",e(!0))},d=f=>`flex items-center px-4 py-2 rounded-md transition-colors font-medium text-sm ${f?"bg-blue-600 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white"}`;return b.jsxs(b.Fragment,{children:[b.jsx(f2,{isOpen:t,onClose:()=>i(!1)}),b.jsx("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50 print:hidden transition-colors duration-200",children:b.jsx("div",{className:"px-4 lg:px-6",children:b.jsxs("div",{className:"flex justify-between h-16",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[b.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:b.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),b.jsxs("div",{children:[b.jsx("span",{className:"font-bold text-xl tracking-tight text-slate-800 dark:text-white block leading-tight",children:"Disni Designs"}),b.jsxs("span",{className:"text-[9px] text-slate-400 dark:text-slate-500 block -mt-0.5",children:["powered by ",b.jsx("span",{className:"font-medium text-blue-500",children:"AstriOrb"})]})]})]}),b.jsxs("nav",{className:"hidden sm:ml-10 sm:flex sm:space-x-4",children:[b.jsxs(ha,{to:"/",className:({isActive:f})=>d(f),children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Billing"]}),c&&b.jsxs(b.Fragment,{children:[b.jsxs(ha,{to:"/dashboard",className:({isActive:f})=>d(f),children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),"Dashboard"]}),b.jsxs(ha,{to:"/inventory",className:({isActive:f})=>d(f),children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Inventory",r>0&&b.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs font-bold bg-red-500 text-white rounded-full animate-pulse",children:r})]}),b.jsxs(ha,{to:"/sales",className:({isActive:f})=>d(f),children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Sales"]}),b.jsxs(ha,{to:"/returns",className:({isActive:f})=>d(f),children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})}),"Returns"]})]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:h,className:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700 dark:hover:text-yellow-300 transition-colors focus:outline-none",title:"Toggle Dark Mode",children:n?b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),b.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[b.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:c?"Admin":"Guest"}),b.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:c?"Logged In":"Click to Login"})]}),b.jsx("button",{onClick:()=>i(!0),className:`h-10 w-10 rounded-full flex items-center justify-center font-bold text-sm transition-all cursor-pointer ${c?"bg-green-100 dark:bg-green-900/40 border-2 border-green-500 text-green-700 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/60":"bg-slate-200 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,title:c?"Admin Panel":"Login as Admin",children:c?b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}):"A"})]})]})})})]})},Xk=({saleId:n,date:e,customerName:t,items:i,subTotal:r,discount:o,total:c})=>!i||i.length===0?null:b.jsx("div",{className:"hidden print:block print:w-full bg-white text-slate-900 p-8",children:b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsxs("div",{className:"flex justify-between items-start mb-8",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-1",children:"Disni Designs"}),b.jsx("p",{className:"text-xs text-slate-600 mb-2",children:"Trophy | Flex | Banner | Vinyl | Laser & Cloth Printing"}),b.jsxs("div",{className:"text-sm text-slate-500 space-y-0.5",children:[b.jsx("p",{children:"Al Rayan Complex Moochikkad, Alathur"}),b.jsx("p",{children:"8891410945"})]})]}),b.jsx("div",{className:"text-right",children:b.jsx("h2",{className:"text-4xl font-bold text-slate-200 uppercase tracking-widest",children:"RECEIPT"})})]}),b.jsxs("div",{className:"flex justify-between mb-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-bold uppercase text-slate-900 mb-1",children:"Bill To"}),b.jsx("p",{className:"text-lg text-slate-700 capitalize",children:t||"Walk-in Customer"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("div",{className:"mb-1",children:[b.jsx("span",{className:"text-sm font-bold text-slate-900 mr-2",children:"Receipt #:"}),b.jsx("span",{className:"text-sm text-slate-700",children:n})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-sm font-bold text-slate-900 mr-2",children:"Receipt Date:"}),b.jsx("span",{className:"text-sm text-slate-700",children:e})]})]})]}),b.jsx("div",{className:"mb-8",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-slate-50 border-y border-slate-200",children:[b.jsx("th",{className:"py-2 pl-2 text-xs font-bold text-slate-900 uppercase",children:"Qty"}),b.jsx("th",{className:"py-2 text-xs font-bold text-slate-900 uppercase w-1/2",children:"Description"}),b.jsx("th",{className:"py-2 text-right text-xs font-bold text-slate-900 uppercase",children:"Unit Price"}),b.jsx("th",{className:"py-2 pr-2 text-right text-xs font-bold text-slate-900 uppercase",children:"Amount"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map((h,d)=>b.jsxs("tr",{children:[b.jsx("td",{className:"py-3 pl-2 text-sm text-slate-700",children:h.quantity}),b.jsx("td",{className:"py-3 text-sm text-slate-700 font-medium",children:h.name}),b.jsxs("td",{className:"py-3 text-right text-sm text-slate-700",children:["",h.price.toFixed(2)]}),b.jsxs("td",{className:"py-3 pr-2 text-right text-sm text-slate-900 font-bold",children:["",(h.price*h.quantity).toFixed(2)]})]},`${h.id}-${d}`))})]})}),b.jsx("div",{className:"flex justify-end mb-12",children:b.jsxs("div",{className:"w-64 space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm text-slate-600",children:[b.jsx("span",{children:"Subtotal"}),b.jsxs("span",{children:["",r.toFixed(2)]})]}),o>0&&b.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[b.jsx("span",{children:"Discount"}),b.jsxs("span",{children:["-",o.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between text-xl font-bold text-slate-900 pt-3 border-t border-slate-200",children:[b.jsx("span",{children:"TOTAL"}),b.jsxs("span",{children:["",c.toFixed(2)]})]})]})}),b.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[b.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-1",children:"Terms & Conditions"}),b.jsxs("p",{className:"text-xs text-slate-500 leading-relaxed",children:["Payment is due immediately. Please make checks payable to: Disni Designs.",b.jsx("br",{}),"Goods once sold cannot be taken back or exchanged."]})]})]})}),Jk=({isOpen:n,onClose:e,onPrint:t,data:i})=>!n||!i?null:b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4 print:hidden animate-fade-in",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden transition-colors",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Receipt"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"A summary of your transaction. You can print this receipt."})]}),b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50 dark:bg-slate-950",children:b.jsxs("div",{className:"bg-white text-slate-900 p-8 shadow-sm border border-slate-200 mx-auto max-w-2xl min-h-[500px] flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start mb-8",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-1",children:"Disni Designs"}),b.jsx("p",{className:"text-xs text-slate-600 mb-2",children:"Trophy | Flex | Banner | Vinyl | Laser & Cloth Printing"}),b.jsxs("div",{className:"text-sm text-slate-500 space-y-0.5",children:[b.jsx("p",{children:"Al Rayan Complex Moochikkad, Alathur"}),b.jsx("p",{children:"8891410945"})]})]}),b.jsx("div",{className:"text-right",children:b.jsx("h2",{className:"text-4xl font-bold text-slate-200 uppercase tracking-widest",children:"RECEIPT"})})]}),b.jsxs("div",{className:"flex justify-between mb-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-bold uppercase text-slate-900 mb-1",children:"Bill To"}),b.jsx("p",{className:"text-lg text-slate-700 capitalize",children:i.customerName||"Walk-in Customer"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("div",{className:"mb-1",children:[b.jsx("span",{className:"text-sm font-bold text-slate-900 mr-2",children:"Receipt #:"}),b.jsx("span",{className:"text-sm text-slate-700",children:i.id})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-sm font-bold text-slate-900 mr-2",children:"Receipt Date:"}),b.jsx("span",{className:"text-sm text-slate-700",children:i.date})]})]})]}),b.jsx("div",{className:"mb-8",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-slate-50 border-y border-slate-200",children:[b.jsx("th",{className:"py-2 pl-2 text-xs font-bold text-slate-900 uppercase",children:"Qty"}),b.jsx("th",{className:"py-2 text-xs font-bold text-slate-900 uppercase w-1/2",children:"Description"}),b.jsx("th",{className:"py-2 text-right text-xs font-bold text-slate-900 uppercase",children:"Unit Price"}),b.jsx("th",{className:"py-2 pr-2 text-right text-xs font-bold text-slate-900 uppercase",children:"Amount"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100",children:i.items.map((r,o)=>b.jsxs("tr",{children:[b.jsx("td",{className:"py-3 pl-2 text-sm text-slate-700",children:r.quantity}),b.jsx("td",{className:"py-3 text-sm text-slate-700 font-medium",children:r.name}),b.jsxs("td",{className:"py-3 text-right text-sm text-slate-700",children:["",r.price.toFixed(2)]}),b.jsxs("td",{className:"py-3 pr-2 text-right text-sm text-slate-900 font-bold",children:["",(r.price*r.quantity).toFixed(2)]})]},`${r.id}-${o}`))})]})}),b.jsx("div",{className:"flex justify-end mb-12",children:b.jsxs("div",{className:"w-64 space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm text-slate-600",children:[b.jsx("span",{children:"Subtotal"}),b.jsxs("span",{children:["",i.subTotal.toFixed(2)]})]}),i.discount>0&&b.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[b.jsx("span",{children:"Discount"}),b.jsxs("span",{children:["-",i.discount.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between text-xl font-bold text-slate-900 pt-3 border-t border-slate-200",children:[b.jsx("span",{children:"TOTAL"}),b.jsxs("span",{children:["",i.total.toFixed(2)]})]})]})}),b.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-100",children:[b.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-1",children:"Terms & Conditions"}),b.jsxs("p",{className:"text-xs text-slate-500 leading-relaxed",children:["Payment is due immediately. Please make checks payable to: Disni Designs.",b.jsx("br",{}),"Goods once sold cannot be taken back or exchanged."]})]})]})}),b.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 flex justify-end gap-3",children:[b.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Close"}),b.jsxs("button",{onClick:t,className:"flex items-center px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-sm transition-transform active:scale-95",children:[b.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Receipt"]})]})]})}),Qk=()=>{const[n,e]=R.useState([]),[t,i]=R.useState([]),[r,o]=R.useState(""),[c,h]=R.useState("All"),[d,f]=R.useState(!1),[p,y]=R.useState(""),[v,_]=R.useState(""),[w,E]=R.useState("CASH"),[S,T]=R.useState(!1),[j,A]=R.useState(null),[P,q]=R.useState(!1),[Y,V]=R.useState(()=>{const D=localStorage.getItem("disney_recent_products");return D?JSON.parse(D):[]}),[W,J]=R.useState(null);R.useEffect(()=>{he()},[W]);const he=async()=>{const D=await ht.getProducts();e(D)},re=R.useMemo(()=>Y.map(D=>n.find(K=>K.id===D)).filter(D=>D!==void 0).slice(0,6),[Y,n]),ce=R.useMemo(()=>{const D=new Set(n.map(K=>K.category));return["All",...Array.from(D)]},[n]),Pe=R.useMemo(()=>n.filter(D=>{const K=D.name.toLowerCase().includes(r.toLowerCase())||D.sku.toLowerCase().includes(r.toLowerCase()),ee=c==="All"||D.category===c;return K&&ee}),[n,r,c]),Ge=D=>{D.stock_quantity!==0&&(A(D.id),setTimeout(()=>A(null),300),V(K=>{const ee=[D.id,...K.filter(Z=>Z!==D.id)].slice(0,10);return localStorage.setItem("disney_recent_products",JSON.stringify(ee)),ee}),i(K=>{const ee=K.find(Z=>Z.id===D.id);return ee?ee.quantity>=D.stock_quantity?K:K.map(Z=>Z.id===D.id?{...Z,quantity:Z.quantity+1}:Z):[...K,{...D,quantity:1}]}))},ke=D=>{i(K=>K.filter(ee=>ee.id!==D))},B=(D,K)=>{i(ee=>ee.map(Z=>{if(Z.id===D){const _e=Z.quantity+K;if(_e<1)return Z;const et=n.find(Ue=>Ue.id===D);return et&&_e>et.stock_quantity?Z:{...Z,quantity:_e}}return Z}))},X=R.useMemo(()=>t.reduce((D,K)=>D+K.price*K.quantity,0),[t]),se=parseFloat(p)||0,be=Math.max(0,X-se),xe=async()=>{if(t.length!==0){f(!0);try{const D=new Date,K=D.toLocaleDateString("en-IN").replace(/\//g,""),ee=D.toTimeString().slice(0,5).replace(":",""),Z=Math.random().toString(36).substring(2,6).toUpperCase(),_e=`BILL-${K}-${ee}-${Z}`,et=D.toLocaleDateString("en-IN")+" "+D.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"});await ht.createSale({customer_name:v,total_amount:be,discount_amount:se,payment_method:w},t.map(Ue=>({productId:Ue.id,quantity:Ue.quantity,price:Ue.price}))),J({id:_e,date:et,customerName:v,items:[...t],subTotal:X,discount:se,total:be}),T(!0),i([]),y(""),_(""),E("CASH")}catch(D){console.error("Checkout failed",D),alert("Checkout failed: "+(D instanceof Error?D.message:"Unknown error"))}finally{f(!1)}}},N=()=>{window.print()},I=()=>{T(!1),J(null)};return b.jsxs(b.Fragment,{children:[b.jsx(Jk,{isOpen:S,onClose:I,onPrint:N,data:W}),W&&b.jsx(Xk,{saleId:W.id,date:W.date,customerName:W.customerName,items:W.items,subTotal:W.subTotal,discount:W.discount,total:W.total}),b.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-64px)] overflow-hidden print:hidden",children:[b.jsxs("div",{className:"flex-1 flex flex-col bg-slate-100 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 h-full overflow-hidden transition-colors duration-200",children:[b.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm z-10 flex flex-col gap-4 transition-colors duration-200",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),b.jsx("input",{type:"text",placeholder:"Search trophies by name or SKU...",className:"pl-10 block w-full rounded-lg border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 border-transparent focus:bg-white dark:focus:bg-slate-600 focus:border-blue-500 focus:ring-0 text-sm py-2.5 px-3 transition-colors shadow-sm text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400",value:r,onChange:D=>o(D.target.value)})]}),b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:ce.map(D=>b.jsx("button",{onClick:()=>h(D),className:`px-4 py-1.5 rounded-full text-xs font-semibold whitespace-nowrap transition-all ${c===D?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600"}`,children:D},D))})]}),re.length>0&&!r&&b.jsxs("div",{className:"px-4 pt-4 pb-2 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:[b.jsxs("h3",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2 flex items-center",children:[b.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recently Added"]}),b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:re.map(D=>b.jsxs("button",{onClick:()=>Ge(D),disabled:D.stock_quantity===0,className:`flex-shrink-0 px-3 py-2 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 text-left transition-all ${D.stock_quantity>0?"hover:border-blue-400 hover:shadow-sm cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[b.jsx("div",{className:"text-xs font-medium text-slate-800 dark:text-white truncate max-w-[120px]",children:D.name}),b.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-bold",children:["",D.price]})]},D.id))})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Pe.map(D=>{const K=D.stock_quantity>0;return b.jsxs("div",{onClick:()=>K&&Ge(D),className:`relative group bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between transition-all duration-200 
                      ${K?"cursor-pointer hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-500 hover:-translate-y-1 active:scale-[0.98]":"opacity-75 cursor-not-allowed bg-slate-50 dark:bg-slate-800/50"}`,children:[b.jsxs("div",{className:"mb-3",children:[b.jsx("div",{className:"flex justify-between items-start mb-2",children:b.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-[10px] font-bold bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:D.sku})}),b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm leading-tight line-clamp-2 h-10",children:D.name})]}),b.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700",children:[b.jsxs("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["",D.price.toFixed(2)]}),b.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${K?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:K?`${D.stock_quantity} Left`:"Sold Out"})]}),K&&b.jsx("div",{className:"absolute inset-0 bg-blue-600 bg-opacity-0 group-hover:bg-opacity-5 dark:group-hover:bg-opacity-10 rounded-xl transition-all"})]},D.id)})}),Pe.length===0&&b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[b.jsx("svg",{className:"w-16 h-16 mb-4 opacity-40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),b.jsx("p",{className:"font-medium",children:"No trophies found"}),b.jsx("p",{className:"text-sm",children:"Try adjusting your search"})]})]})]}),b.jsxs("div",{className:"w-full md:w-[420px] bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 flex flex-col h-full shadow-2xl z-20 transition-colors duration-200",children:[b.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 transition-colors",children:b.jsxs("h2",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center",children:[b.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-lg mr-3",children:b.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),"Current Order"]})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-slate-50 dark:bg-slate-900 transition-colors",children:t.length===0?b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 space-y-4",children:[b.jsx("div",{className:"w-24 h-24 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:b.jsx("svg",{className:"w-12 h-12 opacity-40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-400",children:"Your cart is empty"}),b.jsx("p",{className:"text-sm",children:"Select trophies to add them here"})]})]}):t.map(D=>b.jsxs("div",{className:`bg-white dark:bg-slate-800 p-3 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 flex justify-between items-center group transition-all hover:shadow-md ${j===D.id?"animate-pop":""}`,children:[b.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[b.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-sm truncate",children:D.name}),b.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mt-1",children:["",D.price.toFixed(2)," / unit"]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-600",children:[b.jsx("button",{onClick:()=>B(D.id,-1),className:"px-3 py-1.5 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 active:bg-slate-300 dark:active:bg-slate-500 transition-colors",children:"-"}),b.jsx("span",{className:"w-8 text-center text-sm font-semibold text-slate-800 dark:text-white",children:D.quantity}),b.jsx("button",{onClick:()=>B(D.id,1),className:"px-3 py-1.5 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 active:bg-slate-300 dark:active:bg-slate-500 transition-colors",children:"+"})]}),b.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[b.jsxs("div",{className:"font-bold text-slate-900 dark:text-white w-16",children:["",(D.price*D.quantity).toFixed(2)]}),b.jsx("button",{onClick:()=>ke(D.id),className:"text-slate-400 hover:text-red-500 transition-colors p-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/30",title:"Remove Item",children:b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},D.id))}),b.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] transition-colors",children:[b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400 text-sm",children:[b.jsx("span",{children:"Customer Name"}),b.jsx("input",{type:"text",value:v,onChange:D=>_(D.target.value),placeholder:"Enter Name",className:"w-40 text-right font-medium text-slate-800 dark:text-white border-b border-slate-300 dark:border-slate-600 focus:border-blue-500 focus:outline-none bg-transparent placeholder-slate-400"})]}),b.jsxs("div",{className:"flex justify-between text-slate-500 dark:text-slate-400 text-sm",children:[b.jsx("span",{children:"Subtotal"}),b.jsxs("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:["",X.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400 text-sm",children:[b.jsx("span",{children:"Discount"}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("span",{className:"text-slate-400",children:"- "}),b.jsx("input",{type:"number",min:"0",max:X,value:p,onChange:D=>y(D.target.value),placeholder:"0.00",className:"w-20 text-right font-medium text-red-500 border-b border-slate-300 dark:border-slate-600 focus:border-blue-500 focus:outline-none bg-transparent placeholder-slate-300"})]})]}),b.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400 text-sm",children:[b.jsx("span",{children:"Payment"}),b.jsx("div",{className:"flex gap-1",children:["CASH","CARD","UPI"].map(D=>b.jsx("button",{onClick:()=>E(D),className:`px-3 py-1 rounded-lg text-xs font-semibold transition-all ${w===D?D==="CASH"?"bg-green-600 text-white":D==="CARD"?"bg-blue-600 text-white":"bg-purple-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:D},D))})]}),b.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-dashed border-slate-200 dark:border-slate-700",children:[b.jsx("span",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Total"}),b.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["",be.toFixed(2)]})]})]}),b.jsx("button",{onClick:xe,disabled:t.length===0||d,className:`w-full py-4 rounded-xl font-bold text-lg text-white shadow-lg transition-all transform flex justify-center items-center ${t.length===0||d?"bg-slate-300 dark:bg-slate-700 cursor-not-allowed shadow-none text-slate-100 dark:text-slate-500":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/30 active:scale-[0.98]"}`,children:d?b.jsxs("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):b.jsxs("span",{className:"flex items-center",children:[b.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3"})}),"Print & Save"]})})]})]})]})]})},Zk=()=>{const[n,e]=R.useState([]),[t,i]=R.useState({name:"",category:"",price:"",cost_price:"",stock_quantity:""}),[r,o]=R.useState(null),[c,h]=R.useState({price:"",stock_quantity:""}),[d,f]=R.useState(null),[p,y]=R.useState(!1);R.useEffect(()=>{v()},[]);const v=async()=>{const j=await ht.getProducts();e(j)},_=async()=>{d&&(y(!0),await ht.deleteProduct(d),y(!1),f(null),v())},w=async j=>{if(j.preventDefault(),!t.name||!t.price||!t.stock_quantity)return;const A=(t.category||"GEN").substring(0,3).toUpperCase(),P=Date.now().toString(36).toUpperCase(),q=Math.random().toString(36).substring(2,5).toUpperCase(),Y=`${A}-${P}-${q}`;await ht.addProduct({name:t.name,sku:Y,category:t.category||"General",price:parseFloat(t.price),cost_price:t.cost_price?parseFloat(t.cost_price):0,stock_quantity:parseInt(t.stock_quantity)}),i({name:"",category:"",price:"",cost_price:"",stock_quantity:""}),v()},E=j=>{o(j.id),h({price:j.price.toString(),stock_quantity:j.stock_quantity.toString()})},S=()=>{o(null),h({price:"",stock_quantity:""})},T=async j=>{await ht.updateProduct(j,{price:parseFloat(c.price),stock_quantity:parseInt(c.stock_quantity)}),o(null),v()};return b.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto h-[calc(100vh-64px)] overflow-y-auto print:hidden",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Inventory Management"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Add new trophies and manage existing stock levels."})]}),n.filter(j=>j.stock_quantity<5).length>0&&b.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-start",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/50 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:b.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300 mb-1",children:"Low Stock Alert"}),b.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:[n.filter(j=>j.stock_quantity<5).length," product(s) running low on stock:"]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:n.filter(j=>j.stock_quantity<5).map(j=>b.jsxs("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 text-xs font-medium rounded-full",children:[j.name," (",j.stock_quantity," left)"]},j.id))})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 mb-8 transition-colors",children:[b.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center",children:[b.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Trophy"]}),b.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end",children:[b.jsxs("div",{className:"md:col-span-3",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Trophy Name"}),b.jsx("input",{type:"text",required:!0,className:"w-full rounded-md border-slate-300 dark:border-slate-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white sm:text-sm px-3 py-2 border",placeholder:"e.g. Gold Cricket Cup",value:t.name,onChange:j=>i({...t,name:j.target.value})})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Type (Category)"}),b.jsx("input",{type:"text",className:"w-full rounded-md border-slate-300 dark:border-slate-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white sm:text-sm px-3 py-2 border",placeholder:"e.g. Metal, Crystal, Sports",value:t.category,onChange:j=>i({...t,category:j.target.value})})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Price ()"}),b.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full rounded-md border-slate-300 dark:border-slate-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white sm:text-sm px-3 py-2 border",placeholder:"0.00",value:t.price,onChange:j=>i({...t,price:j.target.value})})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cost Price ()"}),b.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full rounded-md border-slate-300 dark:border-slate-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white sm:text-sm px-3 py-2 border",placeholder:"For profit tracking",value:t.cost_price,onChange:j=>i({...t,cost_price:j.target.value})})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Initial Stock"}),b.jsx("input",{type:"number",required:!0,min:"0",className:"w-full rounded-md border-slate-300 dark:border-slate-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white sm:text-sm px-3 py-2 border",placeholder:"0",value:t.stock_quantity,onChange:j=>i({...t,stock_quantity:j.target.value})})]}),b.jsx("div",{className:"md:col-span-1",children:b.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md shadow-sm transition-colors flex justify-center",children:"Add"})})]})]}),b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden transition-colors",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[b.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Product Info"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Type"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Price ()"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Stock"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),b.jsxs("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:[n.map(j=>{const A=r===j.id,P=j.stock_quantity<5;return b.jsxs("tr",{className:`transition-colors ${A?"bg-blue-50 dark:bg-blue-900/20":P?"bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30":"bg-white hover:bg-slate-50 dark:bg-slate-800 dark:hover:bg-slate-700"}`,children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:j.name}),b.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono",children:j.sku})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:j.category})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:A?b.jsx("input",{type:"number",step:"0.01",className:"w-24 text-right rounded border-slate-300 dark:border-slate-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm py-1 px-2 border",value:c.price,onChange:q=>h({...c,price:q.target.value})}):b.jsxs("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:["",j.price.toFixed(2)]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:A?b.jsx("input",{type:"number",className:"w-20 text-right rounded border-slate-300 dark:border-slate-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm py-1 px-2 border",value:c.stock_quantity,onChange:q=>h({...c,stock_quantity:q.target.value})}):b.jsxs("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${P?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300"}`,children:[j.stock_quantity," units"]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A?b.jsxs("div",{className:"flex justify-end space-x-2",children:[b.jsx("button",{onClick:()=>T(j.id),className:"text-white bg-green-600 hover:bg-green-700 px-3 py-1 rounded-md text-xs transition-colors",children:"Save"}),b.jsx("button",{onClick:S,className:"text-slate-600 dark:text-slate-300 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-600 px-3 py-1 rounded-md text-xs transition-colors",children:"Cancel"})]}):b.jsxs("div",{className:"flex justify-end space-x-3",children:[b.jsx("button",{onClick:()=>E(j),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 font-medium",children:"Edit"}),b.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:"|"}),b.jsx("button",{onClick:()=>f(j.id),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 font-medium",children:"Delete"})]})})]},j.id)}),n.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:"No products found in inventory."})})]})]})})}),d&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden transition-colors animate-fade-in",children:b.jsxs("div",{className:"p-6",children:[b.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),b.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white text-center mb-2",children:"Delete Product?"}),b.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center mb-6",children:"This action cannot be undone. The product will be permanently removed from your inventory."}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>f(null),className:"flex-1 py-3 px-4 bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-lg font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:_,disabled:p,className:"flex-1 py-3 px-4 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center",children:p?b.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Delete"})]})]})})})]})},eE=()=>{const[n,e]=R.useState([]),[t,i]=R.useState({totalSales:0,totalRevenue:0,totalDiscount:0,averageOrderValue:0}),[r,o]=R.useState(!0),[c,h]=R.useState(null);R.useEffect(()=>{d()},[]);const d=async()=>{o(!0);const[v,_]=await Promise.all([ht.getSalesWithItems(),ht.getSalesSummary()]);e(v),i(_),o(!1)},f=v=>new Date(v).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),p=v=>{h(c===v?null:v)},y=()=>{if(n.length===0)return;const v=["Date","Customer","Payment Method","Discount","Total","Items"],_=n.map(j=>{const A=j.items.map(P=>{var q;return`${((q=P.products)==null?void 0:q.name)||"Unknown"} x${P.quantity}`}).join("; ");return[f(j.created_at),j.customer_name||"Walk-in",j.payment_method,Number(j.discount_amount).toFixed(2),Number(j.total_amount).toFixed(2),A]}),w=[v.join(","),..._.map(j=>j.map(A=>`"${A}"`).join(","))].join(`
`),E=new Blob([w],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(E),T=document.createElement("a");T.href=S,T.download=`sales-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(S)};return b.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto h-[calc(100vh-64px)] overflow-y-auto print:hidden",children:[b.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Sales Report"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"View sales history and revenue analytics."})]}),b.jsxs("button",{onClick:y,disabled:n.length===0,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center shadow-sm",children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5 transition-colors",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Total Sales"}),b.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t.totalSales})]}),b.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:b.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5 transition-colors",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Total Revenue"}),b.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["",t.totalRevenue.toFixed(2)]})]}),b.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center",children:b.jsx("svg",{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5 transition-colors",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Total Discounts"}),b.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["",t.totalDiscount.toFixed(2)]})]}),b.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center",children:b.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})})]})}),b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5 transition-colors",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Avg. Order Value"}),b.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["",t.averageOrderValue.toFixed(2)]})]}),b.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:b.jsx("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden transition-colors",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center",children:[b.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Recent Transactions"]}),b.jsxs("button",{onClick:d,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium flex items-center",children:[b.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),r?b.jsxs("div",{className:"p-12 text-center",children:[b.jsxs("svg",{className:"animate-spin h-8 w-8 mx-auto text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Loading sales data..."})]}):n.length===0?b.jsxs("div",{className:"p-12 text-center",children:[b.jsx("svg",{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No sales yet"}),b.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Complete a checkout to see sales here"})]}):b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[b.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Date"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Customer"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Payment"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Discount"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Total"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Details"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(v=>b.jsxs(py.Fragment,{children:[b.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:f(v.created_at)}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white capitalize",children:v.customer_name||"Walk-in"})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${v.payment_method==="CASH"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":v.payment_method==="CARD"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:v.payment_method})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-red-600 dark:text-red-400",children:Number(v.discount_amount)>0?`-${Number(v.discount_amount).toFixed(2)}`:"-"}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-slate-900 dark:text-white",children:["",Number(v.total_amount).toFixed(2)]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:b.jsx("button",{onClick:()=>p(v.id),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 text-sm font-medium",children:c===v.id?"Hide":"View"})})]}),c===v.id&&b.jsx("tr",{className:"bg-slate-50 dark:bg-slate-900",children:b.jsx("td",{colSpan:6,className:"px-6 py-4",children:b.jsxs("div",{className:"text-sm",children:[b.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Items in this order:"}),b.jsx("div",{className:"space-y-1",children:v.items.map((_,w)=>{var E;return b.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-400",children:[b.jsxs("span",{children:[((E=_.products)==null?void 0:E.name)||"Unknown Product","  ",_.quantity]}),b.jsxs("span",{children:["",(_.price_at_sale*_.quantity).toFixed(2)]})]},w)})})]})})})]},v.id))})]})})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function el(n){return n+.5|0}const As=(n,e,t)=>Math.max(Math.min(n,t),e);function Or(n){return As(el(n*2.55),0,255)}function Ds(n){return As(el(n*255),0,255)}function Jn(n){return As(el(n/2.55)/100,0,1)}function Xp(n){return As(el(n*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ed=[..."0123456789ABCDEF"],tE=n=>Ed[n&15],nE=n=>Ed[(n&240)>>4]+Ed[n&15],Eo=n=>(n&240)>>4===(n&15),sE=n=>Eo(n.r)&&Eo(n.g)&&Eo(n.b)&&Eo(n.a);function iE(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ln[n[1]]*17,g:255&ln[n[2]]*17,b:255&ln[n[3]]*17,a:e===5?ln[n[4]]*17:255}:(e===7||e===9)&&(t={r:ln[n[1]]<<4|ln[n[2]],g:ln[n[3]]<<4|ln[n[4]],b:ln[n[5]]<<4|ln[n[6]],a:e===9?ln[n[7]]<<4|ln[n[8]]:255})),t}const aE=(n,e)=>n<255?e(n):"";function rE(n){var e=sE(n)?tE:nE;return n?"#"+e(n.r)+e(n.g)+e(n.b)+aE(n.a,e):void 0}const lE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nv(n,e,t){const i=e*Math.min(t,1-t),r=(o,c=(o+n/30)%12)=>t-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function oE(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function cE(n,e,t){const i=nv(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function uE(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function Xd(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),c=Math.min(t,i,r),h=(o+c)/2;let d,f,p;return o!==c&&(p=o-c,f=h>.5?p/(2-o-c):p/(o+c),d=uE(t,i,r,p,o),d=d*60+.5),[d|0,f||0,h]}function Jd(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Ds)}function Qd(n,e,t){return Jd(nv,n,e,t)}function hE(n,e,t){return Jd(cE,n,e,t)}function dE(n,e,t){return Jd(oE,n,e,t)}function sv(n){return(n%360+360)%360}function fE(n){const e=lE.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Or(+e[5]):Ds(+e[5]));const r=sv(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=hE(r,o,c):e[1]==="hsv"?i=dE(r,o,c):i=Qd(r,o,c),{r:i[0],g:i[1],b:i[2],a:t}}function mE(n,e){var t=Xd(n);t[0]=sv(t[0]+e),t=Qd(t),n.r=t[0],n.g=t[1],n.b=t[2]}function gE(n){if(!n)return;const e=Xd(n),t=e[0],i=Xp(e[1]),r=Xp(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Jn(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Jp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Qp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pE(){const n={},e=Object.keys(Qp),t=Object.keys(Jp);let i,r,o,c,h;for(i=0;i<e.length;i++){for(c=h=e[i],r=0;r<t.length;r++)o=t[r],h=h.replace(o,Jp[o]);o=parseInt(Qp[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let To;function bE(n){To||(To=pE(),To.transparent=[0,0,0,0]);const e=To[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const yE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function vE(n){const e=yE.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const c=+e[7];t=e[8]?Or(c):As(c*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?Or(i):As(i,0,255)),r=255&(e[4]?Or(r):As(r,0,255)),o=255&(e[6]?Or(o):As(o,0,255)),{r:i,g:r,b:o,a:t}}}function xE(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Jn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Qh=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ua=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _E(n,e,t){const i=ua(Jn(n.r)),r=ua(Jn(n.g)),o=ua(Jn(n.b));return{r:Ds(Qh(i+t*(ua(Jn(e.r))-i))),g:Ds(Qh(r+t*(ua(Jn(e.g))-r))),b:Ds(Qh(o+t*(ua(Jn(e.b))-o))),a:n.a+t*(e.a-n.a)}}function jo(n,e,t){if(n){let i=Xd(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Qd(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function iv(n,e){return n&&Object.assign(e||{},n)}function Zp(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ds(n[3]))):(e=iv(n,{r:0,g:0,b:0,a:1}),e.a=Ds(e.a)),e}function wE(n){return n.charAt(0)==="r"?vE(n):fE(n)}class Ir{constructor(e){if(e instanceof Ir)return e;const t=typeof e;let i;t==="object"?i=Zp(e):t==="string"&&(i=iE(e)||bE(e)||wE(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=iv(this._rgb);return e&&(e.a=Jn(e.a)),e}set rgb(e){this._rgb=Zp(e)}rgbString(){return this._valid?xE(this._rgb):void 0}hexString(){return this._valid?rE(this._rgb):void 0}hslString(){return this._valid?gE(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const c=t===o?.5:t,h=2*c-1,d=i.a-r.a,f=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-f,i.r=255&f*i.r+o*r.r+.5,i.g=255&f*i.g+o*r.g+.5,i.b=255&f*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=_E(this._rgb,e._rgb,t)),this}clone(){return new Ir(this.rgb)}alpha(e){return this._rgb.a=Ds(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=el(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return jo(this._rgb,2,e),this}darken(e){return jo(this._rgb,2,-e),this}saturate(e){return jo(this._rgb,1,e),this}desaturate(e){return jo(this._rgb,1,-e),this}rotate(e){return mE(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yn(){}const SE=(()=>{let n=0;return()=>n++})();function Ce(n){return n==null}function rt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Te(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function St(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function wn(n,e){return St(n)?n:e}function pe(n,e){return typeof n>"u"?e:n}const kE=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ve(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Me(n,e,t,i){let r,o,c;if(rt(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(Te(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)e.call(t,n[c[r]],c[r])}function Jo(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Qo(n){if(rt(n))return n.map(Qo);if(Te(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Qo(n[t[r]]);return e}return n}function av(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function EE(n,e,t,i){if(!av(n))return;const r=e[n],o=t[n];Te(r)&&Te(o)?Fr(r,o,i):e[n]=Qo(o)}function Fr(n,e,t){const i=rt(e)?e:[e],r=i.length;if(!Te(n))return n;t=t||{};const o=t.merger||EE;let c;for(let h=0;h<r;++h){if(c=i[h],!Te(c))continue;const d=Object.keys(c);for(let f=0,p=d.length;f<p;++f)o(d[f],n,c,t)}return n}function Mr(n,e){return Fr(n,e,{merger:TE})}function TE(n,e,t){if(!av(n))return;const i=e[n],r=t[n];Te(i)&&Te(r)?Mr(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Qo(r))}const eb={"":n=>n,x:n=>n.x,y:n=>n.y};function jE(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function OE(n){const e=jE(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function xa(n,e){return(eb[e]||(eb[e]=OE(e)))(n)}function Zd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Gr=n=>typeof n<"u",Ls=n=>typeof n=="function",tb=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function AE(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const dt=Math.PI,bn=2*dt,CE=bn+dt,Zo=Number.POSITIVE_INFINITY,NE=dt/180,pn=dt/2,ii=dt/4,nb=dt*2/3,rv=Math.log10,Tn=Math.sign;function Dr(n,e,t){return Math.abs(n-e)<t}function sb(n){const e=Math.round(n);n=Dr(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(rv(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function RE(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function ME(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Yr(n){return!ME(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function DE(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function LE(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function mi(n){return n*(dt/180)}function zE(n){return n*(180/dt)}function ib(n){if(!St(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function UE(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*dt&&(o+=bn),{angle:o,distance:r}}function Td(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function BE(n,e){return(n-e+CE)%bn-dt}function En(n){return(n%bn+bn)%bn}function lv(n,e,t,i){const r=En(n),o=En(e),c=En(t),h=En(o-r),d=En(c-r),f=En(r-o),p=En(r-c);return r===o||r===c||i&&o===c||h>d&&f<p}function Yt(n,e,t){return Math.max(e,Math.min(t,n))}function HE(n){return Yt(n,-32768,32767)}function Cs(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function ef(n,e,t){t=t||(c=>n[c]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const gi=(n,e,t,i)=>ef(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),PE=(n,e,t)=>ef(n,t,i=>n[i][e]>=t);function qE(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const ov=["push","pop","shift","splice","unshift"];function $E(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ov.forEach(t=>{const i="_onData"+Zd(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function ab(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(ov.forEach(o=>{delete n[o]}),delete n._chartjs)}function cv(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const uv=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function hv(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,uv.call(window,()=>{i=!1,n.apply(e,t)}))}}function VE(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const tf=n=>n==="start"?"left":n==="end"?"right":"center",_t=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,IE=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function FE(n,e,t){const i=e.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=c.axis,{min:y,max:v,minDefined:_,maxDefined:w}=c.getUserBounds();if(_){if(r=Math.min(gi(d,p,y).lo,t?i:gi(e,p,c.getPixelForValue(y)).lo),f){const E=d.slice(0,r+1).reverse().findIndex(S=>!Ce(S[h.axis]));r-=Math.max(0,E)}r=Yt(r,0,i-1)}if(w){let E=Math.max(gi(d,c.axis,v,!0).hi+1,t?0:gi(e,p,c.getPixelForValue(v),!0).hi+1);if(f){const S=d.slice(E-1).findIndex(T=>!Ce(T[h.axis]));E+=Math.max(0,S)}o=Yt(E,r,i)-r}else o=i-r}return{start:r,count:o}}function GE(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),o}const Oo=n=>n===0||n===1,rb=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*bn/t)),lb=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*bn/t)+1,Lr={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*pn)+1,easeOutSine:n=>Math.sin(n*pn),easeInOutSine:n=>-.5*(Math.cos(dt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Oo(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Oo(n)?n:rb(n,.075,.3),easeOutElastic:n=>Oo(n)?n:lb(n,.075,.3),easeInOutElastic(n){return Oo(n)?n:n<.5?.5*rb(n*2,.1125,.45):.5+.5*lb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Lr.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Lr.easeInBounce(n*2)*.5:Lr.easeOutBounce(n*2-1)*.5+.5};function nf(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ob(n){return nf(n)?n:new Ir(n)}function Zh(n){return nf(n)?n:new Ir(n).saturate(.5).darken(.1).hexString()}const YE=["x","y","borderWidth","radius","tension"],WE=["color","borderColor","backgroundColor"];function KE(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:WE},numbers:{type:"number",properties:YE}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function XE(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cb=new Map;function JE(n,e){e=e||{};const t=n+JSON.stringify(e);let i=cb.get(t);return i||(i=new Intl.NumberFormat(n,e),cb.set(t,i)),i}function dv(n,e,t){return JE(e,t).format(n)}const QE={values(n){return rt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=ZE(n,t)}const c=rv(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),dv(n,i,d)}};function ZE(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var fv={formatters:QE};function eT(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const bi=Object.create(null),jd=Object.create(null);function zr(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function ed(n,e,t){return typeof e=="string"?Fr(zr(n,e),t):Fr(zr(n,""),e)}class tT{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Zh(r.backgroundColor),this.hoverBorderColor=(i,r)=>Zh(r.borderColor),this.hoverColor=(i,r)=>Zh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ed(this,e,t)}get(e){return zr(this,e)}describe(e,t){return ed(jd,e,t)}override(e,t){return ed(bi,e,t)}route(e,t,i,r){const o=zr(this,e),c=zr(this,i),h="_"+t;Object.defineProperties(o,{[h]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[h],f=c[r];return Te(d)?Object.assign({},f,d):pe(d,f)},set(d){this[h]=d}}})}apply(e){e.forEach(t=>t(this))}}var Ze=new tT({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[KE,XE,eT]);function nT(n){return!n||Ce(n.size)||Ce(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ub(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function ai(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function hb(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Od(n,e,t,i){mv(n,e,t,i,null)}function mv(n,e,t,i,r){let o,c,h,d,f,p,y,v;const _=e.pointStyle,w=e.rotation,E=e.radius;let S=(w||0)*NE;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(S),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),_){default:r?n.ellipse(t,i,r/2,E,0,0,bn):n.arc(t,i,E,0,bn),n.closePath();break;case"triangle":p=r?r/2:E,n.moveTo(t+Math.sin(S)*p,i-Math.cos(S)*E),S+=nb,n.lineTo(t+Math.sin(S)*p,i-Math.cos(S)*E),S+=nb,n.lineTo(t+Math.sin(S)*p,i-Math.cos(S)*E),n.closePath();break;case"rectRounded":f=E*.516,d=E-f,c=Math.cos(S+ii)*d,y=Math.cos(S+ii)*(r?r/2-f:d),h=Math.sin(S+ii)*d,v=Math.sin(S+ii)*(r?r/2-f:d),n.arc(t-y,i-h,f,S-dt,S-pn),n.arc(t+v,i-c,f,S-pn,S),n.arc(t+y,i+h,f,S,S+pn),n.arc(t-v,i+c,f,S+pn,S+dt),n.closePath();break;case"rect":if(!w){d=Math.SQRT1_2*E,p=r?r/2:d,n.rect(t-p,i-d,2*p,2*d);break}S+=ii;case"rectRot":y=Math.cos(S)*(r?r/2:E),c=Math.cos(S)*E,h=Math.sin(S)*E,v=Math.sin(S)*(r?r/2:E),n.moveTo(t-y,i-h),n.lineTo(t+v,i-c),n.lineTo(t+y,i+h),n.lineTo(t-v,i+c),n.closePath();break;case"crossRot":S+=ii;case"cross":y=Math.cos(S)*(r?r/2:E),c=Math.cos(S)*E,h=Math.sin(S)*E,v=Math.sin(S)*(r?r/2:E),n.moveTo(t-y,i-h),n.lineTo(t+y,i+h),n.moveTo(t+v,i-c),n.lineTo(t-v,i+c);break;case"star":y=Math.cos(S)*(r?r/2:E),c=Math.cos(S)*E,h=Math.sin(S)*E,v=Math.sin(S)*(r?r/2:E),n.moveTo(t-y,i-h),n.lineTo(t+y,i+h),n.moveTo(t+v,i-c),n.lineTo(t-v,i+c),S+=ii,y=Math.cos(S)*(r?r/2:E),c=Math.cos(S)*E,h=Math.sin(S)*E,v=Math.sin(S)*(r?r/2:E),n.moveTo(t-y,i-h),n.lineTo(t+y,i+h),n.moveTo(t+v,i-c),n.lineTo(t-v,i+c);break;case"line":c=r?r/2:Math.cos(S)*E,h=Math.sin(S)*E,n.moveTo(t-c,i-h),n.lineTo(t+c,i+h);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(S)*(r?r/2:E),i+Math.sin(S)*E);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Wr(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function cc(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function uc(n){n.restore()}function sT(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function iT(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function aT(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ce(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function rT(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,d=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,p=r.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,p),n.lineTo(h,p),n.stroke()}}function lT(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Kr(n,e,t,i,r,o={}){const c=rt(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=r.string,aT(n,o),d=0;d<c.length;++d)f=c[d],o.backdrop&&lT(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ce(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,t,i,o.maxWidth)),n.fillText(f,t,i,o.maxWidth),rT(n,t,i,f,o),i+=Number(r.lineHeight);n.restore()}function ec(n,e){const{x:t,y:i,w:r,h:o,radius:c}=e;n.arc(t+c.topLeft,i+c.topLeft,c.topLeft,1.5*dt,dt,!0),n.lineTo(t,i+o-c.bottomLeft),n.arc(t+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,dt,pn,!0),n.lineTo(t+r-c.bottomRight,i+o),n.arc(t+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,pn,0,!0),n.lineTo(t+r,i+c.topRight),n.arc(t+r-c.topRight,i+c.topRight,c.topRight,0,-pn,!0),n.lineTo(t+c.topLeft,i)}const oT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uT(n,e){const t=(""+n).match(oT);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const hT=n=>+n||0;function gv(n,e){const t={},i=Te(e),r=i?Object.keys(e):e,o=Te(n)?i?c=>pe(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of r)t[c]=hT(o(c));return t}function pv(n){return gv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ba(n){return gv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function cn(n){const e=pv(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wt(n,e){n=n||{},e=e||Ze.font;let t=pe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=pe(n.style,e.style);i&&!(""+i).match(cT)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:pe(n.family,e.family),lineHeight:uT(pe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:pe(n.weight,e.weight),string:""};return r.string=nT(r),r}function Ao(n,e,t,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function dT(n,e,t){const{min:i,max:r}=n,o=kE(e,(r-i)/2),c=(h,d)=>t&&h===0?0:h+d;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function vi(n,e){return Object.assign(Object.create(n),e)}function sf(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=xv("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>sf([h,...n],e,o,i)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return yv(h,d,()=>xT(d,e,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return fb(h).includes(d)},ownKeys(h){return fb(h)},set(h,d,f){const p=h._storage||(h._storage=r());return h[d]=p[d]=f,delete h._keys,!0}})}function _a(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:bv(n,i),setContext:o=>_a(n,o,t,i),override:o=>_a(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return yv(o,c,()=>mT(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function bv(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Ls(t)?t:()=>t,isIndexable:Ls(i)?i:()=>i}}const fT=(n,e)=>n?n+Zd(e):e,af=(n,e)=>Te(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yv(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function mT(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[e];return Ls(h)&&c.isScriptable(e)&&(h=gT(e,h,n,t)),rt(h)&&h.length&&(h=pT(e,h,n,c.isIndexable)),af(e,h)&&(h=_a(h,r,o&&o[e],c)),h}function gT(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=t;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=e(o,c||i);return h.delete(n),af(n,d)&&(d=rf(r._scopes,r,n,d)),d}function pT(n,e,t,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(Te(e[0])){const d=e,f=r._scopes.filter(p=>p!==d);e=[];for(const p of d){const y=rf(f,r,n,p);e.push(_a(y,o,c&&c[n],h))}}return e}function vv(n,e,t){return Ls(n)?n(e,t):n}const bT=(n,e)=>n===!0?e:typeof n=="string"?xa(e,n):void 0;function yT(n,e,t,i,r){for(const o of e){const c=bT(t,o);if(c){n.add(c);const h=vv(c._fallback,t,r);if(typeof h<"u"&&h!==t&&h!==i)return h}else if(c===!1&&typeof i<"u"&&t!==i)return null}return!1}function rf(n,e,t,i){const r=e._rootScopes,o=vv(e._fallback,t,i),c=[...n,...r],h=new Set;h.add(i);let d=db(h,c,t,o||t,i);return d===null||typeof o<"u"&&o!==t&&(d=db(h,c,o,d,i),d===null)?!1:sf(Array.from(h),[""],r,o,()=>vT(e,t,i))}function db(n,e,t,i,r){for(;t;)t=yT(n,e,t,i,r);return t}function vT(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return rt(r)&&Te(t)?t:r||{}}function xT(n,e,t,i){let r;for(const o of e)if(r=xv(fT(o,n),t),typeof r<"u")return af(n,r)?rf(t,i,n,r):r}function xv(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function fb(n){let e=n._keys;return e||(e=n._keys=_T(n._scopes)),e}function _T(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const wT=Number.EPSILON||1e-14,wa=(n,e)=>e<n.length&&!n[e].skip&&n[e],_v=n=>n==="x"?"y":"x";function ST(n,e,t,i){const r=n.skip?e:n,o=e,c=t.skip?e:t,h=Td(o,r),d=Td(c,o);let f=h/(h+d),p=d/(h+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,v=i*p;return{previous:{x:o.x-y*(c.x-r.x),y:o.y-y*(c.y-r.y)},next:{x:o.x+v*(c.x-r.x),y:o.y+v*(c.y-r.y)}}}function kT(n,e,t){const i=n.length;let r,o,c,h,d,f=wa(n,0);for(let p=0;p<i-1;++p)if(d=f,f=wa(n,p+1),!(!d||!f)){if(Dr(e[p],0,wT)){t[p]=t[p+1]=0;continue}r=t[p]/e[p],o=t[p+1]/e[p],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),t[p]=r*c*e[p],t[p+1]=o*c*e[p])}}function ET(n,e,t="x"){const i=_v(t),r=n.length;let o,c,h,d=wa(n,0);for(let f=0;f<r;++f){if(c=h,h=d,d=wa(n,f+1),!h)continue;const p=h[t],y=h[i];c&&(o=(p-c[t])/3,h[`cp1${t}`]=p-o,h[`cp1${i}`]=y-o*e[f]),d&&(o=(d[t]-p)/3,h[`cp2${t}`]=p+o,h[`cp2${i}`]=y+o*e[f])}}function TT(n,e="x"){const t=_v(e),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,d,f=wa(n,0);for(c=0;c<i;++c)if(h=d,d=f,f=wa(n,c+1),!!d){if(f){const p=f[e]-d[e];r[c]=p!==0?(f[t]-d[t])/p:0}o[c]=h?f?Tn(r[c-1])!==Tn(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}kT(n,r,o),ET(n,o,e)}function Co(n,e,t){return Math.max(Math.min(n,t),e)}function jT(n,e){let t,i,r,o,c,h=Wr(n[0],e);for(t=0,i=n.length;t<i;++t)c=o,o=h,h=t<i-1&&Wr(n[t+1],e),o&&(r=n[t],c&&(r.cp1x=Co(r.cp1x,e.left,e.right),r.cp1y=Co(r.cp1y,e.top,e.bottom)),h&&(r.cp2x=Co(r.cp2x,e.left,e.right),r.cp2y=Co(r.cp2y,e.top,e.bottom)))}function OT(n,e,t,i,r){let o,c,h,d;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")TT(n,r);else{let f=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],d=ST(f,h,n[Math.min(o+1,c-(i?0:1))%c],e.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,f=h}e.capBezierPoints&&jT(n,t)}function lf(){return typeof window<"u"&&typeof document<"u"}function of(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tc(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const hc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function AT(n,e){return hc(n).getPropertyValue(e)}const CT=["top","right","bottom","left"];function pi(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=CT[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const NT=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function RT(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,d;if(NT(r,o,n.target))h=r,d=o;else{const f=e.getBoundingClientRect();h=i.clientX-f.left,d=i.clientY-f.top,c=!0}return{x:h,y:d,box:c}}function ci(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=hc(t),o=r.boxSizing==="border-box",c=pi(r,"padding"),h=pi(r,"border","width"),{x:d,y:f,box:p}=RT(n,t),y=c.left+(p&&h.left),v=c.top+(p&&h.top);let{width:_,height:w}=e;return o&&(_-=c.width+h.width,w-=c.height+h.height),{x:Math.round((d-y)/_*t.width/i),y:Math.round((f-v)/w*t.height/i)}}function MT(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&of(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const c=o.getBoundingClientRect(),h=hc(o),d=pi(h,"border","width"),f=pi(h,"padding");e=c.width-f.width-d.width,t=c.height-f.height-d.height,i=tc(h.maxWidth,o,"clientWidth"),r=tc(h.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Zo,maxHeight:r||Zo}}const Ns=n=>Math.round(n*10)/10;function DT(n,e,t,i){const r=hc(n),o=pi(r,"margin"),c=tc(r.maxWidth,n,"clientWidth")||Zo,h=tc(r.maxHeight,n,"clientHeight")||Zo,d=MT(n,e,t);let{width:f,height:p}=d;if(r.boxSizing==="content-box"){const v=pi(r,"border","width"),_=pi(r,"padding");f-=_.width+v.width,p-=_.height+v.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=Ns(Math.min(f,c,d.maxWidth)),p=Ns(Math.min(p,h,d.maxHeight)),f&&!p&&(p=Ns(f/2)),(e!==void 0||t!==void 0)&&i&&d.height&&p>d.height&&(p=d.height,f=Ns(Math.floor(p*i))),{width:f,height:p}}function mb(n,e,t){const i=e||1,r=Ns(n.height*i),o=Ns(n.width*i);n.height=Ns(n.height),n.width=Ns(n.width);const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const LT=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};lf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function gb(n,e){const t=AT(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ui(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function zT(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function UT(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},c=ui(n,r,t),h=ui(r,o,t),d=ui(o,e,t),f=ui(c,h,t),p=ui(h,d,t);return ui(f,p,t)}const BT=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},HT=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ya(n,e,t){return n?BT(e,t):HT()}function wv(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Sv(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function kv(n){return n==="angle"?{between:lv,compare:BE,normalize:En}:{between:Cs,compare:(e,t)=>e-t,normalize:e=>e}}function pb({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function PT(n,e,t){const{property:i,start:r,end:o}=t,{between:c,normalize:h}=kv(i),d=e.length;let{start:f,end:p,loop:y}=n,v,_;if(y){for(f+=d,p+=d,v=0,_=d;v<_&&c(h(e[f%d][i]),r,o);++v)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:y,style:n.style}}function Ev(n,e,t){if(!t)return[n];const{property:i,start:r,end:o}=t,c=e.length,{compare:h,between:d,normalize:f}=kv(i),{start:p,end:y,loop:v,style:_}=PT(n,e,t),w=[];let E=!1,S=null,T,j,A;const P=()=>d(r,A,T)&&h(r,A)!==0,q=()=>h(o,T)===0||d(o,A,T),Y=()=>E||P(),V=()=>!E||q();for(let W=p,J=p;W<=y;++W)j=e[W%c],!j.skip&&(T=f(j[i]),T!==A&&(E=d(T,r,o),S===null&&Y()&&(S=h(T,r)===0?W:J),S!==null&&V()&&(w.push(pb({start:S,end:W,loop:v,count:c,style:_})),S=null),J=W,A=T));return S!==null&&w.push(pb({start:S,end:y,loop:v,count:c,style:_})),w}function Tv(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const o=Ev(i[r],n.points,e);o.length&&t.push(...o)}return t}function qT(n,e,t,i){let r=0,o=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(o+=r);o>r&&n[o%e].skip;)o--;return o%=e,{start:r,end:o}}function $T(n,e,t,i){const r=n.length,o=[];let c=e,h=n[e],d;for(d=e+1;d<=t;++d){const f=n[d%r];f.skip||f.stop?h.skip||(i=!1,o.push({start:e%r,end:(d-1)%r,loop:i}),e=c=f.stop?d:null):(c=d,h.skip&&(e=d)),h=f}return c!==null&&o.push({start:e%r,end:c%r,loop:i}),o}function VT(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=qT(t,r,o,i);if(i===!0)return bb(n,[{start:c,end:h,loop:o}],t,e);const d=h<c?h+r:h,f=!!n._fullLoop&&c===0&&h===r-1;return bb(n,$T(t,c,d,f),t,e)}function bb(n,e,t,i){return!i||!i.setContext||!t?e:IT(n,e,t,i)}function IT(n,e,t,i){const r=n._chart.getContext(),o=yb(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,d=t.length,f=[];let p=o,y=e[0].start,v=y;function _(w,E,S,T){const j=h?-1:1;if(w!==E){for(w+=d;t[w%d].skip;)w-=j;for(;t[E%d].skip;)E+=j;w%d!==E%d&&(f.push({start:w%d,end:E%d,loop:S,style:T}),p=T,y=E%d)}}for(const w of e){y=h?y:w.start;let E=t[y%d],S;for(v=y+1;v<=w.end;v++){const T=t[v%d];S=yb(i.setContext(vi(r,{type:"segment",p0:E,p1:T,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:c}))),FT(S,p)&&_(y,v-1,w.loop,p),E=T,p=S}y<v-1&&_(y,v-1,w.loop,p)}return f}function yb(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function FT(n,e){if(!e)return!1;const t=[],i=function(r,o){return nf(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function No(n,e,t){return n.options.clip?n[t]:e[t]}function GT(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:No(t,e,"left"),right:No(t,e,"right"),top:No(i,e,"top"),bottom:No(i,e,"bottom")}:e}function jv(n,e){const t=e._clip;if(t.disabled)return!1;const i=GT(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YT{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],c=t.duration;o.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(i-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=uv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(e),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Wn=new YT;const vb="transparent",WT={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=ob(n||vb),r=i.valid&&ob(e||vb);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class KT{constructor(e,t,i,r){const o=t[i];r=Ao([e.to,r,o,e.from]);const c=Ao([e.from,o,r]);this._active=!0,this._fn=e.fn||WT[e.type||typeof c],this._easing=Lr[e.easing]||Lr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ao([e.to,t,r,e.from]),this._from=Ao([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||t<i),!this._active){this._target[r]=h,this._notify(!0);return}if(t<0){this._target[r]=o;return}d=t/i%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class Ov{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Te(e))return;const t=Object.keys(Ze.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Te(o))return;const c={};for(const h of t)c[h]=o[h];(rt(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(e,t){const i=t.options,r=JT(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&XT(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const f=c[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[f];let y=o[f];const v=i.get(f);if(y)if(v&&y.active()){y.update(v,p,h);continue}else y.cancel();if(!v||!v.duration){e[f]=p;continue}o[f]=y=new KT(v,e,f,p),r.push(y)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Wn.add(this._chart,i),!0}}function XT(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function JT(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function xb(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function QT(n,e,t){if(t===!1)return!1;const i=xb(n,t),r=xb(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function ZT(n){let e,t,i,r;return Te(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function Av(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function _b(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let c,h,d,f;if(e===null)return;let p=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===t){if(p=!0,i.all)continue;break}f=n.values[d],St(f)&&(o||e===0||Tn(e)===Tn(f))&&(e+=f)}return!p&&!i.all?0:e}function ej(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,f,p;for(d=0,f=c.length;d<f;++d)p=c[d],h[d]={[r]:p,[o]:n[p]};return h}function td(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function tj(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function nj(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function sj(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function wb(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function Sb(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:h}=i,d=o.axis,f=c.axis,p=tj(o,c,i),y=e.length;let v;for(let _=0;_<y;++_){const w=e[_],{[d]:E,[f]:S}=w,T=w._stacks||(w._stacks={});v=T[f]=sj(r,p,E),v[h]=S,v._top=wb(v,c,!0,i.type),v._bottom=wb(v,c,!1,i.type);const j=v._visualValues||(v._visualValues={});j[h]=S}}function nd(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function ij(n,e){return vi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aj(n,e,t){return vi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function wr(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const sd=n=>n==="reset"||n==="none",kb=(n,e)=>e?n:Object.assign({},n),rj=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Av(t,!0),values:null};class va{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=td(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&wr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(y,v,_,w)=>y==="x"?v:y==="r"?w:_,o=t.xAxisID=pe(i.xAxisID,nd(e,"x")),c=t.yAxisID=pe(i.yAxisID,nd(e,"y")),h=t.rAxisID=pe(i.rAxisID,nd(e,"r")),d=t.indexAxis,f=t.iAxisID=r(d,o,c,h),p=t.vAxisID=r(d,c,o,h);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ab(this._data,this),e._stacked&&wr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Te(t)){const r=this._cachedMeta;this._data=ej(t,r)}else if(i!==t){if(i){ab(i,this);const r=this._cachedMeta;wr(r),r._parsed=[]}t&&Object.isExtensible(t)&&$E(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=td(t.vScale,t),t.stack!==i.stack&&(r=!0,wr(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(Sb(this,t._parsed),t._stacked=td(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let d=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,y,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{rt(r[e])?v=this.parseArrayData(i,r,e,t):Te(r[e])?v=this.parseObjectData(i,r,e,t):v=this.parsePrimitiveData(i,r,e,t);const _=()=>y[h]===null||f&&y[h]<f[h];for(p=0;p<t;++p)i._parsed[p+e]=y=v[p],d&&(_()&&(d=!1),f=y);i._sorted=d}c&&Sb(this,v)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:c}=e,h=o.axis,d=c.axis,f=o.getLabels(),p=o===c,y=new Array(r);let v,_,w;for(v=0,_=r;v<_;++v)w=v+i,y[v]={[h]:p||o.parse(f[w],w),[d]:c.parse(t[w],w)};return y}parseArrayData(e,t,i,r){const{xScale:o,yScale:c}=e,h=new Array(r);let d,f,p,y;for(d=0,f=r;d<f;++d)p=d+i,y=t[p],h[d]={x:o.parse(y[0],p),y:c.parse(y[1],p)};return h}parseObjectData(e,t,i,r){const{xScale:o,yScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let p,y,v,_;for(p=0,y=r;p<y;++p)v=p+i,_=t[v],f[p]={x:o.parse(xa(_,h),v),y:c.parse(xa(_,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,c=t[e.axis],h={keys:Av(r,!0),values:t._stacks[e.axis]._visualValues};return _b(h,c,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let c=o===null?NaN:o;const h=r&&i._stacks[t.axis];r&&h&&(r.values=h,c=_b(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,c=r.length,h=this._getOtherScale(e),d=rj(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=nj(h);let v,_;function w(){_=r[v];const E=_[h.axis];return!St(_[e.axis])||p>E||y<E}for(v=0;v<c&&!(!w()&&(this.updateRangeFromParsed(f,e,_,d),o));++v);if(o){for(v=c-1;v>=0;--v)if(!w()){this.updateRangeFromParsed(f,e,_,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=t.length;r<o;++r)c=t[r][e.axis],St(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=ZT(pe(this.options.clip,QT(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,h,d),p=h;p<h+d;++p){const y=r[p];y.hidden||(y.active&&f?c.push(y):y.draw(e,o))}for(p=0;p<c.length;++p)c[p].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=aj(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=ij(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,c=e+"-"+t,h=o[c],d=this.enableOptionSharing&&Gr(i);if(h)return kb(h,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),y=r?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),p),_=Object.keys(Ze.elements[e]),w=()=>this.getContext(i,r,t),E=f.resolveNamedOptions(v,_,w,y);return E.$shared&&(E.$shared=d,o[c]=Object.freeze(kb(E,d))),E}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),v=p.getOptionScopes(this.getDataset(),y);d=p.createResolver(v,this.getContext(e,i,t))}const f=new Ov(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||sd(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:c}}updateElement(e,t,i,r){sd(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!sd(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[h,d,f]of this._syncList)this[h](d,f);this._syncList=[];const r=i.length,o=t.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,c=e+t;let h;const d=f=>{for(f.length+=t,h=f.length-1;h>=c;h--)f[h]=f[h-t]};for(d(o),h=e;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&wr(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ue(va,"defaults",{}),ue(va,"datasetElementType",null),ue(va,"dataElementType",null);function lj(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=cv(i.sort((r,o)=>r-o))}return n._cache.$bar}function oj(n){const e=n.iScale,t=lj(e,n.type);let i=e._length,r,o,c,h;const d=()=>{c===32767||c===-32768||(Gr(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=t.length;r<o;++r)c=e.getPixelForValue(t[r]),d();for(h=void 0,r=0,o=e.ticks.length;r<o;++r)c=e.getPixelForTick(r),d();return i}function cj(n,e,t,i){const r=t.barThickness;let o,c;return Ce(r)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:e.pixels[n]-o/2}}function uj(n,e,t,i){const r=e.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const d=t.categoryPercentage;c===null&&(c=o-(h===null?e.end-e.start:h-o)),h===null&&(h=o+o-c);const f=o-(o-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/i,ratio:t.barPercentage,start:f}}function hj(n,e,t,i){const r=t.parse(n[0],i),o=t.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let d=c,f=h;Math.abs(c)>Math.abs(h)&&(d=h,f=c),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:r,end:o,min:c,max:h}}function Cv(n,e,t,i){return rt(n)?hj(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Eb(n,e,t,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,d=[];let f,p,y,v;for(f=t,p=t+i;f<p;++f)v=e[f],y={},y[r.axis]=h||r.parse(c[f],f),d.push(Cv(v,y,o,f));return d}function id(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function dj(n,e,t){return n!==0?Tn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function fj(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function mj(n,e,t,i){let r=e.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:f,bottom:p}=fj(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=f:(t._bottom||0)===i?r=p:(o[Tb(p,c,h,d)]=!0,r=f)),o[Tb(r,c,h,d)]=!0,n.borderSkipped=o}function Tb(n,e,t,i){return i?(n=gj(n,e,t),n=jb(n,t,e)):n=jb(n,e,t),n}function gj(n,e,t){return n===e?t:n===t?e:n}function jb(n,e,t){return n==="start"?e:n==="end"?t:n}function pj(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class qo extends va{parsePrimitiveData(e,t,i,r){return Eb(e,t,i,r)}parseArrayData(e,t,i,r){return Eb(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:o,vScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=o.axis==="x"?h:d,p=c.axis==="x"?h:d,y=[];let v,_,w,E;for(v=i,_=i+r;v<_;++v)E=t[v],w={},w[o.axis]=o.parse(xa(E,f),v),y.push(Cv(xa(E,p),w,c,v));return y}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,o=this.getParsed(e),c=o._custom,h=id(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),f=h.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,r);for(let _=t;_<t+i;_++){const w=this.getParsed(_),E=o||Ce(w[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(_),S=this._calculateBarIndexPixels(_,p),T=(w._stacks||{})[h.axis],j={horizontal:f,base:E.base,enableBorderRadius:!T||id(w._custom)||c===T._top||c===T._bottom,x:f?E.head:S.center,y:f?S.center:E.head,height:f?S.size:Math.abs(E.size),width:f?Math.abs(E.size):S.size};v&&(j.options=y||this.resolveDataElementOptions(_,e[_].active?"active":r));const A=j.options||e[_].options;mj(j,A,T,c),pj(j,A,p.ratio),this.updateElement(e[_],_,j,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),d=h&&h[i.axis],f=p=>{const y=p._parsed.find(_=>_[i.axis]===d),v=y&&y[p.vScale.axis];if(Ce(v)||isNaN(v))return!0};for(const p of r)if(!(t!==void 0&&f(p))&&((o===!1||c.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[pe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let o,c;for(o=0,c=t.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=e.barThickness;return{min:h||oj(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,d=this.getParsed(e),f=d._custom,p=id(f);let y=d[t.axis],v=0,_=i?this.applyStack(t,d,i):y,w,E;_!==y&&(v=_-y,_=y),p&&(y=f.barStart,_=f.barEnd-f.barStart,y!==0&&Tn(y)!==Tn(f.barEnd)&&(v=0),v+=y);const S=!Ce(o)&&!p?o:v;let T=t.getPixelForValue(S);if(this.chart.getDataVisibility(e)?w=t.getPixelForValue(v+_):w=T,E=w-T,Math.abs(E)<c){E=dj(E,t,h)*c,y===h&&(T-=E/2);const j=t.getPixelForDecimal(0),A=t.getPixelForDecimal(1),P=Math.min(j,A),q=Math.max(j,A);T=Math.max(Math.min(T,q),P),w=T+E,i&&!p&&(d._stacks[t.axis]._visualValues[r]=t.getValueForPixel(w)-t.getValueForPixel(T))}if(T===t.getPixelForValue(h)){const j=Tn(E)*t.getLineWidthForValue(h)/2;T+=j,E-=j}return{size:E,base:T,head:w,center:w+E/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,o=r.skipNull,c=pe(r.maxBarThickness,1/0);let h,d;const f=this._getAxisCount();if(t.grouped){const p=o?this._getStackCount(e):t.stackCount,y=r.barThickness==="flex"?uj(e,t,r,p*f):cj(e,t,r,p*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(pe(v,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+_;h=y.start+y.chunk*w+y.chunk/2,d=Math.min(c,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(e)[i.axis],e),d=Math.min(c,t.min*t.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}ue(qo,"id","bar"),ue(qo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ue(qo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class $o extends va{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=t,c=this.chart._animationsDisabled;let{start:h,count:d}=FE(t,r,c);this._drawStart=h,this._drawCount=d,GE(t)&&(h=0,d=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:f},e),this.updateElements(r,h,d,e)}updateElements(e,t,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(t,r),v=c.axis,_=h.axis,{spanGaps:w,segment:E}=this.options,S=Yr(w)?w:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||r==="none",j=t+i,A=e.length;let P=t>0&&this.getParsed(t-1);for(let q=0;q<A;++q){const Y=e[q],V=T?Y:{};if(q<t||q>=j){V.skip=!0;continue}const W=this.getParsed(q),J=Ce(W[_]),he=V[v]=c.getPixelForValue(W[v],q),re=V[_]=o||J?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,W,d):W[_],q);V.skip=isNaN(he)||isNaN(re)||J,V.stop=q>0&&Math.abs(W[v]-P[v])>S,E&&(V.parsed=W,V.raw=f.data[q]),y&&(V.options=p||this.resolveDataElementOptions(q,Y.active?"active":r)),T||this.updateElement(Y,q,V,r),P=W}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ue($o,"id","line"),ue($o,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ue($o,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ri(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cf{constructor(e){ue(this,"options");this.options=e||{}}static override(e){Object.assign(cf.prototype,e)}init(){}formats(){return ri()}parse(){return ri()}format(){return ri()}add(){return ri()}diff(){return ri()}startOf(){return ri()}endOf(){return ri()}}var bj={_date:cf};function yj(n,e,t,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&o.length){const f=h._reversePixels?PE:gi;if(i){if(r._sharedOptions){const p=o[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const v=f(o,e,t-y),_=f(o,e,t+y);return{lo:v.lo,hi:_.hi}}}}else{const p=f(o,e,t);if(d){const{vScale:y}=r._cachedMeta,{_parsed:v}=n,_=v.slice(0,p.lo+1).reverse().findIndex(E=>!Ce(E[y.axis]));p.lo-=Math.max(0,_);const w=v.slice(p.hi).findIndex(E=>!Ce(E[y.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function dc(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,d=o.length;h<d;++h){const{index:f,data:p}=o[h],{lo:y,hi:v}=yj(o[h],e,c,r);for(let _=y;_<=v;++_){const w=p[_];w.skip||i(w,f,_)}}}function vj(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,c=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function ad(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||dc(n,t,e,function(h,d,f){!r&&!Wr(h,n.chartArea,0)||h.inRange(e.x,e.y,i)&&o.push({element:h,datasetIndex:d,index:f})},!0),o}function xj(n,e,t,i){let r=[];function o(c,h,d){const{startAngle:f,endAngle:p}=c.getProps(["startAngle","endAngle"],i),{angle:y}=UE(c,{x:e.x,y:e.y});lv(y,f,p)&&r.push({element:c,datasetIndex:h,index:d})}return dc(n,t,e,o),r}function _j(n,e,t,i,r,o){let c=[];const h=vj(t);let d=Number.POSITIVE_INFINITY;function f(p,y,v){const _=p.inRange(e.x,e.y,r);if(i&&!_)return;const w=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(w))&&!_)return;const S=h(e,w);S<d?(c=[{element:p,datasetIndex:y,index:v}],d=S):S===d&&c.push({element:p,datasetIndex:y,index:v})}return dc(n,t,e,f),c}function rd(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?xj(n,e,t,r):_j(n,e,t,i,r,o)}function Ob(n,e,t,i,r){const o=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return dc(n,t,e,(d,f,p)=>{d[c]&&d[c](e[t],r)&&(o.push({element:d,datasetIndex:f,index:p}),h=h||d.inRange(e.x,e.y,r))}),i&&!h?[]:o}var wj={modes:{index(n,e,t,i){const r=ci(e,n),o=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?ad(n,r,o,i,c):rd(n,r,o,!1,i,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=h[0].index,y=f.data[p];y&&!y.skip&&d.push({element:y,datasetIndex:f.index,index:p})}),d):[]},dataset(n,e,t,i){const r=ci(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?ad(n,r,o,i,c):rd(n,r,o,!1,i,c);if(h.length>0){const d=h[0].datasetIndex,f=n.getDatasetMeta(d).data;h=[];for(let p=0;p<f.length;++p)h.push({element:f[p],datasetIndex:d,index:p})}return h},point(n,e,t,i){const r=ci(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return ad(n,r,o,i,c)},nearest(n,e,t,i){const r=ci(e,n),o=t.axis||"xy",c=t.includeInvisible||!1;return rd(n,r,o,t.intersect,i,c)},x(n,e,t,i){const r=ci(e,n);return Ob(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=ci(e,n);return Ob(n,r,"y",t.intersect,i)}}};const Nv=["left","top","right","bottom"];function Sr(n,e){return n.filter(t=>t.pos===e)}function Ab(n,e){return n.filter(t=>Nv.indexOf(t.pos)===-1&&t.box.axis===e)}function kr(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function Sj(n){const e=[];let t,i,r,o,c,h;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:c,stackWeight:h=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return e}function kj(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!Nv.includes(r))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function Ej(n,e){const t=kj(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:d}=h.box,f=t[h.stack],p=f&&h.stackWeight/f.weight;h.horizontal?(h.width=p?p*i:d&&e.availableWidth,h.height=r):(h.width=i,h.height=p?p*r:d&&e.availableHeight)}return t}function Tj(n){const e=Sj(n),t=kr(e.filter(f=>f.box.fullSize),!0),i=kr(Sr(e,"left"),!0),r=kr(Sr(e,"right")),o=kr(Sr(e,"top"),!0),c=kr(Sr(e,"bottom")),h=Ab(e,"x"),d=Ab(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:Sr(e,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function Cb(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function Rv(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function jj(n,e,t,i){const{pos:r,box:o}=t,c=n.maxPadding;if(!Te(r)){t.size&&(n[r]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?o.height:o.width),t.size=y.size/y.count,n[r]+=t.size}o.getPadding&&Rv(c,o.getPadding());const h=Math.max(0,e.outerWidth-Cb(c,n,"left","right")),d=Math.max(0,e.outerHeight-Cb(c,n,"top","bottom")),f=h!==n.w,p=d!==n.h;return n.w=h,n.h=d,t.horizontal?{same:f,other:p}:{same:p,other:f}}function Oj(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Aj(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Ar(n,e,t,i){const r=[];let o,c,h,d,f,p;for(o=0,c=n.length,f=0;o<c;++o){h=n[o],d=h.box,d.update(h.width||e.w,h.height||e.h,Aj(h.horizontal,e));const{same:y,other:v}=jj(e,t,h,i);f|=y&&r.length,p=p||v,d.fullSize||r.push(h)}return f&&Ar(r,e,t,i)||p}function Ro(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Nb(n,e,t,i){const r=t.padding;let{x:o,y:c}=e;for(const h of n){const d=h.box,f=i[h.stack]||{placed:0,weight:1},p=h.stackWeight/f.weight||1;if(h.horizontal){const y=e.w*p,v=f.size||d.height;Gr(f.start)&&(c=f.start),d.fullSize?Ro(d,r.left,c,t.outerWidth-r.right-r.left,v):Ro(d,e.left+f.placed,c,y,v),f.start=c,f.placed+=y,c=d.bottom}else{const y=e.h*p,v=f.size||d.width;Gr(f.start)&&(o=f.start),d.fullSize?Ro(d,o,r.top,v,t.outerHeight-r.bottom-r.top):Ro(d,o,e.top+f.placed,v,y),f.start=o,f.placed+=y,o=d.right}}e.x=o,e.y=c}var on={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=cn(n.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(t-r.height,0),h=Tj(n.boxes),d=h.vertical,f=h.horizontal;Me(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const p=d.reduce((E,S)=>S.box.options&&S.box.options.display===!1?E:E+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),v=Object.assign({},r);Rv(v,cn(i));const _=Object.assign({maxPadding:v,w:o,h:c,x:r.left,y:r.top},r),w=Ej(d.concat(f),y);Ar(h.fullSize,_,y,w),Ar(d,_,y,w),Ar(f,_,y,w)&&Ar(d,_,y,w),Oj(_),Nb(h.leftAndTop,_,y,w),_.x+=_.w,_.y+=_.h,Nb(h.rightAndBottom,_,y,w),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Me(h.chartArea,E=>{const S=E.box;Object.assign(S,n.chartArea),S.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class Mv{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Cj extends Mv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Vo="$chartjs",Nj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Rb=n=>n===null||n==="";function Rj(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Vo]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Rb(r)){const o=gb(n,"width");o!==void 0&&(n.width=o)}if(Rb(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=gb(n,"height");o!==void 0&&(n.height=o)}return n}const Dv=LT?{passive:!0}:!1;function Mj(n,e,t){n&&n.addEventListener(e,t,Dv)}function Dj(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Dv)}function Lj(n,e){const t=Nj[n.type]||n.type,{x:i,y:r}=ci(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function nc(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function zj(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||nc(h.addedNodes,i),c=c&&!nc(h.removedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Uj(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||nc(h.removedNodes,i),c=c&&!nc(h.addedNodes,i);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Xr=new Map;let Mb=0;function Lv(){const n=window.devicePixelRatio;n!==Mb&&(Mb=n,Xr.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Bj(n,e){Xr.size||window.addEventListener("resize",Lv),Xr.set(n,e)}function Hj(n){Xr.delete(n),Xr.size||window.removeEventListener("resize",Lv)}function Pj(n,e,t){const i=n.canvas,r=i&&of(i);if(!r)return;const o=hv((h,d)=>{const f=r.clientWidth;t(h,d),f<r.clientWidth&&t()},window),c=new ResizeObserver(h=>{const d=h[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||o(f,p)});return c.observe(r),Bj(n,o),c}function ld(n,e,t){t&&t.disconnect(),e==="resize"&&Hj(n)}function qj(n,e,t){const i=n.canvas,r=hv(o=>{n.ctx!==null&&t(Lj(o,n))},n);return Mj(i,e,r),r}class $j extends Mv{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Rj(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Vo])return!1;const i=t[Vo].initial;["height","width"].forEach(o=>{const c=i[o];Ce(c)?t.removeAttribute(o):t.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[Vo],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),c={attach:zj,detach:Uj,resize:Pj}[t]||qj;r[t]=c(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:ld,detach:ld,resize:ld}[t]||Dj)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return DT(e,t,i,r)}isAttached(e){const t=e&&of(e);return!!(t&&t.isConnected)}}function Vj(n){return!lf()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Cj:$j}class jn{constructor(){ue(this,"x");ue(this,"y");ue(this,"active",!1);ue(this,"options");ue(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Yr(this.x)&&Yr(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}ue(jn,"defaults",{}),ue(jn,"defaultRoutes");function Ij(n,e){const t=n.options.ticks,i=Fj(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?Yj(e):[],c=o.length,h=o[0],d=o[c-1],f=[];if(c>r)return Wj(e,f,o,c/r),f;const p=Gj(o,e,r);if(c>0){let y,v;const _=c>1?Math.round((d-h)/(c-1)):null;for(Mo(e,f,p,Ce(_)?0:h-_,h),y=0,v=c-1;y<v;y++)Mo(e,f,p,o[y],o[y+1]);return Mo(e,f,p,d,Ce(_)?e.length:d+_),f}return Mo(e,f,p),f}function Fj(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function Gj(n,e,t){const i=Kj(n),r=e.length/t;if(!i)return Math.max(r,1);const o=RE(i);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function Yj(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Wj(n,e,t,i){let r=0,o=t[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(e.push(n[c]),r++,o=t[r*i])}function Mo(n,e,t,i,r){const o=pe(i,0),c=Math.min(pe(r,n.length),n.length);let h=0,d,f,p;for(t=Math.ceil(t),r&&(d=r-i,t=d/Math.floor(d/t)),p=o;p<0;)h++,p=Math.round(o+h*t);for(f=Math.max(o,0);f<c;f++)f===p&&(e.push(n[f]),h++,p=Math.round(o+h*t))}function Kj(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const Xj=n=>n==="left"?"right":n==="right"?"left":n,Db=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Lb=(n,e)=>Math.min(e||n,n);function zb(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function Jj(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(d-o,c-d):e===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(r-1))/2,d+=r<e?f:-f,d<o-h||d>c+h)))return d}function Qj(n,e){Me(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function Er(n){return n.drawTicks?n.tickLength:0}function Ub(n,e){if(!n.display)return 0;const t=wt(n.font,e),i=cn(n.padding);return(rt(n.text)?n.text.length:1)*t.lineHeight+i.height}function Zj(n,e){return vi(n,{scale:e,type:"scale"})}function eO(n,e,t){return vi(n,{tick:t,index:e,type:"tick"})}function tO(n,e,t){let i=tf(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Xj(i)),i}function nO(n,e,t,i){const{top:r,left:o,bottom:c,right:h,chart:d}=n,{chartArea:f,scales:p}=d;let y=0,v,_,w;const E=c-r,S=h-o;if(n.isHorizontal()){if(_=_t(i,o,h),Te(t)){const T=Object.keys(t)[0],j=t[T];w=p[T].getPixelForValue(j)+E-e}else t==="center"?w=(f.bottom+f.top)/2+E-e:w=Db(n,t,e);v=h-o}else{if(Te(t)){const T=Object.keys(t)[0],j=t[T];_=p[T].getPixelForValue(j)-S+e}else t==="center"?_=(f.left+f.right)/2-S+e:_=Db(n,t,e);w=_t(i,c,r),y=t==="left"?-pn:pn}return{titleX:_,titleY:w,maxWidth:v,rotation:y}}class Ea extends jn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=wn(e,Number.POSITIVE_INFINITY),t=wn(t,Number.NEGATIVE_INFINITY),i=wn(i,Number.POSITIVE_INFINITY),r=wn(r,Number.NEGATIVE_INFINITY),{min:wn(e,i),max:wn(t,r),minDefined:St(e),maxDefined:St(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:t,max:i};const h=this.getMatchingVisibleMetas();for(let d=0,f=h.length;d<f;++d)c=h[d].controller.getMinMax(this,e),r||(t=Math.min(t,c.min)),o||(i=Math.max(i,c.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:wn(t,wn(i,t)),max:wn(i,wn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dT(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?zb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Ij(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ve(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=Ve(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Lb(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let c=r,h,d,f;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,v=p.highest.height,_=Yt(this.chart.width-y,0,this.maxWidth);h=e.offset?this.maxWidth/i:_/(i-1),y+6>h&&(h=_/(i-(e.offset?.5:1)),d=this.maxHeight-Er(e.grid)-t.padding-Ub(e.title,this.chart.options.font),f=Math.sqrt(y*y+v*v),c=zE(Math.min(Math.asin(Yt((p.highest.height+6)/h,-1,1)),Math.asin(Yt(d/f,-1,1))-Math.asin(Yt(v/f,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=Ub(r,t.options.font);if(h?(e.width=this.maxWidth,e.height=Er(o)+d):(e.height=this.maxHeight,e.width=Er(o)+d),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:v}=this._getLabelSizes(),_=i.padding*2,w=mi(this.labelRotation),E=Math.cos(w),S=Math.sin(w);if(h){const T=i.mirror?0:S*y.width+E*v.height;e.height=Math.min(this.maxHeight,e.height+T+_)}else{const T=i.mirror?0:E*y.width+S*v.height;e.width=Math.min(this.maxWidth,e.width+T+_)}this._calculatePadding(f,p,S,E)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,f=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;d?f?(v=r*e.width,_=i*t.height):(v=i*e.height,_=r*t.width):o==="start"?_=t.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,_=t.width/2),this.paddingLeft=Math.max((v-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-y+c)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;o==="start"?(p=0,y=e.height):o==="end"&&(p=t.height,y=0),this.paddingTop=p+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ce(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=zb(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(t/Lb(t,i));let f=0,p=0,y,v,_,w,E,S,T,j,A,P,q;for(y=0;y<t;y+=d){if(w=e[y].label,E=this._resolveTickFontOptions(y),r.font=S=E.string,T=o[S]=o[S]||{data:{},gc:[]},j=E.lineHeight,A=P=0,!Ce(w)&&!rt(w))A=ub(r,T.data,T.gc,A,w),P=j;else if(rt(w))for(v=0,_=w.length;v<_;++v)q=w[v],!Ce(q)&&!rt(q)&&(A=ub(r,T.data,T.gc,A,q),P+=j);c.push(A),h.push(P),f=Math.max(A,f),p=Math.max(P,p)}Qj(o,t);const Y=c.indexOf(f),V=h.indexOf(p),W=J=>({width:c[J]||0,height:h[J]||0});return{first:W(0),last:W(t-1),widest:W(Y),highest:W(V),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return HE(this._alignToPixels?ai(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=eO(this.getContext(),e,i))}return this.$context||(this.$context=Zj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=mi(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*i>h*r?h/i:d/r:d*r<h*i?d/i:h/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,f=this.isHorizontal(),y=this.ticks.length+(d?1:0),v=Er(o),_=[],w=h.setContext(this.getContext()),E=w.display?w.width:0,S=E/2,T=function(B){return ai(i,B,E)};let j,A,P,q,Y,V,W,J,he,re,ce,Pe;if(c==="top")j=T(this.bottom),V=this.bottom-v,J=j-S,re=T(e.top)+S,Pe=e.bottom;else if(c==="bottom")j=T(this.top),re=e.top,Pe=T(e.bottom)-S,V=j+S,J=this.top+v;else if(c==="left")j=T(this.right),Y=this.right-v,W=j-S,he=T(e.left)+S,ce=e.right;else if(c==="right")j=T(this.left),he=e.left,ce=T(e.right)-S,Y=j+S,W=this.left+v;else if(t==="x"){if(c==="center")j=T((e.top+e.bottom)/2+.5);else if(Te(c)){const B=Object.keys(c)[0],X=c[B];j=T(this.chart.scales[B].getPixelForValue(X))}re=e.top,Pe=e.bottom,V=j+S,J=V+v}else if(t==="y"){if(c==="center")j=T((e.left+e.right)/2);else if(Te(c)){const B=Object.keys(c)[0],X=c[B];j=T(this.chart.scales[B].getPixelForValue(X))}Y=j-S,W=Y-v,he=e.left,ce=e.right}const Ge=pe(r.ticks.maxTicksLimit,y),ke=Math.max(1,Math.ceil(y/Ge));for(A=0;A<y;A+=ke){const B=this.getContext(A),X=o.setContext(B),se=h.setContext(B),be=X.lineWidth,xe=X.color,N=se.dash||[],I=se.dashOffset,D=X.tickWidth,K=X.tickColor,ee=X.tickBorderDash||[],Z=X.tickBorderDashOffset;P=Jj(this,A,d),P!==void 0&&(q=ai(i,P,be),f?Y=W=he=ce=q:V=J=re=Pe=q,_.push({tx1:Y,ty1:V,tx2:W,ty2:J,x1:he,y1:re,x2:ce,y2:Pe,width:be,color:xe,borderDash:N,borderDashOffset:I,tickWidth:D,tickColor:K,tickBorderDash:ee,tickBorderDashOffset:Z}))}return this._ticksLength=y,this._borderValue=j,_}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:f,padding:p,mirror:y}=o,v=Er(i.grid),_=v+p,w=y?-p:_,E=-mi(this.labelRotation),S=[];let T,j,A,P,q,Y,V,W,J,he,re,ce,Pe="middle";if(r==="top")Y=this.bottom-w,V=this._getXAxisLabelAlignment();else if(r==="bottom")Y=this.top+w,V=this._getXAxisLabelAlignment();else if(r==="left"){const ke=this._getYAxisLabelAlignment(v);V=ke.textAlign,q=ke.x}else if(r==="right"){const ke=this._getYAxisLabelAlignment(v);V=ke.textAlign,q=ke.x}else if(t==="x"){if(r==="center")Y=(e.top+e.bottom)/2+_;else if(Te(r)){const ke=Object.keys(r)[0],B=r[ke];Y=this.chart.scales[ke].getPixelForValue(B)+_}V=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")q=(e.left+e.right)/2-_;else if(Te(r)){const ke=Object.keys(r)[0],B=r[ke];q=this.chart.scales[ke].getPixelForValue(B)}V=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?Pe="top":d==="end"&&(Pe="bottom"));const Ge=this._getLabelSizes();for(T=0,j=h.length;T<j;++T){A=h[T],P=A.label;const ke=o.setContext(this.getContext(T));W=this.getPixelForTick(T)+o.labelOffset,J=this._resolveTickFontOptions(T),he=J.lineHeight,re=rt(P)?P.length:1;const B=re/2,X=ke.color,se=ke.textStrokeColor,be=ke.textStrokeWidth;let xe=V;c?(q=W,V==="inner"&&(T===j-1?xe=this.options.reverse?"left":"right":T===0?xe=this.options.reverse?"right":"left":xe="center"),r==="top"?f==="near"||E!==0?ce=-re*he+he/2:f==="center"?ce=-Ge.highest.height/2-B*he+he:ce=-Ge.highest.height+he/2:f==="near"||E!==0?ce=he/2:f==="center"?ce=Ge.highest.height/2-B*he:ce=Ge.highest.height-re*he,y&&(ce*=-1),E!==0&&!ke.showLabelBackdrop&&(q+=he/2*Math.sin(E))):(Y=W,ce=(1-re)*he/2);let N;if(ke.showLabelBackdrop){const I=cn(ke.backdropPadding),D=Ge.heights[T],K=Ge.widths[T];let ee=ce-I.top,Z=0-I.left;switch(Pe){case"middle":ee-=D/2;break;case"bottom":ee-=D;break}switch(V){case"center":Z-=K/2;break;case"right":Z-=K;break;case"inner":T===j-1?Z-=K:T>0&&(Z-=K/2);break}N={left:Z,top:ee,width:K+I.width,height:D+I.height,color:ke.backdropColor}}S.push({label:P,font:J,textOffset:ce,options:{rotation:E,color:X,strokeColor:se,strokeWidth:be,textAlign:xe,textBaseline:Pe,translation:[q,Y],backdrop:N}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-mi(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=e+o,d=c.widest.width;let f,p;return t==="left"?r?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-h,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p=this.left)):t==="right"?r?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+h,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const h=(d,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(o=0,c=r.length;o<c;++o){const d=r[o];t.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,y,v;this.isHorizontal()?(f=ai(e,this.left,c)-c/2,p=ai(e,this.right,h)+h/2,y=v=d):(y=ai(e,this.top,c)-c/2,v=ai(e,this.bottom,h)+h/2,f=p=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,y),t.lineTo(p,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&cc(i,r);const o=this.getLabelItems(e);for(const c of o){const h=c.options,d=c.font,f=c.label,p=c.textOffset;Kr(i,f,0,p,d,h)}r&&uc(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=wt(i.font),c=cn(i.padding),h=i.align;let d=o.lineHeight/2;t==="bottom"||t==="center"||Te(t)?(d+=c.bottom,rt(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=c.top;const{titleX:f,titleY:p,maxWidth:y,rotation:v}=nO(this,d,t,h);Kr(e,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:v,textAlign:tO(h,t,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=pe(e.grid&&e.grid.z,-1),r=pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ea.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=t.length;o<c;++o){const h=t[o];h[i]===this.id&&(!e||h.type===e)&&r.push(h)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return wt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Do{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;aO(t)&&(i=this.register(t));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,sO(e,c,i),this.override&&Ze.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Ze[r]&&(delete Ze[r][i],this.override&&delete bi[i])}}function sO(n,e,t){const i=Fr(Object.create(null),[t?Ze.get(t):{},Ze.get(e),n.defaults]);Ze.set(e,i),n.defaultRoutes&&iO(e,n.defaultRoutes),n.descriptors&&Ze.describe(e,n.descriptors)}function iO(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),c=e[t].split("."),h=c.pop(),d=c.join(".");Ze.route(o,r,d,h)})}function aO(n){return"id"in n&&"defaults"in n}class rO{constructor(){this.controllers=new Do(va,"datasets",!0),this.elements=new Do(jn,"elements"),this.plugins=new Do(Object,"plugins"),this.scales=new Do(Ea,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Me(r,c=>{const h=i||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,i){const r=Zd(e);Ve(i["before"+r],[],i),t[e](i),Ve(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var kn=new rO;class lO{constructor(){this._init=void 0}notify(e,t,i,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,t,i,r){r=r||{};for(const o of e){const c=o.plugin,h=c[i],d=[t,r,o.options];if(Ve(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=pe(i.options&&i.options.plugins,{}),o=oO(i);return r===!1&&!t?[]:uO(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function oO(n){const e={},t=[],i=Object.keys(kn.plugins.items);for(let o=0;o<i.length;o++)t.push(kn.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function cO(n,e){return!e&&n===!1?null:n===!0?{}:n}function uO(n,{plugins:e,localIds:t},i,r){const o=[],c=n.getContext();for(const h of e){const d=h.id,f=cO(i[d],r);f!==null&&o.push({plugin:h,options:hO(n.config,{plugin:h,local:t[d]},f,c)})}return o}function hO(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),c=n.getOptionScopes(i,o);return t&&e.defaults&&c.push(e.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ad(n,e){const t=Ze.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function dO(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function fO(n,e){return n===e?"_index_":"_value_"}function Bb(n){if(n==="x"||n==="y"||n==="r")return n}function mO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Cd(n,...e){if(Bb(n))return n;for(const t of e){const i=t.axis||mO(t.position)||n.length>1&&Bb(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Hb(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function gO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Hb(n,"x",t[0])||Hb(n,"y",t[0])}return{}}function pO(n,e){const t=bi[n.type]||{scales:{}},i=e.scales||{},r=Ad(n.type,e),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Te(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Cd(c,h,gO(c,n),Ze.scales[h.type]),f=fO(d,r),p=t.scales||{};o[c]=Mr(Object.create(null),[{axis:d},h,p[d],p[f]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Ad(h,e),p=(bi[h]||{}).scales||{};Object.keys(p).forEach(y=>{const v=dO(y,d),_=c[v+"AxisID"]||v;o[_]=o[_]||Object.create(null),Mr(o[_],[{axis:v},i[_],p[y]])})}),Object.keys(o).forEach(c=>{const h=o[c];Mr(h,[Ze.scales[h.type],Ze.scale])}),o}function zv(n){const e=n.options||(n.options={});e.plugins=pe(e.plugins,{}),e.scales=pO(n,e)}function Uv(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function bO(n){return n=n||{},n.data=Uv(n.data),zv(n),n}const Pb=new Map,Bv=new Set;function Lo(n,e){let t=Pb.get(n);return t||(t=e(),Pb.set(n,t),Bv.add(t)),t}const Tr=(n,e,t)=>{const i=xa(e,t);i!==void 0&&n.add(i)};class yO{constructor(e){this._config=bO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Uv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Lo(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Lo(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Lo(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,c=this._cachedScopes(e,i),h=c.get(t);if(h)return h;const d=new Set;t.forEach(p=>{e&&(d.add(e),p.forEach(y=>Tr(d,e,y))),p.forEach(y=>Tr(d,r,y)),p.forEach(y=>Tr(d,bi[o]||{},y)),p.forEach(y=>Tr(d,Ze,y)),p.forEach(y=>Tr(d,jd,y))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),Bv.has(t)&&c.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,bi[t]||{},Ze.datasets[t]||{},{type:t},Ze,jd]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=qb(this._resolverCache,e,r);let d=c;if(xO(c,t)){o.$shared=!1,i=Ls(i)?i():i;const f=this.createResolver(e,i,h);d=_a(c,i,f)}for(const f of t)o[f]=d[f];return o}createResolver(e,t,i=[""],r){const{resolver:o}=qb(this._resolverCache,e,i);return Te(t)?_a(o,t,void 0,r):o}}function qb(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:sf(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const vO=n=>Te(n)&&Object.getOwnPropertyNames(n).some(e=>Ls(n[e]));function xO(n,e){const{isScriptable:t,isIndexable:i}=bv(n);for(const r of e){const o=t(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ls(h)||vO(h))||c&&rt(h))return!0}return!1}var _O="4.5.1";const wO=["top","bottom","left","right","chartArea"];function $b(n,e){return n==="top"||n==="bottom"||wO.indexOf(n)===-1&&e==="x"}function Vb(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Ib(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ve(t&&t.onComplete,[n],e)}function SO(n){const e=n.chart,t=e.options.animation;Ve(t&&t.onProgress,[n],e)}function Hv(n){return lf()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Io={},Fb=n=>{const e=Hv(n);return Object.values(Io).filter(t=>t.canvas===e).pop()};function kO(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const c=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=c)}}}function EO(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var Ts;let fc=(Ts=class{static register(...e){kn.add(...e),Gb()}static unregister(...e){kn.remove(...e),Gb()}constructor(e,t){const i=this.config=new yO(t),r=Hv(e),o=Fb(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Vj(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,f=d&&d.height,p=d&&d.width;if(this.id=SE(),this.ctx=h,this.canvas=d,this.width=p,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=VE(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],Io[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Wn.listen(this,"complete",Ib),Wn.listen(this,"progress",SO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return Ce(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return kn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hb(this.canvas,this.ctx),this}stop(){return Wn.stop(this),this}resize(e,t){Wn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,t,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,mb(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Ve(i.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Me(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const h=t[c],d=Cd(c,h),f=d==="r",p=d==="x";return{options:h,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Me(o,c=>{const h=c.options,d=h.id,f=Cd(d,h),p=pe(h.type,c.dtype);(h.position===void 0||$b(h.position,f)!==$b(c.dposition))&&(h.position=c.dposition),r[d]=!0;let y=null;if(d in i&&i[d].type===p)y=i[d];else{const v=kn.getScale(p);y=new v({id:d,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(h,e)}),Me(r,(c,h)=>{c||delete i[h]}),Me(i,c=>{on.configure(this,c,c.options),on.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Vb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Ad(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const d=kn.getController(h),{datasetElementType:f,dataElementType:p}=Ze.datasets[h];Object.assign(d,{dataElementType:kn.getElement(p),datasetElementType:f&&kn.getElement(f)}),c.controller=new d(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Me(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),v=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(v),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Me(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Vb("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Me(this.scales,e=>{on.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!tb(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const c=i==="_removeElements"?-o:o;kO(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!tb(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;on.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Me(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ls(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Wn.has(this)?this.attached&&!Wn.running(this)&&Wn.start(this):(this.draw(),Ib({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=jv(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&cc(t,r),e.controller.draw(),r&&uc(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Wr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=wj.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=vi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);Gr(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Wn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Me(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},r=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){Me(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Me(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,c,h,d;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=e.length;h<d;++h){c=e[h];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Jo(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(d,f)=>d.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),c=o(t,e),h=i?e:o(e,t);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,c=t,h=this._getActiveElements(e,r,i,c),d=AE(e),f=EO(e,this._lastEvent,i,d);i&&(this._lastEvent=null,Ve(o.onHover,[e,h,this],this),d&&Ve(o.onClick,[e,h,this],this));const p=!Jo(h,r);return(p||t)&&(this._active=h,this._updateHoverStyles(h,r,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}},ue(Ts,"defaults",Ze),ue(Ts,"instances",Io),ue(Ts,"overrides",bi),ue(Ts,"registry",kn),ue(Ts,"version",_O),ue(Ts,"getChart",Fb),Ts);function Gb(){return Me(fc.instances,n=>n._plugins.invalidate())}function Pv(n,e,t=e){n.lineCap=pe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(pe(t.borderDash,e.borderDash)),n.lineDashOffset=pe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=pe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=pe(t.borderWidth,e.borderWidth),n.strokeStyle=pe(t.borderColor,e.borderColor)}function TO(n,e,t){n.lineTo(t.x,t.y)}function jO(n){return n.stepped?sT:n.tension||n.cubicInterpolationMode==="monotone"?iT:TO}function qv(n,e,t={}){const i=n.length,{start:r=0,end:o=i-1}=t,{start:c,end:h}=e,d=Math.max(r,c),f=Math.min(o,h),p=r<c&&o<c||r>h&&o>h;return{count:i,start:d,loop:e.loop,ilen:f<d&&!p?i+f-d:f-d}}function OO(n,e,t,i){const{points:r,options:o}=e,{count:c,start:h,loop:d,ilen:f}=qv(r,t,i),p=jO(o);let{move:y=!0,reverse:v}=i||{},_,w,E;for(_=0;_<=f;++_)w=r[(h+(v?f-_:_))%c],!w.skip&&(y?(n.moveTo(w.x,w.y),y=!1):p(n,E,w,v,o.stepped),E=w);return d&&(w=r[(h+(v?f:0))%c],p(n,E,w,v,o.stepped)),!!d}function AO(n,e,t,i){const r=e.points,{count:o,start:c,ilen:h}=qv(r,t,i),{move:d=!0,reverse:f}=i||{};let p=0,y=0,v,_,w,E,S,T;const j=P=>(c+(f?h-P:P))%o,A=()=>{E!==S&&(n.lineTo(p,S),n.lineTo(p,E),n.lineTo(p,T))};for(d&&(_=r[j(0)],n.moveTo(_.x,_.y)),v=0;v<=h;++v){if(_=r[j(v)],_.skip)continue;const P=_.x,q=_.y,Y=P|0;Y===w?(q<E?E=q:q>S&&(S=q),p=(y*p+P)/++y):(A(),n.lineTo(P,q),w=Y,y=0,E=S=q),T=q}A()}function Nd(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?AO:OO}function CO(n){return n.stepped?zT:n.tension||n.cubicInterpolationMode==="monotone"?UT:ui}function NO(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),Pv(n,e.options),n.stroke(r)}function RO(n,e,t,i){const{segments:r,options:o}=e,c=Nd(e);for(const h of r)Pv(n,o,h.style),n.beginPath(),c(n,e,h,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const MO=typeof Path2D=="function";function DO(n,e,t,i){MO&&!e.options.segment?NO(n,e,t,i):RO(n,e,t,i)}class Rs extends jn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;OT(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=VT(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],o=this.points,c=Tv(this,{property:t,start:r,end:r});if(!c.length)return;const h=[],d=CO(i);let f,p;for(f=0,p=c.length;f<p;++f){const{start:y,end:v}=c[f],_=o[y],w=o[v];if(_===w){h.push(_);continue}const E=Math.abs((r-_[t])/(w[t]-_[t])),S=d(_,w,E,i.stepped);S[t]=e[t],h.push(S)}return h.length===1?h[0]:h}pathSegment(e,t,i){return Nd(this)(e,this,t,i)}path(e,t,i){const r=this.segments,o=Nd(this);let c=this._loop;t=t||0,i=i||this.points.length-t;for(const h of r)c&=o(e,this,h,{start:t,end:t+i-1});return!!c}draw(e,t,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),DO(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ue(Rs,"id","line"),ue(Rs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ue(Rs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ue(Rs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Yb(n,e,t,i){const r=n.options,{[t]:o}=n.getProps([t],i);return Math.abs(e-o)<r.radius+r.hitRadius}class Fo extends jn{constructor(t){super();ue(this,"parsed");ue(this,"skip");ue(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const o=this.options,{x:c,y:h}=this.getProps(["x","y"],r);return Math.pow(t-c,2)+Math.pow(i-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return Yb(this,t,"x",i)}inYRange(t,i){return Yb(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){const r=this.options;this.skip||r.radius<.1||!Wr(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Od(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ue(Fo,"id","point"),ue(Fo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ue(Fo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $v(n,e){const{x:t,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],e);let h,d,f,p,y;return n.horizontal?(y=c/2,h=Math.min(t,r),d=Math.max(t,r),f=i-y,p=i+y):(y=o/2,h=t-y,d=t+y,f=Math.min(i,r),p=Math.max(i,r)),{left:h,top:f,right:d,bottom:p}}function Ms(n,e,t,i){return n?0:Yt(e,t,i)}function LO(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,o=pv(i);return{t:Ms(r.top,o.top,0,t),r:Ms(r.right,o.right,0,e),b:Ms(r.bottom,o.bottom,0,t),l:Ms(r.left,o.left,0,e)}}function zO(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=ba(r),c=Math.min(e,t),h=n.borderSkipped,d=i||Te(r);return{topLeft:Ms(!d||h.top||h.left,o.topLeft,0,c),topRight:Ms(!d||h.top||h.right,o.topRight,0,c),bottomLeft:Ms(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Ms(!d||h.bottom||h.right,o.bottomRight,0,c)}}function UO(n){const e=$v(n),t=e.right-e.left,i=e.bottom-e.top,r=LO(n,t/2,i/2),o=zO(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function od(n,e,t,i){const r=e===null,o=t===null,h=n&&!(r&&o)&&$v(n,i);return h&&(r||Cs(e,h.left,h.right))&&(o||Cs(t,h.top,h.bottom))}function BO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function HO(n,e){n.rect(e.x,e.y,e.w,e.h)}function cd(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,c=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class Go extends jn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=UO(this),h=BO(c.radius)?ec:HO;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),h(e,cd(c,t,o)),e.clip(),h(e,cd(o,-t,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),h(e,cd(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return od(this,e,t,i)}inXRange(e,t){return od(this,e,null,t)}inYRange(e,t){return od(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ue(Go,"id","bar"),ue(Go,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ue(Go,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function PO(n,e,t){const i=n.segments,r=n.points,o=e.points,c=[];for(const h of i){let{start:d,end:f}=h;f=mc(d,f,r);const p=Rd(t,r[d],r[f],h.loop);if(!e.segments){c.push({source:h,target:p,start:r[d],end:r[f]});continue}const y=Tv(e,p);for(const v of y){const _=Rd(t,o[v.start],o[v.end],v.loop),w=Ev(h,r,_);for(const E of w)c.push({source:E,target:v,start:{[t]:Wb(p,_,"start",Math.max)},end:{[t]:Wb(p,_,"end",Math.min)}})}}return c}function Rd(n,e,t,i){if(i)return;let r=e[n],o=t[n];return n==="angle"&&(r=En(r),o=En(o)),{property:n,start:r,end:o}}function qO(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,o=[];return e.segments.forEach(({start:c,end:h})=>{h=mc(c,h,r);const d=r[c],f=r[h];i!==null?(o.push({x:d.x,y:i}),o.push({x:f.x,y:i})):t!==null&&(o.push({x:t,y:d.y}),o.push({x:t,y:f.y}))}),o}function mc(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Wb(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Vv(n,e){let t=[],i=!1;return rt(n)?(i=!0,t=n):t=qO(n,e),t.length?new Rs({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Kb(n){return n&&n.fill!==!1}function $O(n,e,t){let r=n[e].fill;const o=[e];let c;if(!t)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!St(r))return r;if(c=n[r],!c)return!1;if(c.visible)return r;o.push(r),r=c.fill}return!1}function VO(n,e,t){const i=YO(n);if(Te(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return St(r)&&Math.floor(r)===r?IO(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function IO(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function FO(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Te(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function GO(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:Te(n)?i=n.value:i=e.getBaseValue(),i}function YO(n){const e=n.options,t=e.fill;let i=pe(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function WO(n){const{scale:e,index:t,line:i}=n,r=[],o=i.segments,c=i.points,h=KO(e,t);h.push(Vv({x:null,y:e.bottom},i));for(let d=0;d<o.length;d++){const f=o[d];for(let p=f.start;p<=f.end;p++)XO(r,c[p],h)}return new Rs({points:r,options:{}})}function KO(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function XO(n,e,t){const i=[];for(let r=0;r<t.length;r++){const o=t[r],{first:c,last:h,point:d}=JO(o,e,"x");if(!(!d||c&&h)){if(c)i.unshift(d);else if(n.push(d),!h)break}}n.push(...i)}function JO(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],o=n.segments,c=n.points;let h=!1,d=!1;for(let f=0;f<o.length;f++){const p=o[f],y=c[p.start][t],v=c[p.end][t];if(Cs(r,y,v)){h=r===y,d=r===v;break}}return{first:h,last:d,point:i}}class Iv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:o,radius:c}=this;return t=t||{start:0,end:bn},e.arc(r,o,c,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,o=e.angle;return{x:t+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function QO(n){const{chart:e,fill:t,line:i}=n;if(St(t))return ZO(e,t);if(t==="stack")return WO(n);if(t==="shape")return!0;const r=eA(n);return r instanceof Iv?r:Vv(r,i)}function ZO(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function eA(n){return(n.scale||{}).getPointPositionForValue?nA(n):tA(n)}function tA(n){const{scale:e={},fill:t}=n,i=FO(t,e);if(St(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function nA(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,c=GO(t,e,o),h=[];if(i.grid.circular){const d=e.getPointPositionForValue(0,o);return new Iv({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(c)})}for(let d=0;d<r;++d)h.push(e.getPointPositionForValue(d,c));return h}function ud(n,e,t){const i=QO(e),{chart:r,index:o,line:c,scale:h,axis:d}=e,f=c.options,p=f.fill,y=f.backgroundColor,{above:v=y,below:_=y}=p||{},w=r.getDatasetMeta(o),E=jv(r,w);i&&c.points.length&&(cc(n,t),sA(n,{line:c,target:i,above:v,below:_,area:t,scale:h,axis:d,clip:E}),uc(n))}function sA(n,e){const{line:t,target:i,above:r,below:o,area:c,scale:h,clip:d}=e,f=t._loop?"angle":e.axis;n.save();let p=o;o!==r&&(f==="x"?(Xb(n,i,c.top),hd(n,{line:t,target:i,color:r,scale:h,property:f,clip:d}),n.restore(),n.save(),Xb(n,i,c.bottom)):f==="y"&&(Jb(n,i,c.left),hd(n,{line:t,target:i,color:o,scale:h,property:f,clip:d}),n.restore(),n.save(),Jb(n,i,c.right),p=r)),hd(n,{line:t,target:i,color:p,scale:h,property:f,clip:d}),n.restore()}function Xb(n,e,t){const{segments:i,points:r}=e;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:d,end:f}=h,p=r[d],y=r[mc(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),c=!!e.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Jb(n,e,t){const{segments:i,points:r}=e;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:d,end:f}=h,p=r[d],y=r[mc(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(t,p.y),n.lineTo(p.x,p.y)),c=!!e.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(t,y.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function hd(n,e){const{line:t,target:i,property:r,color:o,scale:c,clip:h}=e,d=PO(t,i,r);for(const{source:f,target:p,start:y,end:v}of d){const{style:{backgroundColor:_=o}={}}=f,w=i!==!0;n.save(),n.fillStyle=_,iA(n,c,h,w&&Rd(r,y,v)),n.beginPath();const E=!!t.pathSegment(n,f);let S;if(w){E?n.closePath():Qb(n,i,v,r);const T=!!i.pathSegment(n,p,{move:E,reverse:!0});S=E&&T,S||Qb(n,i,y,r)}n.closePath(),n.fill(S?"evenodd":"nonzero"),n.restore()}}function iA(n,e,t,i){const r=e.chart.chartArea,{property:o,start:c,end:h}=i||{};if(o==="x"||o==="y"){let d,f,p,y;o==="x"?(d=c,f=r.top,p=h,y=r.bottom):(d=r.left,f=c,p=r.right,y=h),n.beginPath(),t&&(d=Math.max(d,t.left),p=Math.min(p,t.right),f=Math.max(f,t.top),y=Math.min(y,t.bottom)),n.rect(d,f,p-d,y-f),n.clip()}}function Qb(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var aA={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let o,c,h,d;for(c=0;c<i;++c)o=n.getDatasetMeta(c),h=o.dataset,d=null,h&&h.options&&h instanceof Rs&&(d={visible:n.isDatasetVisible(c),index:c,fill:VO(h,c,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=d,r.push(d);for(c=0;c<i;++c)d=r[c],!(!d||d.fill===!1)&&(d.fill=$O(r,c,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=r.length-1;c>=0;--c){const h=r[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&ud(n.ctx,h,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;Kb(o)&&ud(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Kb(i)||t.drawTime!=="beforeDatasetDraw"||ud(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Zb=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},rA=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class ey extends jn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ve(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=wt(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=Zb(i,o);let f,p;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(c,o,h,d)+10):(p=this.maxHeight,f=this._fitCols(c,r,h,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+h;let y=e;o.textAlign="left",o.textBaseline="middle";let v=-1,_=-p;return this.legendItems.forEach((w,E)=>{const S=i+t/2+o.measureText(w.text).width;(E===0||f[f.length-1]+S+2*h>c)&&(y+=p,f[f.length-(E>0?0:1)]=0,_+=p,v++),d[E]={left:0,top:_,row:v,width:S,height:r},f[f.length-1]+=S+h}),y}_fitCols(e,t,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=c-e;let y=h,v=0,_=0,w=0,E=0;return this.legendItems.forEach((S,T)=>{const{itemWidth:j,itemHeight:A}=lA(i,t,o,S,r);T>0&&_+A+2*h>p&&(y+=v+h,f.push({width:v,height:_}),w+=v+h,E++,v=_=0),d[T]={left:w,top:_,col:E,width:j,height:A},v=Math.max(v,j),_+=A+h}),y+=v,f.push({width:v,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,c=ya(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=_t(i,this.left+r,this.right-this.lineWidths[h]);for(const f of t)h!==f.row&&(h=f.row,d=_t(i,this.left+r,this.right-this.lineWidths[h])),f.top+=this.top+e+r,f.left=c.leftForLtr(c.x(d),f.width),d+=f.width+r}else{let h=0,d=_t(i,this.top+e+r,this.bottom-this.columnSizes[h].height);for(const f of t)f.col!==h&&(h=f.col,d=_t(i,this.top+e+r,this.bottom-this.columnSizes[h].height)),f.top=d,f.left+=this.left+r,f.left=c.leftForLtr(c.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cc(e,this),this._draw(),uc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:c}=e,h=Ze.color,d=ya(e.rtl,this.left,this.width),f=wt(c.font),{padding:p}=c,y=f.size,v=y/2;let _;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:w,boxHeight:E,itemHeight:S}=Zb(c,y),T=function(Y,V,W){if(isNaN(w)||w<=0||isNaN(E)||E<0)return;r.save();const J=pe(W.lineWidth,1);if(r.fillStyle=pe(W.fillStyle,h),r.lineCap=pe(W.lineCap,"butt"),r.lineDashOffset=pe(W.lineDashOffset,0),r.lineJoin=pe(W.lineJoin,"miter"),r.lineWidth=J,r.strokeStyle=pe(W.strokeStyle,h),r.setLineDash(pe(W.lineDash,[])),c.usePointStyle){const he={radius:E*Math.SQRT2/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:J},re=d.xPlus(Y,w/2),ce=V+v;mv(r,he,re,ce,c.pointStyleWidth&&w)}else{const he=V+Math.max((y-E)/2,0),re=d.leftForLtr(Y,w),ce=ba(W.borderRadius);r.beginPath(),Object.values(ce).some(Pe=>Pe!==0)?ec(r,{x:re,y:he,w,h:E,radius:ce}):r.rect(re,he,w,E),r.fill(),J!==0&&r.stroke()}r.restore()},j=function(Y,V,W){Kr(r,W.text,Y,V+S/2,f,{strikethrough:W.hidden,textAlign:d.textAlign(W.textAlign)})},A=this.isHorizontal(),P=this._computeTitleHeight();A?_={x:_t(o,this.left+p,this.right-i[0]),y:this.top+p+P,line:0}:_={x:this.left+p,y:_t(o,this.top+P+p,this.bottom-t[0].height),line:0},wv(this.ctx,e.textDirection);const q=S+p;this.legendItems.forEach((Y,V)=>{r.strokeStyle=Y.fontColor,r.fillStyle=Y.fontColor;const W=r.measureText(Y.text).width,J=d.textAlign(Y.textAlign||(Y.textAlign=c.textAlign)),he=w+v+W;let re=_.x,ce=_.y;d.setWidth(this.width),A?V>0&&re+he+p>this.right&&(ce=_.y+=q,_.line++,re=_.x=_t(o,this.left+p,this.right-i[_.line])):V>0&&ce+q>this.bottom&&(re=_.x=re+t[_.line].width+p,_.line++,ce=_.y=_t(o,this.top+P+p,this.bottom-t[_.line].height));const Pe=d.x(re);if(T(Pe,ce,Y),re=IE(J,re+w+v,A?re+he:this.right,e.rtl),j(d.x(re),ce,Y),A)_.x+=he+p;else if(typeof Y.text!="string"){const Ge=f.lineHeight;_.y+=Fv(Y,Ge)+p}else _.y+=q}),Sv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=wt(t.font),r=cn(t.padding);if(!t.display)return;const o=ya(e.rtl,this.left,this.width),c=this.ctx,h=t.position,d=i.size/2,f=r.top+d;let p,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,y=_t(e.align,y,this.right-v);else{const w=this.columnSizes.reduce((E,S)=>Math.max(E,S.height),0);p=f+_t(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const _=_t(h,y,y+v);c.textAlign=o.textAlign(tf(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=i.string,Kr(c,t.text,_,p,i)}_computeTitleHeight(){const e=this.options.title,t=wt(e.font),i=cn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(Cs(e,this.left,this.right)&&Cs(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Cs(e,r.left,r.left+r.width)&&Cs(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!uA(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=rA(r,i);r&&!o&&Ve(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&Ve(t.onHover,[e,i,this],this)}else i&&Ve(t.onClick,[e,i,this],this)}}function lA(n,e,t,i,r){const o=oA(i,n,e,t),c=cA(r,i,e.lineHeight);return{itemWidth:o,itemHeight:c}}function oA(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+i.measureText(r).width}function cA(n,e,t){let i=n;return typeof e.text!="string"&&(i=Fv(e,t)),i}function Fv(n,e){const t=n.text?n.text.length:0;return e*t}function uA(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var hA={id:"legend",_element:ey,start(n,e,t){const i=n.legend=new ey({ctx:n.ctx,options:t,chart:n});on.configure(n,i,t),on.addBox(n,i)},stop(n){on.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;on.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),p=cn(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:c&&(h||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Gv extends jn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=rt(i.text)?i.text.length:1;this._padding=cn(i.padding);const o=r*wt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:o,options:c}=this,h=c.align;let d=0,f,p,y;return this.isHorizontal()?(p=_t(h,i,o),y=t+e,f=o-i):(c.position==="left"?(p=i+e,y=_t(h,r,t),d=dt*-.5):(p=o-e,y=_t(h,t,r),d=dt*.5),f=r-t),{titleX:p,titleY:y,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=wt(t.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:f}=this._drawArgs(o);Kr(e,t.text,0,0,i,{color:t.color,maxWidth:d,rotation:f,textAlign:tf(t.align),textBaseline:"middle",translation:[c,h]})}}function dA(n,e){const t=new Gv({ctx:n.ctx,options:e,chart:n});on.configure(n,t,e),on.addBox(n,t),n.titleBlock=t}var fA={id:"title",_element:Gv,start(n,e,t){dA(n,t)},stop(n){const e=n.titleBlock;on.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;on.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cr={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const h=n[e].element;if(h&&h.hasValue()){const d=h.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,d)=>h+d)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=Td(e,f);p<r&&(r=p,h=d)}}if(h){const d=h.tooltipPosition();t=d.x,i=d.y}return{x:t,y:i}}};function Sn(n,e){return e&&(rt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Kn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function mA(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function ty(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=e,d=wt(e.bodyFont),f=wt(e.titleFont),p=wt(e.footerFont),y=o.length,v=r.length,_=i.length,w=cn(e.padding);let E=w.height,S=0,T=i.reduce((P,q)=>P+q.before.length+q.lines.length+q.after.length,0);if(T+=n.beforeBody.length+n.afterBody.length,y&&(E+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),T){const P=e.displayColors?Math.max(h,d.lineHeight):d.lineHeight;E+=_*P+(T-_)*d.lineHeight+(T-1)*e.bodySpacing}v&&(E+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let j=0;const A=function(P){S=Math.max(S,t.measureText(P).width+j)};return t.save(),t.font=f.string,Me(n.title,A),t.font=d.string,Me(n.beforeBody.concat(n.afterBody),A),j=e.displayColors?c+2+e.boxPadding:0,Me(i,P=>{Me(P.before,A),Me(P.lines,A),Me(P.after,A)}),j=0,t.font=p.string,Me(n.footer,A),t.restore(),S+=w.width,{width:S,height:E}}function gA(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function pA(n,e,t,i){const{x:r,width:o}=i,c=t.caretSize+t.caretPadding;if(n==="left"&&r+o+c>e.width||n==="right"&&r-o-c<0)return!0}function bA(n,e,t,i){const{x:r,width:o}=t,{width:c,chartArea:{left:h,right:d}}=n;let f="center";return i==="center"?f=r<=(h+d)/2?"left":"right":r<=o/2?f="left":r>=c-o/2&&(f="right"),pA(f,n,e,t)&&(f="center"),f}function ny(n,e,t){const i=t.yAlign||e.yAlign||gA(n,t);return{xAlign:t.xAlign||e.xAlign||bA(n,e,t,i),yAlign:i}}function yA(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function vA(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function sy(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:d}=t,f=r+o,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:_}=ba(c);let w=yA(e,h);const E=vA(e,d,f);return d==="center"?h==="left"?w+=f:h==="right"&&(w-=f):h==="left"?w-=Math.max(p,v)+r:h==="right"&&(w+=Math.max(y,_)+r),{x:Yt(w,0,i.width-e.width),y:Yt(E,0,i.height-e.height)}}function zo(n,e,t){const i=cn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function iy(n){return Sn([],Kn(n))}function xA(n,e,t){return vi(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function ay(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Yv={beforeTitle:Yn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Yn,beforeBody:Yn,beforeLabel:Yn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ce(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Yn,afterBody:Yn,beforeFooter:Yn,footer:Yn,afterFooter:Yn};function Rt(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?Yv[e].call(t,i):r}class Md extends jn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new Ov(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=xA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Rt(i,"beforeTitle",this,e),o=Rt(i,"title",this,e),c=Rt(i,"afterTitle",this,e);let h=[];return h=Sn(h,Kn(r)),h=Sn(h,Kn(o)),h=Sn(h,Kn(c)),h}getBeforeBody(e,t){return iy(Rt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Me(e,o=>{const c={before:[],lines:[],after:[]},h=ay(i,o);Sn(c.before,Kn(Rt(h,"beforeLabel",this,o))),Sn(c.lines,Rt(h,"label",this,o)),Sn(c.after,Kn(Rt(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,t){return iy(Rt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Rt(i,"beforeFooter",this,e),o=Rt(i,"footer",this,e),c=Rt(i,"afterFooter",this,e);let h=[];return h=Sn(h,Kn(r)),h=Sn(h,Kn(o)),h=Sn(h,Kn(c)),h}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],d,f;for(d=0,f=t.length;d<f;++d)h.push(mA(this.chart,t[d]));return e.filter&&(h=h.filter((p,y,v)=>e.filter(p,y,v,i))),e.itemSort&&(h=h.sort((p,y)=>e.itemSort(p,y,i))),Me(h,p=>{const y=ay(e.callbacks,p);r.push(Rt(y,"labelColor",this,p)),o.push(Rt(y,"labelPointStyle",this,p)),c.push(Rt(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Cr[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const d=this._size=ty(this,i),f=Object.assign({},h,d),p=ny(this.chart,i,f),y=sy(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:y}=ba(h),{x:v,y:_}=e,{width:w,height:E}=t;let S,T,j,A,P,q;return o==="center"?(P=_+E/2,r==="left"?(S=v,T=S-c,A=P+c,q=P-c):(S=v+w,T=S+c,A=P-c,q=P+c),j=S):(r==="left"?T=v+Math.max(d,p)+c:r==="right"?T=v+w-Math.max(f,y)-c:T=this.caretX,o==="top"?(A=_,P=A-c,S=T-c,j=T+c):(A=_+E,P=A+c,S=T+c,j=T-c),q=A),{x1:S,x2:T,x3:j,y1:A,y2:P,y3:q}}drawTitle(e,t,i){const r=this.title,o=r.length;let c,h,d;if(o){const f=ya(i.rtl,this.x,this.width);for(e.x=zo(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",c=wt(i.titleFont),h=i.titleSpacing,t.fillStyle=i.titleColor,t.font=c.string,d=0;d<o;++d)t.fillText(r[d],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,d+1===o&&(e.y+=i.titleMarginBottom-h)}}_drawColorBox(e,t,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,p=wt(o.bodyFont),y=zo(this,"left",o),v=r.x(y),_=d<p.lineHeight?(p.lineHeight-d)/2:0,w=t.y+_;if(o.usePointStyle){const E={radius:Math.min(f,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},S=r.leftForLtr(v,f)+f/2,T=w+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Od(e,E,S,T),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Od(e,E,S,T)}else{e.lineWidth=Te(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const E=r.leftForLtr(v,f),S=r.leftForLtr(r.xPlus(v,1),f-2),T=ba(c.borderRadius);Object.values(T).some(j=>j!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,ec(e,{x:E,y:w,w:f,h:d,radius:T}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),ec(e,{x:S,y:w+1,w:f-2,h:d-2,radius:T}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(E,w,f,d),e.strokeRect(E,w,f,d),e.fillStyle=c.backgroundColor,e.fillRect(S,w+1,f-2,d-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:f,boxPadding:p}=i,y=wt(i.bodyFont);let v=y.lineHeight,_=0;const w=ya(i.rtl,this.x,this.width),E=function(W){t.fillText(W,w.x(e.x+_),e.y+v/2),e.y+=v+o},S=w.textAlign(c);let T,j,A,P,q,Y,V;for(t.textAlign=c,t.textBaseline="middle",t.font=y.string,e.x=zo(this,S,i),t.fillStyle=i.bodyColor,Me(this.beforeBody,E),_=h&&S!=="right"?c==="center"?f/2+p:f+2+p:0,P=0,Y=r.length;P<Y;++P){for(T=r[P],j=this.labelTextColors[P],t.fillStyle=j,Me(T.before,E),A=T.lines,h&&A.length&&(this._drawColorBox(t,e,P,w,i),v=Math.max(y.lineHeight,d)),q=0,V=A.length;q<V;++q)E(A[q]),v=y.lineHeight;Me(T.after,E)}_=0,v=y.lineHeight,Me(this.afterBody,E),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let c,h;if(o){const d=ya(i.rtl,this.x,this.width);for(e.x=zo(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=d.textAlign(i.footerAlign),t.textBaseline="middle",c=wt(i.footerFont),t.fillStyle=i.footerColor,t.font=c.string,h=0;h<o;++h)t.fillText(r[h],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=e,{width:f,height:p}=i,{topLeft:y,topRight:v,bottomLeft:_,bottomRight:w}=ba(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(h+y,d),c==="top"&&this.drawCaret(e,t,i,r),t.lineTo(h+f-v,d),t.quadraticCurveTo(h+f,d,h+f,d+v),c==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(h+f,d+p-w),t.quadraticCurveTo(h+f,d+p,h+f-w,d+p),c==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(h+_,d+p),t.quadraticCurveTo(h,d+p,h,d+p-_),c==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(h,d+y),t.quadraticCurveTo(h,d,h+y,d),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Cr[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=ty(this,e),d=Object.assign({},c,this._size),f=ny(t,e,d),p=sy(e,d,f,t);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=cn(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),wv(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),Sv(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:h,index:d})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[d],index:d}}),o=!Jo(i,r),c=this._positionChanged(r,t);(o||c)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,i),h=this._positionChanged(c,e),d=t||!Jo(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,c=Cr[o.position].call(this,e,t);return c!==!1&&(i!==c.x||r!==c.y)}}ue(Md,"positioners",Cr);var _A={id:"tooltip",_element:Md,positioners:Cr,afterInit(n,e,t){t&&(n.tooltip=new Md({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wA=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function SA(n,e,t,i){const r=n.indexOf(e);if(r===-1)return wA(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const kA=(n,e)=>n===null?null:Yt(Math.round(n),0,e);function ry(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Dd extends Ea{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ce(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:SA(i,e,pe(t,e),this._addedLabels),kA(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=t;c++)r.push({value:c});return r}getLabelForValue(e){return ry.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ue(Dd,"id","category"),ue(Dd,"defaults",{ticks:{callback:ry}});function EA(n,e){const t=[],{bounds:r,step:o,min:c,max:h,precision:d,count:f,maxTicks:p,maxDigits:y,includeBounds:v}=n,_=o||1,w=p-1,{min:E,max:S}=e,T=!Ce(c),j=!Ce(h),A=!Ce(f),P=(S-E)/(y+1);let q=sb((S-E)/w/_)*_,Y,V,W,J;if(q<1e-14&&!T&&!j)return[{value:E},{value:S}];J=Math.ceil(S/q)-Math.floor(E/q),J>w&&(q=sb(J*q/w/_)*_),Ce(d)||(Y=Math.pow(10,d),q=Math.ceil(q*Y)/Y),r==="ticks"?(V=Math.floor(E/q)*q,W=Math.ceil(S/q)*q):(V=E,W=S),T&&j&&o&&DE((h-c)/o,q/1e3)?(J=Math.round(Math.min((h-c)/q,p)),q=(h-c)/J,V=c,W=h):A?(V=T?c:V,W=j?h:W,J=f-1,q=(W-V)/J):(J=(W-V)/q,Dr(J,Math.round(J),q/1e3)?J=Math.round(J):J=Math.ceil(J));const he=Math.max(ib(q),ib(V));Y=Math.pow(10,Ce(d)?he:d),V=Math.round(V*Y)/Y,W=Math.round(W*Y)/Y;let re=0;for(T&&(v&&V!==c?(t.push({value:c}),V<c&&re++,Dr(Math.round((V+re*q)*Y)/Y,c,ly(c,P,n))&&re++):V<c&&re++);re<J;++re){const ce=Math.round((V+re*q)*Y)/Y;if(j&&ce>h)break;t.push({value:ce})}return j&&v&&W!==h?t.length&&Dr(t[t.length-1].value,h,ly(h,P,n))?t[t.length-1].value=h:t.push({value:h}):(!j||W===h)&&t.push({value:W}),t}function ly(n,e,{horizontal:t,minRotation:i}){const r=mi(i),o=(t?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+n).length;return Math.min(e/o,c)}class TA extends Ea{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ce(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=d=>r=t?r:d,h=d=>o=i?o:d;if(e){const d=Tn(r),f=Tn(o);d<0&&f<0?h(0):d>0&&f>0&&c(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),e||c(r-d)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,c=EA(r,o);return e.bounds==="ticks"&&LE(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return dv(e,this.chart.options.locale,this.options.ticks.format)}}class Ld extends TA{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=St(e)?e:0,this.max=St(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=mi(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ue(Ld,"id","linear"),ue(Ld,"defaults",{ticks:{callback:fv.formatters.numeric}});const gc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mt=Object.keys(gc);function oy(n,e){return n-e}function cy(n,e){if(Ce(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),St(c)||(c=typeof i=="string"?t.parse(c,i):t.parse(c)),c===null?null:(r&&(c=r==="week"&&(Yr(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,r)),+c)}function uy(n,e,t,i){const r=Mt.length;for(let o=Mt.indexOf(n);o<r-1;++o){const c=gc[Mt[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=i)return Mt[o]}return Mt[r-1]}function jA(n,e,t,i,r){for(let o=Mt.length-1;o>=Mt.indexOf(t);o--){const c=Mt[o];if(gc[c].common&&n._adapter.diff(r,i,c)>=e-1)return c}return Mt[t?Mt.indexOf(t):0]}function OA(n){for(let e=Mt.indexOf(n)+1,t=Mt.length;e<t;++e)if(gc[Mt[e]].common)return Mt[e]}function hy(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=ef(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function AA(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),c=e[e.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,i))d=t[h],d>=0&&(e[d].major=!0);return e}function dy(n,e,t){const i=[],r={},o=e.length;let c,h;for(c=0;c<o;++c)h=e[c],r[h]=c,i.push({value:h,major:!1});return o===0||!t?i:AA(n,i,r,t)}class sc extends Ea{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new bj._date(e.adapters.date);r.init(t),Mr(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:cy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!h&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!h)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=St(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=St(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=qE(r,o,c);return this._unit=t.unit||(i.autoSkip?uy(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):jA(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:OA(this._unit),this.initOffsets(r),e.reverse&&h.reverse(),dy(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=Yt(t,0,c),i=Yt(i,0,c),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||uy(o.minUnit,t,i,this._getLabelCapacity(t)),h=pe(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,f=Yr(d)||d===!0,p={};let y=t,v,_;if(f&&(y=+e.startOf(y,"isoWeek",d)),y=+e.startOf(y,f?"day":c),e.diff(i,t,c)>1e5*h)throw new Error(t+" and "+i+" are too far apart with stepSize of "+h+" "+c);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(v=y,_=0;v<i;v=+e.add(v,h,c),_++)hy(p,v,w);return(v===i||r.bounds==="ticks"||_===1)&&hy(p,v,w),Object.keys(p).sort(oy).map(E=>+E)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,c=t||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,i,r){const o=this.options,c=o.ticks.callback;if(c)return Ve(c,[e,t,i],this);const h=o.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&h[d],y=f&&h[f],v=i[t],_=f&&y&&v&&v.major;return this._adapter.format(e,r||(_?y:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=mi(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,dy(this,[e],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(cy(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return cv(e.sort(oy))}}ue(sc,"id","time"),ue(sc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Uo(n,e,t){let i=0,r=n.length-1,o,c,h,d;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=gi(n,"pos",e)),{pos:o,time:h}=n[i],{pos:c,time:d}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=gi(n,"time",e)),{time:o,pos:h}=n[i],{time:c,pos:d}=n[r]);const f=c-o;return f?h+(d-h)*(e-o)/f:h}class fy extends sc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Uo(t,this.min),this._tableRange=Uo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let c,h,d,f,p;for(c=0,h=e.length;c<h;++c)f=e[c],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)p=r[c+1],d=r[c-1],f=r[c],Math.round((p+d)/2)!==f&&o.push({time:f,pos:c/(h-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Uo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Uo(this._table,i*this._tableRange+this._minPos,!0)}}ue(fy,"id","timeseries"),ue(fy,"defaults",sc.defaults);const Wv="label";function my(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function CA(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Kv(n,e){n.labels=e}function Xv(n,e,t=Wv){const i=[];n.datasets=e.map(r=>{const o=n.datasets.find(c=>c[t]===r[t]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function NA(n,e=Wv){const t={labels:[],datasets:[]};return Kv(t,n.labels),Xv(t,n.datasets,e),t}function RA(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:f=[],fallbackContent:p,updateMode:y,...v}=n,_=R.useRef(null),w=R.useRef(null),E=()=>{_.current&&(w.current=new fc(_.current,{type:c,data:NA(h,o),options:d&&{...d},plugins:f}),my(e,w.current))},S=()=>{my(e,null),w.current&&(w.current.destroy(),w.current=null)};return R.useEffect(()=>{!r&&w.current&&d&&CA(w.current,d)},[r,d]),R.useEffect(()=>{!r&&w.current&&Kv(w.current.config.data,h.labels)},[r,h.labels]),R.useEffect(()=>{!r&&w.current&&h.datasets&&Xv(w.current.config.data,h.datasets,o)},[r,h.datasets]),R.useEffect(()=>{w.current&&(r?(S(),setTimeout(E)):w.current.update(y))},[r,d,h.labels,h.datasets,y]),R.useEffect(()=>{w.current&&(S(),setTimeout(E))},[c]),R.useEffect(()=>(E(),()=>S()),[]),b.jsx("canvas",{ref:_,role:"img",height:t,width:i,...v,children:p})}const MA=R.forwardRef(RA);function Jv(n,e){return fc.register(e),R.forwardRef((t,i)=>b.jsx(MA,{...t,ref:i,type:n}))}const DA=Jv("line",$o),LA=Jv("bar",qo);fc.register(Dd,Ld,Fo,Rs,Go,fA,_A,hA,aA);const zA=()=>{const[n,e]=R.useState(null),[t,i]=R.useState(null),[r,o]=R.useState(null),[c,h]=R.useState(!0);R.useEffect(()=>{d()},[]);const d=async()=>{h(!0);const[_,w,E]=await Promise.all([ht.getDashboardStats(),ht.getSalesChartData(7),ht.getCategoryStats()]);e(_),i(w),o(E),h(!1)},f=document.documentElement.classList.contains("dark"),p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:_=>`${_.parsed.y.toFixed(2)}`}}},scales:{x:{grid:{display:!1},ticks:{color:f?"#94a3b8":"#64748b"}},y:{grid:{color:f?"#334155":"#e2e8f0"},ticks:{color:f?"#94a3b8":"#64748b",callback:_=>`${_}`}}}},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:f?"#94a3b8":"#64748b"}},y:{grid:{color:f?"#334155":"#e2e8f0"},ticks:{color:f?"#94a3b8":"#64748b"}}}};if(c)return b.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-64px)]",children:b.jsxs("div",{className:"text-center",children:[b.jsxs("svg",{className:"animate-spin h-12 w-12 mx-auto text-blue-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading dashboard..."})]})});const v=()=>{const w=`
DISNEY TROPHY & GIFTS
DAILY SUMMARY REPORT


Date: ${new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}
Generated: ${new Date().toLocaleTimeString("en-IN")}


SALES OVERVIEW


Today's Revenue:     ${(n==null?void 0:n.todayRevenue.toFixed(2))||"0.00"}
Today's Sales:       ${(n==null?void 0:n.todaySalesCount)||0} transactions

This Week:           ${(n==null?void 0:n.weekRevenue.toFixed(2))||"0.00"}
Week Sales:          ${(n==null?void 0:n.weekSalesCount)||0} transactions

This Month:          ${(n==null?void 0:n.monthRevenue.toFixed(2))||"0.00"}
Month Sales:         ${(n==null?void 0:n.monthSalesCount)||0} transactions


INVENTORY STATUS


Total Products:      ${(n==null?void 0:n.totalProducts)||0}
Low Stock Items:     ${(n==null?void 0:n.lowStockCount)||0}

${n!=null&&n.lowStockProducts&&n.lowStockProducts.length>0?`LOW STOCK ALERT:
${n.lowStockProducts.map(j=>`   ${j.name} (${j.stock_quantity} left)`).join(`
`)}`:"All products well-stocked "}


        `.trim(),E=new Blob([w],{type:"text/plain;charset=utf-8;"}),S=URL.createObjectURL(E),T=document.createElement("a");T.href=S,T.download=`daily-summary-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(S)};return b.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto h-[calc(100vh-64px)] overflow-y-auto",children:[b.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-1",children:"Dashboard"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Welcome back! Here's your business overview."})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:v,className:"px-4 py-2 text-sm font-medium bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors flex items-center shadow-sm",children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Daily Report"]}),b.jsxs("button",{onClick:async()=>{const _=await ht.exportAllData(),w=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),E=URL.createObjectURL(w),S=document.createElement("a");S.href=E,S.download=`disney-pos-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(E)},className:"px-4 py-2 text-sm font-medium bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center shadow-sm",children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Backup"]}),b.jsxs("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors flex items-center",children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Today's Revenue"}),b.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["",n==null?void 0:n.todayRevenue.toFixed(2)]}),b.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[n==null?void 0:n.todaySalesCount," sales"]})]}),b.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center",children:b.jsx("svg",{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"This Week"}),b.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["",n==null?void 0:n.weekRevenue.toFixed(2)]}),b.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[n==null?void 0:n.weekSalesCount," sales"]})]}),b.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:b.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"This Month"}),b.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["",n==null?void 0:n.monthRevenue.toFixed(2)]}),b.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[n==null?void 0:n.monthSalesCount," sales"]})]}),b.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:b.jsx("svg",{className:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),b.jsx("div",{className:`rounded-xl shadow-sm border p-5 ${n!=null&&n.lowStockCount&&n.lowStockCount>0?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Low Stock Items"}),b.jsx("p",{className:`text-2xl font-bold ${n!=null&&n.lowStockCount&&n.lowStockCount>0?"text-red-600 dark:text-red-400":"text-slate-900 dark:text-white"}`,children:n==null?void 0:n.lowStockCount}),b.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["of ",n==null?void 0:n.totalProducts," products"]})]}),b.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${n!=null&&n.lowStockCount&&n.lowStockCount>0?"bg-red-100 dark:bg-red-900/50":"bg-slate-100 dark:bg-slate-700"}`,children:b.jsx("svg",{className:`w-6 h-6 ${n!=null&&n.lowStockCount&&n.lowStockCount>0?"text-red-600 dark:text-red-400":"text-slate-600 dark:text-slate-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[b.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center",children:[b.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),"Sales Trend (Last 7 Days)"]}),b.jsx("div",{className:"h-64",children:t&&b.jsx(DA,{data:{labels:t.labels,datasets:[{data:t.data,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#3b82f6",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4}]},options:p})})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[b.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center",children:[b.jsxs("svg",{className:"w-5 h-5 mr-2 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),"Products by Category"]}),b.jsx("div",{className:"h-64",children:r&&b.jsx(LA,{data:{labels:r.labels,datasets:[{data:r.counts,backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(236, 72, 153, 0.8)"],borderRadius:6}]},options:y})})]})]}),(n==null?void 0:n.lowStockProducts)&&n.lowStockProducts.length>0&&b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[b.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center",children:[b.jsx("svg",{className:"w-5 h-5 mr-2 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Low Stock Alert"]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.lowStockProducts.map(_=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-100 dark:border-red-800",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-slate-900 dark:text-white text-sm",children:_.name}),b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:_.sku})]}),b.jsxs("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 text-xs font-bold rounded-full",children:[_.stock_quantity," left"]})]},_.id))})]})]})},UA=()=>{const[n,e]=R.useState([]),[t,i]=R.useState([]),[r,o]=R.useState(!0),[c,h]=R.useState(!1),[d,f]=R.useState({sale_id:"",reason:"",refund_amount:""});R.useEffect(()=>{p()},[]);const p=async()=>{o(!0);const[S,T]=await Promise.all([ht.getReturns(),ht.getSales()]);e(S),i(T),o(!1)},y=async S=>{S.preventDefault(),!(!d.sale_id||!d.refund_amount)&&(await ht.createReturn({sale_id:d.sale_id,reason:d.reason||void 0,refund_amount:parseFloat(d.refund_amount)}),f({sale_id:"",reason:"",refund_amount:""}),h(!1),p())},v=async S=>{await ht.approveReturn(S),p()},_=async S=>{await ht.rejectReturn(S),p()},w=S=>new Date(S).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),E=S=>{switch(S){case"APPROVED":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"REJECTED":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}};return b.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto h-[calc(100vh-64px)] overflow-y-auto",children:[b.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Returns & Refunds"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Manage product returns and process refunds."})]}),b.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center shadow-sm",children:[b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Return"]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5",children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Pending"}),b.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:n.filter(S=>S.status==="PENDING").length})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5",children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Approved"}),b.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:n.filter(S=>S.status==="APPROVED").length})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-5",children:[b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Total Refunded"}),b.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["",n.filter(S=>S.status==="APPROVED").reduce((S,T)=>S+Number(T.refund_amount),0).toFixed(2)]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[b.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:b.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Return Requests"})}),r?b.jsx("div",{className:"p-12 text-center",children:b.jsxs("svg",{className:"animate-spin h-8 w-8 mx-auto text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):n.length===0?b.jsxs("div",{className:"p-12 text-center",children:[b.jsx("svg",{className:"w-16 h-16 mx-auto text-slate-300 dark:text-slate-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No return requests"})]}):b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[b.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase",children:"Date"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase",children:"Sale Info"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase",children:"Reason"}),b.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase",children:"Refund"}),b.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-300 uppercase",children:"Status"}),b.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-300 uppercase",children:"Actions"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(S=>{var T,j;return b.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300",children:w(S.created_at)}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[b.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:((T=S.sale)==null?void 0:T.customer_name)||"Walk-in"}),b.jsxs("div",{className:"text-xs text-slate-500",children:["",Number(((j=S.sale)==null?void 0:j.total_amount)||0).toFixed(2)]})]}),b.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 max-w-xs truncate",children:S.reason||"-"}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-red-600 dark:text-red-400",children:["-",Number(S.refund_amount).toFixed(2)]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:b.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E(S.status)}`,children:S.status})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:S.status==="PENDING"&&b.jsxs("div",{className:"flex justify-end space-x-2",children:[b.jsx("button",{onClick:()=>v(S.id),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-xs font-medium",children:"Approve"}),b.jsx("button",{onClick:()=>_(S.id),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-xs font-medium",children:"Reject"})]})})]},S.id)})})]})})]}),c&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[b.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:b.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Create Return Request"})}),b.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Select Sale"}),b.jsxs("select",{value:d.sale_id,onChange:S=>f({...d,sale_id:S.target.value}),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white py-2 px-3",required:!0,children:[b.jsx("option",{value:"",children:"Choose a sale..."}),t.slice(0,20).map(S=>b.jsxs("option",{value:S.id,children:[S.customer_name||"Walk-in"," - ",Number(S.total_amount).toFixed(2)," (",new Date(S.created_at).toLocaleDateString(),")"]},S.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Refund Amount ()"}),b.jsx("input",{type:"number",step:"0.01",value:d.refund_amount,onChange:S=>f({...d,refund_amount:S.target.value}),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white py-2 px-3",placeholder:"0.00",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Reason (Optional)"}),b.jsx("textarea",{value:d.reason,onChange:S=>f({...d,reason:S.target.value}),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white py-2 px-3",rows:3,placeholder:"Reason for return..."})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 py-2 px-4 bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-lg font-medium hover:bg-slate-300 dark:hover:bg-slate-600",children:"Cancel"}),b.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Submit"})]})]})]})})]})},BA=({onComplete:n})=>{const[e,t]=R.useState(!1);return R.useEffect(()=>{const i=setTimeout(()=>{t(!0),setTimeout(n,500)},2500);return()=>clearTimeout(i)},[n]),b.jsxs("div",{className:`fixed inset-0 z-[100] bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 flex flex-col items-center justify-center transition-opacity duration-500 ${e?"opacity-0":"opacity-100"}`,children:[b.jsx("div",{className:"animate-bounce-in",children:b.jsx("div",{className:"w-32 h-32 bg-white/10 backdrop-blur-sm rounded-3xl flex items-center justify-center mb-8 shadow-2xl border border-white/20",children:b.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),b.jsx("h1",{className:"text-5xl font-bold text-white mb-3 tracking-tight animate-slide-up",children:"Disni Designs"}),b.jsxs("div",{className:"animate-slide-up text-center",style:{animationDelay:"0.1s"},children:[b.jsx("p",{className:"text-blue-200 text-sm font-medium",children:"Trophy | Flex | Banner | Vinyl"}),b.jsx("p",{className:"text-blue-200 text-sm font-medium mt-0.5",children:"Laser & Cloth Printing"})]}),b.jsxs("div",{className:"mt-12 flex space-x-2",children:[b.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),b.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),b.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),b.jsx("div",{className:"absolute bottom-8 text-center",children:b.jsxs("p",{className:"text-blue-300/60 text-xs",children:["powered by ",b.jsx("span",{className:"font-semibold text-blue-200/80",children:"AstriOrb"})]})})]})},HA="041995",PA=({isOpen:n,onSuccess:e})=>{const[t,i]=R.useState(""),[r,o]=R.useState(""),[c,h]=R.useState(!1);if(!n)return null;const d=async f=>{f.preventDefault(),o(""),h(!0),await new Promise(p=>setTimeout(p,300)),t===HA?(sessionStorage.setItem("disney_billing_auth","true"),i(""),e()):o("Incorrect password"),h(!1)};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-fade-in",children:[b.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/20",children:b.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),b.jsx("h2",{className:"text-xl font-bold text-white",children:"Disni Designs POS"}),b.jsx("p",{className:"text-blue-200 text-sm mt-1",children:"Enter password to continue"})]}),b.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Password"}),b.jsx("input",{type:"password",value:t,onChange:f=>i(f.target.value),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white py-3 px-4 text-center text-xl tracking-widest focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",autoFocus:!0,required:!0})]}),r&&b.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r]}),b.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center",children:c?b.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Unlock"})]}),b.jsx("div",{className:"px-6 py-3 bg-slate-50 dark:bg-slate-700/50 border-t border-slate-200 dark:border-slate-700 text-center",children:b.jsxs("span",{className:"text-[10px] text-slate-400 dark:text-slate-500",children:["powered by ",b.jsx("span",{className:"font-medium text-blue-500",children:"AstriOrb"})]})})]})})},Bo=({children:n})=>{const{isAdmin:e}=Id();return e?b.jsx(b.Fragment,{children:n}):b.jsx(Ry,{to:"/",replace:!0})},qA=()=>{const[n,e]=R.useState(!0),[t,i]=R.useState(()=>sessionStorage.getItem("disney_billing_auth")==="true");return n?b.jsx(BA,{onComplete:()=>e(!1)}):t?b.jsx(t2,{children:b.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[b.jsx(Kk,{}),b.jsx("main",{className:"flex-1 overflow-hidden",children:b.jsxs(N1,{children:[b.jsx(li,{path:"/",element:b.jsx(Qk,{})}),b.jsx(li,{path:"/dashboard",element:b.jsx(Bo,{children:b.jsx(zA,{})})}),b.jsx(li,{path:"/inventory",element:b.jsx(Bo,{children:b.jsx(Zk,{})})}),b.jsx(li,{path:"/sales",element:b.jsx(Bo,{children:b.jsx(eE,{})})}),b.jsx(li,{path:"/returns",element:b.jsx(Bo,{children:b.jsx(UA,{})})}),b.jsx(li,{path:"*",element:b.jsx(Ry,{to:"/",replace:!0})})]})})]})}):b.jsx(PA,{isOpen:!0,onSuccess:()=>i(!0)})},$A=()=>b.jsx(d2,{children:b.jsx(qA,{})}),Qv=document.getElementById("root");if(!Qv)throw new Error("Could not find root element to mount to");const VA=Dw.createRoot(Qv);VA.render(b.jsx(py.StrictMode,{children:b.jsx($A,{})}));
